{"meta":{"title":"Zh's Blog","subtitle":null,"description":"å¤šæ€»ç»“ï¼Œå¤šæ€è€ƒ","author":"Zh","url":"http://yoursite.com"},"pages":[{"title":"","date":"2022-06-06T03:22:14.527Z","updated":"2022-06-06T03:22:14.527Z","comments":false,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"About Meç°å±…æ­å·ï¼Œè®¡ç®—æœºè§†è§‰åœ¨è¯»ç ”ç©¶ç”Ÿï¼Œå‰ç«¯å·¥ç¨‹å¸ˆ"},{"title":"","date":"2022-06-06T03:22:14.528Z","updated":"2022-06-06T03:22:14.528Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"","date":"2022-06-06T03:22:14.556Z","updated":"2022-06-06T03:22:14.556Z","comments":false,"path":"links/index.html","permalink":"http://yoursite.com/links/index.html","excerpt":"","text":""},{"title":"","date":"2022-06-06T03:22:14.557Z","updated":"2022-06-06T03:22:14.557Z","comments":false,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"React Nativeä¸­æ¸²æŸ“çš„å‘","slug":"React Nativeä¸­æ¸²æŸ“çš„å‘","date":"2022-06-06T03:55:00.000Z","updated":"2022-06-06T06:08:30.130Z","comments":true,"path":"2022/06/06/React Nativeä¸­æ¸²æŸ“çš„å‘/","link":"","permalink":"http://yoursite.com/2022/06/06/React%20Native%E4%B8%AD%E6%B8%B2%E6%9F%93%E7%9A%84%E5%9D%91/","excerpt":"","text":"è§£å†³æ–¹æ¡ˆæ¥è‡ªStackOverflow é—®é¢˜å½“React Nativeä» 0.54 å‡çº§åˆ° 0.57ï¼Œä»£ç æŠ¥äº†ä»¥ä¸‹é”™è¯¯ Invariant Violation: Text strings must be rendered within a &lt;Text&gt; component ä¹ä¸€çœ‹å¥½åƒæ˜¯æ–‡æœ¬æ²¡æœ‰å†™åœ¨&lt;Text&gt;æ ‡ç­¾é‡Œï¼ŒæŸ¥äº†ä¸€ä¸‹ä»£ç å‘ç°æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚æœ€åç½‘ä¸Šæœç´¢åè§£å†³ ä»¥ä¸‹ä¸ºä¼ªä»£ç ï¼š 1condition &amp;&amp; &lt;MyComponent /&gt;; éœ€è¦ä¿®æ”¹ä¸ºï¼š 1condition ? &lt;MyComponent /&gt; : null; è¿™æ˜¯å› ä¸ºconditionä¸ºundefinedæ—¶ï¼Œå°†ä¸ä¼šæ¸²æŸ“ä»»ä½•ç»„ä»¶ï¼Œè€Œnullæˆ–ç©ºæ•°ç»„å¯ä»¥å®‰å…¨çš„æ˜¾ç¤ºç©ºç™½åŒºåŸŸ Tips: undefined &amp;&amp; true ä¸ true &amp;&amp; undefined çš„ç»“æœéƒ½ä¸º undefined","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"React Native","slug":"React-Native","permalink":"http://yoursite.com/tags/React-Native/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"}]},{"title":"å‰ç«¯æ¨¡å—åŒ–è§„èŒƒ","slug":"å‰ç«¯æ¨¡å—åŒ–è§„èŒƒ","date":"2022-04-14T13:32:24.000Z","updated":"2022-04-18T13:55:31.313Z","comments":true,"path":"2022/04/14/å‰ç«¯æ¨¡å—åŒ–è§„èŒƒ/","link":"","permalink":"http://yoursite.com/2022/04/14/%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E8%A7%84%E8%8C%83/","excerpt":"","text":"å‰è¨€æ¨¡å—åŒ–å¯ä»¥æé«˜ä»£ç å¤ç”¨ç‡ï¼Œæ–¹ä¾¿è¿›è¡Œä»£ç çš„ç®¡ç†ã€‚é€šå¸¸ä¸€ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸï¼Œåªå‘å¤–æš´éœ²ç‰¹å®šçš„å˜é‡å’Œå‡½æ•°ã€‚ç›®å‰æµè¡Œçš„jsæ¨¡å—åŒ–è§„èŒƒæœ‰CommonJSã€AMDã€CMDä»¥åŠES6çš„æ¨¡å—ç³»ç»Ÿ CommonJSNode.jsæ˜¯commonJSè§„èŒƒçš„ä¸»è¦å®è·µè€…ï¼Œå®ƒæœ‰å››ä¸ªé‡è¦çš„ç¯å¢ƒå˜é‡ä¸ºæ¨¡å—åŒ–çš„å®ç°æä¾›æ”¯æŒï¼šmoduleã€exportsã€requireã€globalã€‚å®é™…ä½¿ç”¨æ—¶ï¼Œç”¨module.exportså®šä¹‰å½“å‰æ¨¡å—å¯¹å¤–è¾“å‡ºçš„æ¥å£ï¼ˆä¸æ¨èç›´æ¥ç”¨exportsï¼‰ï¼Œç”¨requireåŠ è½½æ¨¡å—ã€‚ 1234567891011121314151617// å®šä¹‰æ¨¡å—math.jsvar basicNum = 0;function add(a, b) &#123; return a + b;&#125;module.exports = &#123; //åœ¨è¿™é‡Œå†™ä¸Šéœ€è¦å‘å¤–æš´éœ²çš„å‡½æ•°ã€å˜é‡ add: add, basicNum: basicNum&#125;// å¼•ç”¨è‡ªå®šä¹‰çš„æ¨¡å—æ—¶ï¼Œå‚æ•°åŒ…å«è·¯å¾„ï¼Œå¯çœç•¥.jsvar math = require(&#x27;./math&#x27;);math.add(2, 5);// å¼•ç”¨æ ¸å¿ƒæ¨¡å—æ—¶ï¼Œä¸éœ€è¦å¸¦è·¯å¾„var http = require(&#x27;http&#x27;);http.createService(...).listen(3000); commonJSç”¨åŒæ­¥çš„æ–¹å¼åŠ è½½æ¨¡å—ã€‚åœ¨æœåŠ¡ç«¯ï¼Œæ¨¡å—æ–‡ä»¶éƒ½å­˜åœ¨æœ¬åœ°ç£ç›˜ï¼Œè¯»å–éå¸¸å¿«ï¼Œæ‰€ä»¥è¿™æ ·åšä¸ä¼šæœ‰é—®é¢˜ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨ç«¯ï¼Œé™äºç½‘ç»œåŸå› ï¼Œæ›´åˆç†çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨å¼‚æ­¥åŠ è½½ã€‚ AMDå’ŒrequireJSAMDè§„èŒƒé‡‡ç”¨å¼‚æ­¥æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“å®ƒåé¢è¯­å¥çš„è¿è¡Œã€‚æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥ï¼Œéƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œç­‰åˆ°åŠ è½½å®Œæˆä¹‹åï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°æ‰ä¼šè¿è¡Œã€‚è¿™é‡Œä»‹ç»ç”¨require.jså®ç°AMDè§„èŒƒçš„æ¨¡å—åŒ–ï¼šç”¨require.config()æŒ‡å®šå¼•ç”¨è·¯å¾„ç­‰ï¼Œç”¨define()å®šä¹‰æ¨¡å—ï¼Œç”¨require()åŠ è½½æ¨¡å—ã€‚ é¦–å…ˆæˆ‘ä»¬éœ€è¦å¼•å…¥require.jsæ–‡ä»¶å’Œä¸€ä¸ªå…¥å£æ–‡ä»¶main.jsã€‚main.jsä¸­é…ç½®require.config()å¹¶è§„å®šé¡¹ç›®ä¸­ç”¨åˆ°çš„åŸºç¡€æ¨¡å—ã€‚ 12345678910111213141516/** ç½‘é¡µä¸­å¼•å…¥require.jsåŠmain.js **/&lt;script src=&quot;js/require.js&quot; data-main=&quot;js/main&quot;&gt;&lt;/script&gt;/** main.js å…¥å£æ–‡ä»¶/ä¸»æ¨¡å— **/// é¦–å…ˆç”¨config()æŒ‡å®šå„æ¨¡å—è·¯å¾„å’Œå¼•ç”¨årequire.config(&#123; baseUrl: &quot;js/lib&quot;, paths: &#123; &quot;jquery&quot;: &quot;jquery.min&quot;, //å®é™…è·¯å¾„ä¸ºjs/lib/jquery.min.js &quot;underscore&quot;: &quot;underscore.min&quot;, &#125;&#125;);// æ‰§è¡ŒåŸºæœ¬æ“ä½œrequire([&quot;jquery&quot;,&quot;underscore&quot;],function($,_)&#123; // some code here&#125;); å¼•ç”¨æ¨¡å—çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†æ¨¡å—åæ”¾åœ¨[]ä¸­ä½œä¸ºreqiure()çš„ç¬¬ä¸€å‚æ•°ï¼›å¦‚æœæˆ‘ä»¬å®šä¹‰çš„æ¨¡å—æœ¬èº«ä¹Ÿä¾èµ–å…¶ä»–æ¨¡å—,é‚£å°±éœ€è¦å°†å®ƒä»¬æ”¾åœ¨[]ä¸­ä½œä¸ºdefine()çš„ç¬¬ä¸€å‚æ•°ã€‚ 1234567891011121314151617181920212223242526272829// å®šä¹‰math.jsæ¨¡å—define(function () &#123; var basicNum = 0; var add = function (x, y) &#123; return x + y; &#125;; return &#123; add: add, basicNum :basicNum &#125;;&#125;);// å®šä¹‰ä¸€ä¸ªä¾èµ–underscore.jsçš„æ¨¡å—define([&#x27;underscore&#x27;],function(_)&#123; var classify = function(list)&#123; _.countBy(list,function(num)&#123; return num &gt; 30 ? &#x27;old&#x27; : &#x27;young&#x27;; &#125;) &#125;; return &#123; classify :classify &#125;;&#125;)// å¼•ç”¨æ¨¡å—ï¼Œå°†æ¨¡å—æ”¾åœ¨[]å†…require([&#x27;jquery&#x27;, &#x27;math&#x27;],function($, math)&#123; var sum = math.add(10,20); $(&quot;#sum&quot;).html(sum);&#125;); CMDå’Œsea.jsrequire.jsåœ¨ç”³æ˜ä¾èµ–çš„æ¨¡å—æ—¶ä¼šåœ¨ç¬¬ä¸€ä¹‹é—´åŠ è½½å¹¶æ‰§è¡Œæ¨¡å—å†…çš„ä»£ç ï¼š12345678define([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], function(a, b, c, d, e, f) &#123; // ç­‰äºåœ¨æœ€å‰é¢å£°æ˜å¹¶åˆå§‹åŒ–äº†è¦ç”¨åˆ°çš„æ‰€æœ‰æ¨¡å— if (false) &#123; // å³ä¾¿æ²¡ç”¨åˆ°æŸä¸ªæ¨¡å— bï¼Œä½† b è¿˜æ˜¯æå‰æ‰§è¡Œäº† b.foo() &#125; &#125;); CMDæ˜¯å¦ä¸€ç§jsæ¨¡å—åŒ–æ–¹æ¡ˆï¼Œå®ƒä¸AMDå¾ˆç±»ä¼¼ï¼Œä¸åŒç‚¹åœ¨äºï¼šAMD æ¨å´‡ä¾èµ–å‰ç½®ã€æå‰æ‰§è¡Œï¼ŒCMDæ¨å´‡ä¾èµ–å°±è¿‘ã€å»¶è¿Ÿæ‰§è¡Œã€‚æ­¤è§„èŒƒå…¶å®æ˜¯åœ¨sea.jsæ¨å¹¿è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ã€‚ 123456789101112131415161718192021222324252627282930313233/** AMDå†™æ³• **/define([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], function(a, b, c, d, e, f) &#123; // ç­‰äºåœ¨æœ€å‰é¢å£°æ˜å¹¶åˆå§‹åŒ–äº†è¦ç”¨åˆ°çš„æ‰€æœ‰æ¨¡å— a.doSomething(); if (false) &#123; // å³ä¾¿æ²¡ç”¨åˆ°æŸä¸ªæ¨¡å— bï¼Œä½† b è¿˜æ˜¯æå‰æ‰§è¡Œäº† b.doSomething() &#125; &#125;);/** CMDå†™æ³• **/define(function(require, exports, module) &#123; var a = require(&#x27;./a&#x27;); //åœ¨éœ€è¦æ—¶ç”³æ˜ a.doSomething(); if (false) &#123; var b = require(&#x27;./b&#x27;); b.doSomething(); &#125;&#125;);/** sea.js **/// å®šä¹‰æ¨¡å— math.jsdefine(function(require, exports, module) &#123; var $ = require(&#x27;jquery.js&#x27;); var add = function(a,b)&#123; return a+b; &#125; exports.add = add;&#125;);// åŠ è½½æ¨¡å—seajs.use([&#x27;math.js&#x27;], function(math)&#123; var sum = math.add(1+2);&#125;); ES6 ModuleES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œæ—¨åœ¨æˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆã€‚å…¶æ¨¡å—åŠŸèƒ½ä¸»è¦ç”±ä¸¤ä¸ªå‘½ä»¤æ„æˆï¼šexportå’Œimportã€‚exportå‘½ä»¤ç”¨äºè§„å®šæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œimportå‘½ä»¤ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—æä¾›çš„åŠŸèƒ½ã€‚ 123456789101112/** å®šä¹‰æ¨¡å— math.js **/var basicNum = 0;var add = function (a, b) &#123; return a + b;&#125;;export &#123; basicNum, add &#125;;/** å¼•ç”¨æ¨¡å— **/import &#123; basicNum, add &#125; from &#x27;./math&#x27;;function test(ele) &#123; ele.textContent = add(99 + basicNum);&#125; å¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œä½¿ç”¨importå‘½ä»¤çš„æ—¶å€™ï¼Œç”¨æˆ·éœ€è¦çŸ¥é“æ‰€è¦åŠ è½½çš„å˜é‡åæˆ–å‡½æ•°åã€‚å…¶å®ES6è¿˜æä¾›äº†export defaultå‘½ä»¤ï¼Œä¸ºæ¨¡å—æŒ‡å®šé»˜è®¤è¾“å‡ºï¼Œå¯¹åº”çš„importè¯­å¥ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚è¿™ä¹Ÿæ›´è¶‹è¿‘äºADMçš„å¼•ç”¨å†™æ³•ã€‚ 12345678/** export default **///å®šä¹‰è¾“å‡ºexport default &#123; basicNum, add &#125;;//å¼•å…¥import math from &#x27;./math&#x27;;function test(ele) &#123; ele.textContent = math.add(99 + math.basicNum);&#125; ES6çš„æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œimportå‘½ä»¤ä¼šè¢« JavaScript å¼•æ“é™æ€åˆ†æï¼Œåœ¨ç¼–è¯‘æ—¶å°±å¼•å…¥æ¨¡å—ä»£ç ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶åŠ è½½ï¼Œæ‰€ä»¥æ— æ³•å®ç°æ¡ä»¶åŠ è½½ã€‚ä¹Ÿæ­£å› ä¸ºè¿™ä¸ªï¼Œä½¿å¾—é™æ€åˆ†ææˆä¸ºå¯èƒ½ã€‚ ES6 Moduleå’ŒCommonJSçš„å·®å¼‚1. CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ã€‚ CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„æ‹·è´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ã€‚ ES6 æ¨¡å—çš„è¿è¡Œæœºåˆ¶ä¸ CommonJS ä¸ä¸€æ ·ã€‚JS å¼•æ“å¯¹è„šæœ¬é™æ€åˆ†æçš„æ—¶å€™ï¼Œé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ã€‚ç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œé¢å»å–å€¼ã€‚æ¢å¥è¯è¯´ï¼ŒES6 çš„importæœ‰ç‚¹åƒ Unix ç³»ç»Ÿçš„â€œç¬¦å·è¿æ¥â€ï¼ŒåŸå§‹å€¼å˜äº†ï¼ŒimportåŠ è½½çš„å€¼ä¹Ÿä¼šè·Ÿç€å˜ã€‚å› æ­¤ï¼ŒES6 æ¨¡å—æ˜¯åŠ¨æ€å¼•ç”¨ï¼Œå¹¶ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œé¢çš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ã€‚ 2. CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ã€‚ è¿è¡Œæ—¶åŠ è½½: CommonJS æ¨¡å—å°±æ˜¯å¯¹è±¡ï¼›å³åœ¨è¾“å…¥æ—¶æ˜¯å…ˆåŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†ä»è¿™ä¸ªå¯¹è±¡ä¸Šé¢è¯»å–æ–¹æ³•ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œè¿è¡Œæ—¶åŠ è½½â€ã€‚ ç¼–è¯‘æ—¶åŠ è½½: ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡ export å‘½ä»¤æ˜¾å¼æŒ‡å®šè¾“å‡ºçš„ä»£ç ï¼Œimportæ—¶é‡‡ç”¨é™æ€å‘½ä»¤çš„å½¢å¼ã€‚å³åœ¨importæ—¶å¯ä»¥æŒ‡å®šåŠ è½½æŸä¸ªè¾“å‡ºå€¼ï¼Œè€Œä¸æ˜¯åŠ è½½æ•´ä¸ªæ¨¡å—ï¼Œè¿™ç§åŠ è½½ç§°ä¸ºâ€œç¼–è¯‘æ—¶åŠ è½½â€ã€‚ CommonJS åŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå³module.exportså±æ€§ï¼‰ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆã€‚è€Œ ES6 æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒçš„å¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"æ¨¡å—åŒ–","slug":"æ¨¡å—åŒ–","permalink":"http://yoursite.com/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/"}]},{"title":"Javascriptä¸­ç»§æ‰¿çš„æ–¹å¼","slug":"Javascriptä¸­ç»§æ‰¿çš„æ–¹å¼","date":"2022-04-14T10:37:24.000Z","updated":"2022-04-18T13:56:02.761Z","comments":true,"path":"2022/04/14/Javascriptä¸­ç»§æ‰¿çš„æ–¹å¼/","link":"","permalink":"http://yoursite.com/2022/04/14/Javascript%E4%B8%AD%E7%BB%A7%E6%89%BF%E7%9A%84%E6%96%B9%E5%BC%8F/","excerpt":"","text":"å‰è¨€æœ¬ç¯‡çš„å­¦ä¹ å»ºç«‹åœ¨å¯¹åŸå‹é“¾çš„ç†è§£ä¹‹ä¸Šï¼Œå¦‚æœå¯¹åŸå‹é“¾è¿˜ä¸å¤Ÿäº†è§£ï¼Œå¯ä»¥å…ˆè‡ªè¡Œå­¦ä¹ ç›¸å…³çŸ¥è¯† 1.åŸå‹é“¾ç»§æ‰¿123456789101112131415161718function Animal() &#123; this.name = &#x27;animal&#x27;&#125;function Dog() &#123; this.eat = &#x27;eat shit&#x27;&#125;Animal.prototype.getName = function() &#123; return this.name&#125;Dog.prototype = new Animal()const dog = new Dog()console.log(dog.getName()) // animalconsole.log(dog.eat) // eat shit åŸå‹é“¾ç»§æ‰¿çš„æœ¬è´¨å°±æ˜¯å°†éœ€è¦ç»§æ‰¿çš„æ„é€ å‡½æ•°ï¼ˆDogï¼‰çš„åŸå‹prototypeæŒ‡å‘è¢«ç»§æ‰¿çš„æ„é€ å‡½æ•°ï¼ˆAnimalï¼‰çš„å®ä¾‹ï¼Œè¿™æ ·å°±è·å¾—Animalä¸Šçš„æ‰€æœ‰å±æ€§ä¸æ–¹æ³•äº†ã€‚ ç¼ºç‚¹ï¼š åŸå‹ä¸­åŒ…å«çš„å¼•ç”¨ç±»å‹å±æ€§å°†è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼› å­ç±»åœ¨å®ä¾‹åŒ–çš„æ—¶å€™ä¸èƒ½ç»™çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚ï¼› 123456789101112131415161718function Animal() &#123; this.name = &#x27;animal&#x27; this.type = [0, 1]&#125;function Dog() &#123; this.eat = &#x27;eat shit&#x27;&#125;Dog.prototype = new Animal()const dog1 = new Dog()const dog2 = new Dog()dog1.type.push(2)console.log(dog1.type) // [0, 1, 2]console.log(dog2.type) // [0, 1, 2] 2.å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿1234567891011121314151617181920function Animal() &#123; this.name = &#x27;animal&#x27; this.type = [0, 1]&#125;function Dog() &#123; Animal.call(this) this.eat = &#x27;eat shit&#x27;&#125;Dog.prototype = new Animal()const dog1 = new Dog()const dog2 = new Dog()dog1.type.push(2)console.log(dog1.type) // [0, 1, 2]console.log(dog2.type) // [0, 1, 2] æ ¸å¿ƒä»£ç æ˜¯Animal.call(this)ï¼Œåœ¨åˆ›å»ºå­ç±»Dogçš„å®ä¾‹æ—¶è°ƒç”¨çˆ¶ç±»Animalçš„æ„é€ å‡½æ•°ï¼Œè¿™æ ·å°±ä¼šæŠŠçˆ¶ç±»çš„æ¯ä¸ªå±æ€§éƒ½ç»™å­ç±»å¤åˆ¶ä¸€ä»½ ç¼ºç‚¹ï¼š åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³•(å› ä¸ºå®ƒåªæ‰§è¡Œäº†çˆ¶ç±»æ„é€ å‡½æ•°é‡Œçš„å†…å®¹) æ— æ³•å®ç°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ 3.ç»„åˆç»§æ‰¿ç»„åˆä¸Šè¿°ä¸¤ç§æ–¹æ³•å°±æ˜¯ç»„åˆç»§æ‰¿ã€‚ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œç”¨å€Ÿç”¨æ„é€ å‡½æ•°æŠ€æœ¯æ¥å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚ 1234567891011121314151617181920212223242526272829function Animal(name) &#123; this.name = name this.type = [0, 1]&#125;function Dog(name) &#123; Animal.call(this, name) this.eat = &#x27;eat shit&#x27;&#125;Animal.prototype.getName = function() &#123; return this.name&#125;Dog.prototype = new Animal()Dog.prototype.constructor = Dogconst dog1 = new Dog(&#x27;ç‹ä¸€ç³&#x27;)const dog2 = new Dog(&#x27;åˆ˜è´åˆ©&#x27;)dog1.type.push(2)console.log(dog1.type) // [0, 1, 2]console.log(dog2.type) // [0, 1, 2]console.log(dog1.eat) // eat shitconsole.log(dog2.eat) // eat shitconsole.log(dog1.getName()) // ç‹ä¸€ç³console.log(dog2.getName()) // åˆ˜è´åˆ© ç¼ºç‚¹ï¼šå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œå…¶å®æˆ‘ä»¬çš„ä»£ç é‡Œè°ƒç”¨äº†ä¸¤æ¬¡Animal()ï¼Œæ‰€ä»¥å…¶å®ä¾‹ä¸­ä¼šå­˜åœ¨åŸå‹å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œé€ æˆå†—ä½™ã€‚ 4.åŸå‹å¼ç»§æ‰¿12345678910function clone(obj)&#123; function F()&#123;&#125; F.prototype = obj; return new F();&#125;// ç­‰ä»·äºObject.create(obj) åˆ©ç”¨ä¸€ä¸ªç©ºæ„é€ å‡½æ•°ä½œä¸ºåª’ä»‹ï¼Œå®Œæˆå¯¹ä¸€ä¸ªå¯¹è±¡çš„æµ…æ‹·è´ 123456789101112131415161718const dog = &#123; name: &#x27;ç‹ä¸€ç³&#x27;, friends: [&#x27;ç‹äºŒç³&#x27;, &#x27;ç‹ä¸‰ç³&#x27;]&#125;const newDog1 = clone(dog)newDog1.name = &#x27;é¸¡å…¬&#x27;newDog1.friends.push(&#x27;ç‹å››ç³&#x27;)const newDog2 = clone(dog)newDog2.name = &#x27;é¸¡å¤«&#x27;newDog1.friends.push(&#x27;ç‹äº”ç³&#x27;)console.log(newDog1.name) // é¸¡å…¬console.log(newDog2.name) // é¸¡å¤«console.log(newDog1.friends) // [ &#x27;ç‹äºŒç³&#x27;, &#x27;ç‹ä¸‰ç³&#x27;, &#x27;ç‹å››ç³&#x27;, &#x27;ç‹äº”ç³&#x27; ]console.log(newDog2.friends) // [ &#x27;ç‹äºŒç³&#x27;, &#x27;ç‹ä¸‰ç³&#x27;, &#x27;ç‹å››ç³&#x27;, &#x27;ç‹äº”ç³&#x27; ] ç¼ºç‚¹ï¼š åŸå‹é“¾ç»§æ‰¿å¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚ æ— æ³•ä¼ é€’å‚æ•° 5.å¯„ç”Ÿå¼ç»§æ‰¿æ ¸å¿ƒï¼šåœ¨åŸå‹å¼ç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œå¢å¼ºå¯¹è±¡ï¼ˆæ–°å¢å±æ€§æ–¹æ³•ï¼‰ï¼Œè¿”å›è¿”å›è¿™ä¸ªå¯¹è±¡ 12345678910111213141516171819function createNew(obj)&#123; const clone = Object.create(obj) clone.sayHi = function() &#123; console.log(&#x27;ä½ å¥½&#x27;) &#125; return clone&#125;const dog = &#123; name: &#x27;ç‹ä¸€ç³&#x27;, friends: [&#x27;ç‹äºŒç³&#x27;, &#x27;ç‹ä¸‰ç³&#x27;]&#125;const newDog = createNew(dog)console.log(newDog.name) //ç‹ä¸€ç³console.log(newDog.friends) // [ &#x27;ç‹äºŒç³&#x27;, &#x27;ç‹ä¸‰ç³&#x27; ]newDog.sayHi() // ä½ å¥½ ç¼ºç‚¹ï¼ˆåŒåŸå‹å¼ç»§æ‰¿ï¼‰: åŸå‹é“¾ç»§æ‰¿å¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½ã€‚ æ— æ³•ä¼ é€’å‚æ•° 6.å¯„ç”Ÿç»„åˆç»§æ‰¿ç»“åˆå€Ÿç”¨æ„é€ å‡½æ•°ä¼ é€’å‚æ•°å’Œå¯„ç”Ÿæ¨¡å¼å®ç°ç»§æ‰¿ 123456789101112131415161718192021222324function inheritPrototype(Son, Father) &#123; const prototype = Object.create(Father.prototype) prototype.constructor = Son Son.prototype = prototype&#125;function Animal(name) &#123; this.name = name this.type = [0, 1]&#125;Animal.prototype.sayHi = function() &#123; console.log(&#x27;ä½ å¥½&#x27;)&#125;function Dog(name, eat) &#123; this.name = name this.eat = eat&#125;inheritPrototype(Dog, Animal)const dog1 = new Dog(&#x27;é¸¡å…¬&#x27;, &#x27;eat shit&#x27;)const dog2 = new Dog(&#x27;ç‹ä¸€ç³&#x27;, &#x27;eat more shit&#x27;) è¿™æ˜¯æœ€æˆç†Ÿçš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯ç°åœ¨åº“å®ç°çš„æ–¹æ³• ä¸ç»„åˆç»§æ‰¿ç›¸æ¯”ï¼Œå¯„ç”Ÿç»„åˆç»§æ‰¿åªè°ƒç”¨äº†ä¸€æ¬¡çˆ¶ç±»Animal,å› æ­¤é¿å…äº†åœ¨Animal.protoypeä¸Šåˆ›å»ºå¤šä½™çš„å±æ€§ã€‚äºæ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨instanceof å’ŒisPrototypeOf() 7.classç»§æ‰¿1234567891011121314class Animal &#123; constructor(name) &#123; this.name = name &#125; getName() &#123; return this.name &#125;&#125;class Dog extends Animal &#123; constructor(name, age) &#123; super(name) this.age = age &#125;&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"é¢å‘å¯¹è±¡","slug":"é¢å‘å¯¹è±¡","permalink":"http://yoursite.com/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"}]},{"title":"å¯¹cookieã€sessionã€JWTçš„ä¸€äº›ç†è§£","slug":"å¯¹cookieã€sessionã€JWTçš„ä¸€äº›ç†è§£","date":"2022-04-13T13:59:24.000Z","updated":"2022-04-18T13:54:58.971Z","comments":true,"path":"2022/04/13/å¯¹cookieã€sessionã€JWTçš„ä¸€äº›ç†è§£/","link":"","permalink":"http://yoursite.com/2022/04/13/%E5%AF%B9cookie%E3%80%81session%E3%80%81JWT%E7%9A%84%E4%B8%80%E4%BA%9B%E7%90%86%E8%A7%A3/","excerpt":"","text":"ä¸€ã€å‰è¨€HTTP åè®®æ˜¯ä¸€ç§æ— çŠ¶æ€åè®®ï¼Œå³æ¯æ¬¡æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶ï¼Œéƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¹¶ä¸çŸ¥é“å®¢æˆ·ç«¯çš„å†å²è¯·æ±‚è®°å½•ï¼›Session å’Œ Cookie çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¸ºäº†å¼¥è¡¥ HTTP çš„æ— çŠ¶æ€ç‰¹æ€§ã€‚ äºŒã€Sessionæ˜¯ä»€ä¹ˆå®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¼šä¸ºè¿™æ¬¡è¯·æ±‚å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ï¼Œè¿™ä¸ªå¯¹è±¡ä¾¿æ˜¯ Session å¯¹è±¡ï¼Œå­˜å‚¨ç»“æ„ä¸ºConcurrentHashMapã€‚Session å¼¥è¡¥äº† HTTP æ— çŠ¶æ€ç‰¹æ€§ï¼ŒæœåŠ¡å™¨å¯ä»¥åˆ©ç”¨ Session å­˜å‚¨å®¢æˆ·ç«¯åœ¨åŒä¸€ä¸ªä¼šè¯æœŸé—´çš„ä¸€äº›æ“ä½œè®°å½•ã€‚ å¦‚ä½•åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¼šè¯æœåŠ¡å™¨ç¬¬ä¸€æ¬¡æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œå¼€è¾Ÿäº†ä¸€å— Session ç©ºé—´ï¼ˆåˆ›å»ºäº†Sessionå¯¹è±¡ï¼‰ï¼ŒåŒæ—¶ç”Ÿæˆä¸€ä¸ª sessionId ï¼Œå¹¶é€šè¿‡å“åº”å¤´çš„ Set-Cookieï¼šJSESSIONID=XXXXXXXå‘½ä»¤ï¼Œå‘å®¢æˆ·ç«¯å‘é€è¦æ±‚è®¾ç½® Cookie çš„å“åº”ï¼› å®¢æˆ·ç«¯æ”¶åˆ°å“åº”åï¼Œåœ¨æœ¬æœºå®¢æˆ·ç«¯è®¾ç½®äº†ä¸€ä¸ª JSESSIONID=XXXXXXXçš„ Cookie ä¿¡æ¯ï¼Œè¯¥ Cookie çš„è¿‡æœŸæ—¶é—´ä¸ºæµè§ˆå™¨ä¼šè¯ç»“æŸï¼› æ¥ä¸‹æ¥å®¢æˆ·ç«¯æ¯æ¬¡å‘åŒä¸€ä¸ªç½‘ç«™å‘é€è¯·æ±‚æ—¶ï¼Œè¯·æ±‚å¤´éƒ½ä¼šå¸¦ä¸Šè¯¥ Cookieä¿¡æ¯ï¼ˆåŒ…å« sessionId ï¼‰ï¼Œ ç„¶åï¼ŒæœåŠ¡å™¨é€šè¿‡è¯»å–è¯·æ±‚å¤´ä¸­çš„ Cookie ä¿¡æ¯ï¼Œè·å–åç§°ä¸º JSESSIONID çš„å€¼ï¼Œå¾—åˆ°æ­¤æ¬¡è¯·æ±‚çš„ sessionIdã€‚ ç¼ºç‚¹Session æœºåˆ¶æœ‰ä¸ªç¼ºç‚¹ï¼Œæ¯”å¦‚ A æœåŠ¡å™¨å­˜å‚¨äº† Sessionï¼Œå°±æ˜¯åšäº†è´Ÿè½½å‡è¡¡åï¼Œå‡å¦‚ä¸€æ®µæ—¶é—´å†… A çš„è®¿é—®é‡æ¿€å¢ï¼Œä¼šè½¬å‘åˆ° B è¿›è¡Œè®¿é—®ï¼Œä½†æ˜¯ B æœåŠ¡å™¨å¹¶æ²¡æœ‰å­˜å‚¨ A çš„ Sessionï¼Œä¼šå¯¼è‡´ Session çš„å¤±æ•ˆã€‚ ä¸‰ã€Cookieæ˜¯ä»€ä¹ˆï¼ŸHTTP åè®®ä¸­çš„ Cookie åŒ…æ‹¬ Web Cookie å’Œæµè§ˆå™¨ Cookieï¼Œå®ƒæ˜¯æœåŠ¡å™¨å‘é€åˆ° Web æµè§ˆå™¨çš„ä¸€å°å—æ•°æ®ã€‚æœåŠ¡å™¨å‘é€åˆ°æµè§ˆå™¨çš„ Cookieï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œå­˜å‚¨ï¼Œå¹¶ä¸ä¸‹ä¸€ä¸ªè¯·æ±‚ä¸€èµ·å‘é€åˆ°æœåŠ¡å™¨ã€‚é€šå¸¸ï¼Œå®ƒç”¨äºåˆ¤æ–­ä¸¤ä¸ªè¯·æ±‚æ˜¯å¦æ¥è‡ªäºåŒä¸€ä¸ªæµè§ˆå™¨ï¼Œä¾‹å¦‚ç”¨æˆ·ä¿æŒç™»å½•çŠ¶æ€ã€‚ HTTP Cookie æœºåˆ¶æ˜¯ HTTP åè®®æ— çŠ¶æ€çš„ä¸€ç§è¡¥å……å’Œæ”¹è‰¯ Cookie æ›¾ç»ç”¨äºä¸€èˆ¬çš„å®¢æˆ·ç«¯å­˜å‚¨ã€‚è™½ç„¶è¿™æ˜¯åˆæ³•çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨å®¢æˆ·ç«¯ä¸Šå­˜å‚¨æ•°æ®çš„å”¯ä¸€æ–¹æ³•ï¼Œä½†å¦‚ä»Šå»ºè®®ä½¿ç”¨ç°ä»£å­˜å‚¨ APIã€‚Cookie éšæ¯ä¸ªè¯·æ±‚ä¸€èµ·å‘é€ï¼Œå› æ­¤å®ƒä»¬å¯èƒ½ä¼šé™ä½æ€§èƒ½ï¼ˆå°¤å…¶æ˜¯å¯¹äºç§»åŠ¨æ•°æ®è¿æ¥è€Œè¨€ï¼‰ã€‚ å¦‚ä½•åˆ›å»ºï¼Ÿå½“æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘å‡ºçš„ HTTP è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨åœ¨å“åº”å¤´åŠ å…¥Set-Cookieå­—æ®µè¿”å›ï¼ŒCookie é€šå¸¸ç”±æµè§ˆå™¨å­˜å‚¨ï¼Œç„¶åå°† Cookie ä¸ HTTP æ ‡å¤´ä¸€åŒå‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ã€‚ æ­¤åï¼Œæµè§ˆå™¨å¯¹æœåŠ¡å™¨å‘èµ·çš„æ¯ä¸ªhttpè¯·æ±‚ï¼Œæµè§ˆå™¨éƒ½å°†Cookieå­—æ®µåŠ åœ¨è¯·æ±‚å¤´ä¸­ï¼Œå°†ä»¥å‰å­˜å‚¨çš„æ‰€æœ‰Cookieå‘é€å›æœåŠ¡å™¨ CookiesåŒ…å«ä¸¤ç§ç±»å‹ï¼Œä¸€ç§æ˜¯ Session Cookiesï¼Œä¸€ç§æ˜¯ Persistent Cookiesï¼Œå¦‚æœ Cookie ä¸åŒ…å«åˆ°æœŸæ—¥æœŸï¼Œåˆ™å°†å…¶è§†ä¸ºä¼šè¯ Cookieã€‚ä¼šè¯ Cookie å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæ°¸è¿œä¸ä¼šå†™å…¥ç£ç›˜ï¼Œå½“æµè§ˆå™¨å…³é—­æ—¶ï¼Œæ­¤å Cookie å°†æ°¸ä¹…ä¸¢å¤±ã€‚å¦‚æœ Cookie åŒ…å«æœ‰æ•ˆæœŸ ï¼Œåˆ™å°†å…¶è§†ä¸ºæŒä¹…æ€§ Cookieã€‚åœ¨åˆ°æœŸæŒ‡å®šçš„æ—¥æœŸï¼ŒCookie å°†ä»ç£ç›˜ä¸­åˆ é™¤ã€‚ ä¼šè¯ Cookiesä¸Šé¢çš„ç¤ºä¾‹åˆ›å»ºçš„æ˜¯ä¼šè¯ Cookie ï¼Œä¼šè¯ Cookie æœ‰ä¸ªç‰¹å¾ï¼Œå®¢æˆ·ç«¯å…³é—­æ—¶ Cookie ä¼šåˆ é™¤ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æŒ‡å®šExpiresæˆ–Max-AgeæŒ‡ä»¤ã€‚ä½†æ˜¯ï¼ŒWeb æµè§ˆå™¨å¯èƒ½ä¼šä½¿ç”¨ä¼šè¯è¿˜åŸï¼Œè¿™ä¼šä½¿å¤§å¤šæ•°ä¼šè¯ Cookie ä¿æŒæ°¸ä¹…çŠ¶æ€ï¼Œå°±åƒä»æœªå…³é—­è¿‡æµè§ˆå™¨ä¸€æ ·ã€‚ æ°¸ä¹…æ€§ Cookiesæ°¸ä¹…æ€§ Cookie ä¸ä¼šåœ¨å®¢æˆ·ç«¯å…³é—­æ—¶è¿‡æœŸï¼Œè€Œæ˜¯åœ¨ç‰¹å®šæ—¥æœŸï¼ˆExpiresï¼‰æˆ–ç‰¹å®šæ—¶é—´é•¿åº¦ï¼ˆMax-Ageï¼‰å¤–è¿‡æœŸã€‚ä¾‹å¦‚ 1Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Cookie çš„ Secure å’Œ HttpOnly æ ‡è®°å®‰å…¨çš„ Cookie éœ€è¦ç»è¿‡ HTTPS åè®®é€šè¿‡åŠ å¯†çš„æ–¹å¼å‘é€åˆ°æœåŠ¡å™¨ã€‚å³ä½¿æ˜¯å®‰å…¨çš„ï¼Œä¹Ÿä¸åº”è¯¥å°†æ•æ„Ÿä¿¡æ¯å­˜å‚¨åœ¨cookie ä¸­ï¼Œå› ä¸ºå®ƒä»¬æœ¬è´¨ä¸Šæ˜¯ä¸å®‰å…¨çš„ï¼Œå¹¶ä¸”æ­¤æ ‡å¿—ä¸èƒ½æä¾›çœŸæ­£çš„ä¿æŠ¤ã€‚ HttpOnly çš„ä½œç”¨ ä¼šè¯ Cookie ä¸­ç¼ºå°‘ HttpOnly å±æ€§ä¼šå¯¼è‡´æ”»å‡»è€…å¯ä»¥é€šè¿‡ç¨‹åº(JSè„šæœ¬ã€Appletç­‰)è·å–åˆ°ç”¨æˆ·çš„ Cookie ä¿¡æ¯ï¼Œé€ æˆç”¨æˆ· Cookie ä¿¡æ¯æ³„éœ²ï¼Œå¢åŠ æ”»å‡»è€…çš„è·¨ç«™è„šæœ¬æ”»å‡»å¨èƒã€‚ HttpOnly æ˜¯å¾®è½¯å¯¹ Cookie åšçš„æ‰©å±•ï¼Œè¯¥å€¼æŒ‡å®š Cookie æ˜¯å¦å¯é€šè¿‡å®¢æˆ·ç«¯è„šæœ¬è®¿é—®ã€‚ å¦‚æœåœ¨ Cookie ä¸­æ²¡æœ‰è®¾ç½® HttpOnly å±æ€§ä¸º trueï¼Œå¯èƒ½å¯¼è‡´ Cookie è¢«çªƒå–ã€‚çªƒå–çš„ Cookie å¯ä»¥åŒ…å«æ ‡è¯†ç«™ç‚¹ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚ ASP.NET ä¼šè¯ ID æˆ– Forms èº«ä»½éªŒè¯ç¥¨è¯ï¼Œæ”»å‡»è€…å¯ä»¥é‡æ’­çªƒå–çš„ Cookieï¼Œä»¥ä¾¿ä¼ªè£…æˆç”¨æˆ·æˆ–è·å–æ•æ„Ÿä¿¡æ¯ï¼Œè¿›è¡Œè·¨ç«™è„šæœ¬æ”»å‡»ç­‰ã€‚ Cookie çš„ä½œç”¨åŸŸDomain å’Œ Path æ ‡è¯†å®šä¹‰äº† Cookie çš„ä½œç”¨åŸŸï¼šå³ Cookie åº”è¯¥å‘é€ç»™å“ªäº› URLã€‚Domain æ ‡è¯†æŒ‡å®šäº†å“ªäº›ä¸»æœºå¯ä»¥æ¥å— Cookieã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸ºå½“å‰ä¸»æœº(ä¸åŒ…å«å­åŸŸåï¼‰ã€‚å¦‚æœæŒ‡å®šäº†Domainï¼Œåˆ™ä¸€èˆ¬åŒ…å«å­åŸŸåã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¾ç½® Domain=mozilla.orgï¼Œåˆ™ Cookie ä¹ŸåŒ…å«åœ¨å­åŸŸåä¸­ï¼ˆå¦‚developer.mozilla.orgï¼‰ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®Path=/docsï¼Œåˆ™ä»¥ä¸‹åœ°å€éƒ½ä¼šåŒ¹é…ï¼š /docs /docs/Web/ /docs/Web/HTTP å››ã€JWTæ˜¯ä»€ä¹ˆï¼ŸJSON Web Token ï¼Œç®€ç§°JWTï¼Œå®ƒå’Œ Sessionéƒ½å¯ä»¥ä¸ºç½‘ç«™æä¾›ç”¨æˆ·çš„èº«ä»½è®¤è¯ï¼Œä½†æ˜¯å®ƒä»¬ä¸æ˜¯ä¸€å›äº‹ã€‚å®ƒæ˜¯RFC 7519ä¸­å®šä¹‰çš„ç”¨äºå®‰å…¨çš„å°†ä¿¡æ¯ä½œä¸ºJsonå¯¹è±¡è¿›è¡Œä¼ è¾“çš„ä¸€ç§å½¢å¼ã€‚JWT ä¸­å­˜å‚¨çš„ä¿¡æ¯æ˜¯ç»è¿‡æ•°å­—ç­¾åçš„ï¼Œå› æ­¤å¯ä»¥è¢«ä¿¡ä»»å’Œç†è§£ã€‚å¯ä»¥ä½¿ç”¨ HMAC ç®—æ³•æˆ–ä½¿ç”¨ RSA/ECDSA çš„å…¬ç”¨/ä¸“ç”¨å¯†é’¥å¯¹ JWT è¿›è¡Œç­¾åã€‚ ä¸»è¦ä½œç”¨ï¼š è®¤è¯(Authorization)ï¼šè¿™æ˜¯ä½¿ç”¨ JWT æœ€å¸¸è§çš„ä¸€ç§æƒ…å†µï¼Œä¸€æ—¦ç”¨æˆ·ç™»å½•ï¼Œåé¢æ¯ä¸ªè¯·æ±‚éƒ½ä¼šåŒ…å« JWTï¼Œä»è€Œå…è®¸ç”¨æˆ·è®¿é—®è¯¥ä»¤ç‰Œæ‰€å…è®¸çš„è·¯ç”±ã€æœåŠ¡å’Œèµ„æºã€‚å•ç‚¹ç™»å½•æ˜¯å½“ä»Šå¹¿æ³›ä½¿ç”¨ JWT çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå› ä¸ºå®ƒçš„å¼€é”€å¾ˆå°ã€‚ ä¿¡æ¯äº¤æ¢(Information Exchange)ï¼šJWT æ˜¯èƒ½å¤Ÿå®‰å…¨ä¼ è¾“ä¿¡æ¯çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡ä½¿ç”¨å…¬é’¥/ç§é’¥å¯¹ JWT è¿›è¡Œç­¾åè®¤è¯ã€‚æ­¤å¤–ï¼Œç”±äºç­¾åæ˜¯ä½¿ç”¨ head å’Œ payload è®¡ç®—çš„ï¼Œå› æ­¤ä½ è¿˜å¯ä»¥éªŒè¯å†…å®¹æ˜¯å¦é­åˆ°ç¯¡æ”¹ã€‚ JWTæ ¼å¼JWT ä¸»è¦ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œæ¯ä¸ªéƒ¨åˆ†ç”¨ . è¿›è¡Œåˆ†å‰²ï¼Œå„ä¸ªéƒ¨åˆ†åˆ†åˆ«æ˜¯ Header Payload Signature å› æ­¤ï¼Œä¸€ä¸ªéå¸¸ç®€å•çš„ JWT ç»„æˆä¼šæ˜¯ä¸‹é¢è¿™æ · JWTå’ŒSession Cookiesçš„ç›¸åŒä¹‹å¤„å®ƒä»¬æ—¢å¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åœ¨ç”¨æˆ·å•å‡»è¿›å…¥ä¸åŒé¡µé¢æ—¶ä»¥åŠç™»é™†ç½‘ç«™æˆ–åº”ç”¨ç¨‹åºåè¿›è¡Œèº«ä»½éªŒè¯ã€‚ å¦‚æœæ²¡æœ‰è¿™ä¸¤è€…ï¼Œé‚£ä½ å¯èƒ½éœ€è¦åœ¨æ¯ä¸ªé¡µé¢åˆ‡æ¢æ—¶éƒ½éœ€è¦è¿›è¡Œç™»å½•äº†ã€‚å› ä¸º HTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å½“ä½ è®¿é—®æŸä¸ªç½‘é¡µï¼Œç„¶åå•å‡»åŒä¸€ç«™ç‚¹ä¸Šçš„å¦ä¸€ä¸ªé¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨çš„å†…å­˜ä¸­å°†ä¸ä¼šè®°ä½ä½ ä¹‹å‰çš„æ“ä½œã€‚ JWTå’ŒSession Cookiesçš„ä¸åŒä¹‹å¤„JWT å’Œ Session Cookies éƒ½æä¾›å®‰å…¨çš„ç”¨æˆ·èº«ä»½éªŒè¯ï¼Œä½†æ˜¯å®ƒä»¬æœ‰ä»¥ä¸‹å‡ ç‚¹ä¸åŒ å¯†ç ç­¾åJWT å…·æœ‰åŠ å¯†ç­¾åï¼Œè€Œ Session Cookies åˆ™æ²¡æœ‰ã€‚ JSON æ˜¯æ— çŠ¶æ€çš„JWT æ˜¯æ— çŠ¶æ€çš„ï¼Œå› ä¸ºå£°æ˜è¢«å­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œè€Œä¸æ˜¯æœåŠ¡ç«¯å†…å­˜ä¸­ã€‚èº«ä»½éªŒè¯å¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œï¼Œè€Œä¸æ˜¯åœ¨è¯·æ±‚å¿…é¡»é€šè¿‡æœåŠ¡å™¨æ•°æ®åº“æˆ–ç±»ä¼¼ä½ç½®ä¸­è¿›è¡Œã€‚ è¿™æ„å‘³ç€å¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œå¤šæ¬¡èº«ä»½éªŒè¯ï¼Œè€Œæ— éœ€ä¸ç«™ç‚¹æˆ–åº”ç”¨ç¨‹åºçš„æ•°æ®åº“è¿›è¡Œé€šä¿¡ï¼Œä¹Ÿæ— éœ€åœ¨æ­¤è¿‡ç¨‹ä¸­æ¶ˆè€—å¤§é‡èµ„æºã€‚ å¯æ‰©å±•æ€§Session Cookies æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨å†…å­˜ä¸­ï¼Œè¿™å°±æ„å‘³ç€å¦‚æœç½‘ç«™æˆ–è€…åº”ç”¨å¾ˆå¤§çš„æƒ…å†µä¸‹ä¼šè€—è´¹å¤§é‡çš„èµ„æºã€‚ç”±äº JWT æ˜¯æ— çŠ¶æ€çš„ï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œå®ƒä»¬å¯ä»¥èŠ‚çœæœåŠ¡å™¨èµ„æºã€‚å› æ­¤ JWT è¦æ¯” Session Cookies å…·æœ‰æ›´å¼ºçš„å¯æ‰©å±•æ€§ã€‚ JWT æ”¯æŒè·¨åŸŸè®¤è¯Session Cookies åªèƒ½ç”¨åœ¨å•ä¸ªèŠ‚ç‚¹çš„åŸŸæˆ–è€…å®ƒçš„å­åŸŸä¸­æœ‰æ•ˆã€‚å¦‚æœå®ƒä»¬å°è¯•é€šè¿‡ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹è®¿é—®ï¼Œå°±ä¼šè¢«ç¦æ­¢ã€‚å¦‚æœä½ å¸Œæœ›è‡ªå·±çš„ç½‘ç«™å’Œå…¶ä»–ç«™ç‚¹å»ºç«‹å®‰å…¨è¿æ¥æ—¶ï¼Œè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä½¿ç”¨ JWT å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ JWT èƒ½å¤Ÿé€šè¿‡å¤šä¸ªèŠ‚ç‚¹è¿›è¡Œç”¨æˆ·è®¤è¯ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„è·¨åŸŸè®¤è¯ã€‚ JWT å’Œ Session Cookies çš„é€‰å‹æˆ‘ä»¬ä¸Šé¢æ¢è®¨äº† JWT å’Œ Cookies çš„ä¸åŒç‚¹ï¼Œç›¸ä¿¡ä½ ä¹Ÿä¼šå¯¹é€‰å‹æœ‰äº†æ›´æ·±çš„è®¤è¯†ï¼Œå¤§è‡´æ¥è¯´ å¯¹äºåªéœ€è¦ç™»å½•ç”¨æˆ·å¹¶è®¿é—®å­˜å‚¨åœ¨ç«™ç‚¹æ•°æ®åº“ä¸­çš„ä¸€äº›ä¿¡æ¯çš„ä¸­å°å‹ç½‘ç«™æ¥è¯´ï¼ŒSession Cookies é€šå¸¸å°±èƒ½æ»¡è¶³ã€‚ å¦‚æœä½ æœ‰ä¼ä¸šçº§ç«™ç‚¹ï¼Œåº”ç”¨ç¨‹åºæˆ–é™„è¿‘çš„ç«™ç‚¹ï¼Œå¹¶ä¸”éœ€è¦å¤„ç†å¤§é‡çš„è¯·æ±‚ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸‰æ–¹æˆ–å¾ˆå¤šç¬¬ä¸‰æ–¹ï¼ˆåŒ…æ‹¬ä½äºä¸åŒåŸŸçš„APIï¼‰ï¼Œåˆ™ JWT æ˜¾ç„¶æ›´é€‚åˆã€‚ å‚è€ƒæ–‡çŒ®ï¼š çœ‹å®Œè¿™ç¯‡ Sessionã€Cookieã€Tokenï¼Œå’Œé¢è¯•å®˜æ‰¯çš®å°±æ²¡é—®é¢˜äº†","categories":[{"name":"ç½‘ç»œ","slug":"ç½‘ç»œ","permalink":"http://yoursite.com/categories/%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/tags/HTTP/"},{"name":"Cookie","slug":"Cookie","permalink":"http://yoursite.com/tags/Cookie/"},{"name":"Session","slug":"Session","permalink":"http://yoursite.com/tags/Session/"},{"name":"JWT","slug":"JWT","permalink":"http://yoursite.com/tags/JWT/"}]},{"title":"this.setStateåˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Ÿ","slug":"setStateåˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥","date":"2022-04-09T07:55:04.000Z","updated":"2022-04-18T13:56:19.148Z","comments":true,"path":"2022/04/09/setStateåˆ°åº•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥/","link":"","permalink":"http://yoursite.com/2022/04/09/setState%E5%88%B0%E5%BA%95%E6%98%AF%E5%BC%82%E6%AD%A5%E8%BF%98%E6%98%AF%E5%90%8C%E6%AD%A5/","excerpt":"","text":"å‰è¨€å…ˆè¯´ç»“è®ºï¼Œthis.stateæ˜¯åŒæ­¥çš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¼ªè£…çš„å¼‚æ­¥ï¼Œä¸å±äºå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œå¹¶ä¸”ä¼šåœ¨å¾®ä»»åŠ¡æ‰§è¡Œå‰æ‰§è¡Œã€‚ å¥½çš„ï¼Œæˆ‘ä»¬å…ˆå¿˜è®°ç»“è®ºï¼Œçœ‹ä¸ªä¾‹å­ 1234567891011121314151617componentDidMount() &#123; // this.state.val åˆå§‹ä¸º0 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 0 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 0 setTimeout(() =&gt; &#123; this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 2 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 3 &#125;, 0)&#125; è¿™é‡Œæœ‰ä¸¤ä¸ªä»¤äººç–‘æƒ‘çš„ç‚¹ï¼Œä¸ºä»€ä¹ˆå‰é¢ä¸¤æ¬¡è°ƒç”¨setStateåæ‰“å°å‡ºçš„ç»“æœè¿˜æ˜¯åˆå§‹å€¼ï¼Œè€Œä¸”æ˜æ˜è°ƒç”¨äº†4æ¬¡ï¼Œæœ€åç»“æœæ˜¯3å‘¢ï¼Ÿ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹setStateçš„ç‰¹æ€§ åŒæ­¥æ›´æ–°orå¼‚æ­¥æ›´æ–° å‰é¢æˆ‘ä»¬è¯´äº†ï¼ŒsetStateçš„å¼‚æ­¥æ˜¯ä¼ªè£…çš„ï¼Œä½†ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬ä»¥ä¸‹å†…å®¹ä¸­ç›´æ¥ç§°å…¶ä¸ºå¼‚æ­¥ stateé»˜è®¤æ˜¯å¼‚æ­¥æ›´æ–°çš„ï¼Œæ‰€ä»¥ä¸‹é¢ä»£ç ä¸­ï¼Œä¼šæ‰“å°å‡ºä¸¤ä¸ª0ï¼ŒåŒæ­¥ä»£ç æ— æ³•ç«‹å³è·å–åˆ°æ–°æ›´æ–°çš„å€¼ã€‚ è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå› ä¸ºsetStateæœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­æ‰“å°æ›´æ–°åçš„stateçš„å€¼ 123456componentDidMount() &#123; this.setState( &#123; val: this.state.val + 1 &#125;, () =&gt; &#123; console.log(this.state.val) &#125; // 1 )&#125; é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¼šåŒæ­¥æ‰§è¡Œå‘¢? å½“setStateä¸åœ¨Reactä¸Šä¸‹æ–‡ä¸­è§¦å‘æ—¶ï¼Œä¼šåŒæ­¥æ›´æ–° setTimeout, setInterval, promise.then è‡ªå®šä¹‰çš„DOMäº‹ä»¶ Ajaxå›è°ƒ æ³¨ï¼šåœ¨æœ€æ–°çš„React 18ä¸­ï¼Œä¸Šè¿°åœºæ™¯èƒ½å¤Ÿå¼‚æ­¥æ›´æ–°,ä½†éœ€å°†ReactDOM.renderæ›¿æ¢ä¸ºReactDOM.createRoot æ‰€ä»¥ä¸‹é¢çš„ä¾‹å­å¯ä»¥æˆåŠŸæ‰“å°å‡ºæ›´æ–°åçš„ç»“æœ1å’Œ2 1234567891011componentDidMount() &#123; // this.state.val åˆå§‹ä¸º0 setTimeout(() =&gt; &#123; this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 1 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 2 &#125;, 0)&#125; å†çœ‹ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶çš„ä¾‹å­ 1234567componentDidMount() &#123; // this.state.val åˆå§‹ä¸º0 document.getElementById(&#x27;item&#x27;).addEventListener(&#x27;click&#x27;, () =&gt; &#123; this.setState(&#123; val: this.state.val + 1 &#125;) console.log(this.state.val) // 1 &#125;)&#125; åˆå¹¶orä¸åˆå¹¶stateé»˜è®¤æ˜¯åˆå¹¶ 12345678componentDidMount() &#123; this.setState( &#123; val: this.state.val + 1 &#125; ) this.setState( &#123; val: this.state.val + 2 &#125;, () =&gt; &#123; console.log(this.state.val) &#125; // 2 )&#125; ä»¥ä¸Šç»“æœä¸åº”è¯¥æ˜¯3å—ï¼Œä¸ºä»€ä¹ˆä¼šæ˜¯2ï¼Ÿå› ä¸ºé»˜è®¤ä¼šå¯¹setStateè¿›è¡Œåˆå¹¶ï¼Œé¿å…é‡å¤æ¸²æŸ“ï¼Œå¹¶ä»¥æœ€æ–°ä¸€æ¬¡ä¸ºå‡†ï¼Œæ‰€ä»¥ä¸æ˜¯3ï¼Œä¹Ÿä¸ä¼šæ˜¯1ã€‚ 12345678910componentDidMount() &#123; // this.state.val åˆå§‹ä¸º0 setTimeout(() =&gt; &#123; this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 1 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 2 &#125;, 0)&#125; é‚£ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸ºä»€ä¹ˆæ²¡åˆå¹¶å‘¢ï¼Œç­”æ¡ˆå¾ˆå®¹æ˜“çŒœåˆ°ï¼Œéƒ½å·²ç»åŒæ­¥æ‰§è¡Œäº†ï¼Œåœ¨æ‰§è¡Œä¸‹ä¸€ä¸ªsetStateä¹‹å‰ï¼Œå·²ç»æ›´æ–°äº†ï¼Œå½“ç„¶æ²¡åŠæ³•åˆå¹¶å•¦ã€‚ ä»¥ä¸‹æƒ…å†µä¹Ÿä¸ä¼šåˆå¹¶ 123456789101112131415componentDidMount() &#123; this.setState( (prevState, props) =&gt; &#123; return &#123; val: prevState.val + 1 &#125;, &#125;, () =&gt; &#123; console.log(this.state.val) &#125; // 1 ) this.setState( (prevState, props) =&gt; &#123; return &#123; val: prevState.val + 1 &#125;, &#125;, () =&gt; &#123; console.log(this.state.val) &#125; // 2 )&#125; å› ä¸ºå‡½æ•°ä¸æ‰§è¡Œï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šç»“æœï¼Œä¸èƒ½åƒå¯¹è±¡é‚£æ ·ä½¿ç”¨Object.assignæ¥åˆå¹¶ã€‚ å†å›åˆ°æœ€åˆé‚£ä¸ªä¾‹å­ 1234567891011121314151617componentDidMount() &#123; // this.state.val åˆå§‹ä¸º0 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 0 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 0 setTimeout(() =&gt; &#123; this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 2 this.setState(&#123; val: this.state.val + 1&#125;) console.log(this.state.val) // 3 &#125;, 0)&#125; ç°åœ¨è¿™ä¸ªé—®é¢˜å¯¹æˆ‘ä»¬æ¥è¯´å·²ç»éå¸¸ç®€å•äº†ï¼Œè‡³äºä¸ºä»€ä¹ˆï¼Œä¹Ÿå°±ä¸å¤šè¯´äº†ã€‚ ä¸ºä»€ä¹ˆæ˜¯ä¼ªå¼‚æ­¥ï¼Ÿæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ 123456789101112componentDidMount() &#123; console.log(&#x27;start&#x27;) Promise.resolve().then(() =&gt; console.log(&#x27;promise)) this.setState( &#123; val: this.state.val + 1 &#125;, () =&gt; &#123; console.log(&#x27;setState&#x27;) &#125; ) console.log(&#x27;end&#x27;)&#125; ä¸Šè¿°æ‰“å°ç»“æœä¸ºstartã€endã€setStateã€promise å‰ä¸¤ä¸ªç»“æœå¤§å®¶è‚¯å®šæ²¡æœ‰å¼‚è®®ï¼Œå› ä¸ºpromise.thenæ˜¯å¾®ä»»åŠ¡ï¼Œä½†æ˜¯promise.thenä¸æ˜¯åœ¨setStateå‰é¢å—ï¼Œä¸ºä»€ä¹ˆåè€Œæ˜¯setStateå…ˆæ‰“å°å‘¢ï¼Ÿ ç»“è®º setStateæœ¬è´¨ä¸Šæ˜¯åŒæ­¥ï¼Œåªä¸è¿‡è®©Reactåšæˆäº†å¼‚æ­¥çš„æ ·å­,å®ƒæ—¢ä¸æ˜¯å¾®ä»»åŠ¡ä¹Ÿä¸æ˜¯å®ä»»åŠ¡ï¼Œåœ¨å¾®ä»»åŠ¡å¼€å§‹ä¹‹å‰ï¼Œstateå°±å·²ç»è®¡ç®—å®Œäº† å› ä¸ºè¦è€ƒè™‘æ€§èƒ½é—®é¢˜ï¼Œå¤šæ¬¡stateä¿®æ”¹ï¼Œåªè¿›è¡Œä¸€æ¬¡DOMæ¸²æŸ“","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"}]},{"title":"arr.map(parseInt)çš„é—®é¢˜","slug":"map(parseInt)çš„é—®é¢˜","date":"2022-04-08T13:41:04.000Z","updated":"2022-04-18T13:56:10.299Z","comments":true,"path":"2022/04/08/map(parseInt)çš„é—®é¢˜/","link":"","permalink":"http://yoursite.com/2022/04/08/map(parseInt)%E7%9A%84%E9%97%AE%E9%A2%98/","excerpt":"","text":"è¿™ä¸ªé—®é¢˜è¿˜æŒºå‘çš„ï¼Œæˆ‘åœ¨å†™ç®—æ³•æ—¶ï¼Œè¿˜çœŸè¿™ä¹ˆå†™è¿‡ï¼Œå½“æ—¶ä¸çŸ¥é“æœ‰é—®é¢˜ï¼Œå¯èƒ½æœ‰äº›é¢˜ACä¸äº†å°±æ˜¯è¿™ä¸ªå¯¼è‡´çš„ é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹parseIntè¿™ä¸ªæ–¹æ³• string(å‚æ•°1)ï¼šå¿…éœ€ã€‚è¦è¢«è§£æçš„å­—ç¬¦ä¸²ã€‚ raidx(å‚æ•°2)ï¼šå¯é€‰ï¼Œé»˜è®¤ä¸º10ã€‚è¡¨ç¤ºè¦è§£æçš„æ•°å­—çš„åŸºæ•°ã€‚è¯¥å€¼ä»‹äº 2 ~ 36 ä¹‹é—´ã€‚ ä»å®šä¹‰ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒparseIntä¼šå°†stringæŒ‰ç…§raidxè¿›åˆ¶è§£æï¼Œæˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ 12345parseInt(&#x27;11&#x27;, 1) // NaN å› ä¸ºè¶…å‡ºäº†2-36çš„èŒƒå›´parseInt(&#x27;asd&#x27;, 1) // NaN å› ä¸ºä¸æ˜¯æ•°å­—parseInt(&#x27;3&#x27;, 2) // NaN å› ä¸º2è¿›åˆ¶æ²¡æœ‰3parseInt(&#x27;11&#x27;, 2) // 3parseInt(&#x27;11&#x27;, 10) // 10 éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœradixä¸åœ¨2-36èŒƒå›´å†…ï¼Œè¾“å‡ºç»“æœä¸ºNaNï¼Œä½†ä¹Ÿæœ‰ç‰¹ä¾‹ï¼š 1parseInt(&#x27;11&#x27;, 0) // å½“radixä¸º0æ—¶ï¼ŒæŒ‰10è¿›åˆ¶å¤„ç† äº†è§£äº†ä»¥ä¸Šå†…å®¹ï¼Œæˆ‘ä»¬æœ‰è¯·ä»Šå¤©çš„ä¸»è§’ 1[1,2,3].map(parseInt) æˆ‘ä»¬çŸ¥é“ï¼Œå½“mapè‡ªå®šä¹‰å›è°ƒå‡½æ•°æ—¶ï¼Œå†™æ³•å¦‚ä¸‹ 123[1,2,3].map(function(value, index) &#123; // ...&#125;) æ‰€ä»¥å‰é¢çš„ä»£ç ç­‰ä»·äº 123[1,2,3].map(function(value, index) &#123; return parseInt(value, index)&#125;) è¿”å›çš„ç»“æœä¸º[1, NaN, NaN] è‡³äºåŸå› ï¼Œæ˜¾è€Œæ˜“è§ï¼ŒçŸ¥é“ä½ å¹³æ—¶è¿™æ ·ç”¨ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤šNaNäº†å§","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"}]},{"title":"React Hooksç†è§£","slug":"React Hooksç†è§£","date":"2022-04-08T07:17:04.000Z","updated":"2022-04-18T13:56:14.294Z","comments":true,"path":"2022/04/08/React Hooksç†è§£/","link":"","permalink":"http://yoursite.com/2022/04/08/React%20Hooks%E7%90%86%E8%A7%A3/","excerpt":"","text":"å‰è¨€React Hooksæ˜¯React16.8çš„å¼ºå¤§ç‰¹æ€§ï¼Œæœ¬æ–‡ä¸»è¦è®°å½•ä¸ªäººå­¦ä¹ è¿‡ç¨‹ä¸­çš„ä¸€äº›ç†è§£ï¼Œç”±äºReactå®˜æ–¹æ–‡æ¡£å¯¹å…¶åŸºæœ¬æ¦‚å¿µçš„æè¿°å·²ç»ååˆ†ç›´è§‚,æœ¬æ–‡ä¹Ÿä¸ä¼šå•°å—¦çš„å†å¤åˆ¶æè¿°ä¸€éå®ƒçš„æ¦‚å¿µã€‚å› æ­¤ï¼Œæœ¬æ–‡å¯èƒ½ä¸é€‚ç”¨äºæœªå­¦ä¹ è¿‡Hooksçš„äººç¾¤ã€‚æœ¬æ–‡çš„ç†è§£åŸºäºå®˜æ–¹ç»™çš„ä¾‹å­ï¼Œåç»­å¯èƒ½ä¼šå¢æ·»ä¸€äº›æ–°çš„è¡¥å…… React Hooksåšäº†ä»€ä¹ˆäº‹ï¼Ÿå‘Šåˆ«classHook åœ¨ class å†…éƒ¨æ˜¯ä¸èµ·ä½œç”¨çš„ã€‚ä½†ä½ å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å–ä»£ classã€‚ å› ä¸ºæˆ‘æœ¬èº«å°±åœ¨React Hookså‘å¸ƒä¹‹å‰ä½¿ç”¨è¿‡Reactï¼Œèƒ½æ˜æ˜¾æ„Ÿè§‰åˆ°å…¶å¸¦æ¥çš„å¥½å¤„ã€‚ é¦–å…ˆæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåœ¨Hooksè¯ç”Ÿä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶è¢«ç§°ä¸ºæ— çŠ¶æ€ç»„ä»¶ï¼Œæˆ‘ä»¬æ— æ³•åœ¨å‡½æ•°ç»„ä»¶ä¸­å®šä¹‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä½¿ç”¨this.setStateè¿™æ ·çš„æ–¹æ³•ã€‚ è€Œclassä¹Ÿæ˜¯å­¦ä¹ Reactçš„ä¸€å¤§éšœç¢ï¼Œå³ä½¿æˆ‘ä»¬èƒ½å¤Ÿå¾ˆå¥½çš„ç†è§£Javascriptä¸­thisçš„å®šä¹‰ï¼Œä½†å¤æ‚çš„åœºæ™¯æœ‰æ—¶ä¹Ÿä¼šä¸ºæˆ‘ä»¬ç†è§£thisçš„æŒ‡å‘å¸¦æ¥å›°æ‰°ã€‚è€Œä¸”æˆ‘ä»¬è¿˜ä¸èƒ½å¿˜è®°ç»‘å®šäº‹ä»¶å¤„ç†å™¨ã€‚ Hooksè§£å†³äº†è¿™ä¸€é—®é¢˜ï¼Œæ¶ˆé™¤äº†thisï¼Œè®©æˆ‘ä»¬çš„ä»£ç æ›´å¥½ç†è§£ï¼Œè®©å‡½æ•°ç»„ä»¶èƒ½å¤Ÿä½¿ç”¨æ›´å¤šçš„Reactç‰¹æ€§ï¼Œä¹Ÿä¸éœ€è¦å†åŒºåˆ†classç»„ä»¶ä¸å‡½æ•°ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯äº†ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒReactå¹¶æ²¡æœ‰å¼ƒç”¨classçš„æ‰“ç®—ï¼ŒHook å’Œç°æœ‰ä»£ç å¯ä»¥åŒæ—¶å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ¸è¿›å¼åœ°ä½¿ç”¨ä»–ä»¬ã€‚Reactå›¢é˜Ÿä¹Ÿå°†ç»§ç»­ä¸ºclassç»„ä»¶æä¾›æ”¯æŒã€‚ æ¶ˆé™¤ç”Ÿå‘½å‘¨æœŸä¸­çš„å†—ä½™å’Œåˆ†ç¦»æ— å…³é€»è¾‘é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å‰¯ä½œç”¨ï¼Œå¼•ç”¨å®˜æ–¹åŸè¯ï¼šæ•°æ®è·å–ï¼Œè®¾ç½®è®¢é˜…ä»¥åŠæ‰‹åŠ¨æ›´æ”¹ React ç»„ä»¶ä¸­çš„ DOM éƒ½å±äºå‰¯ä½œç”¨ã€‚ä¸ç®¡ä½ çŸ¥ä¸çŸ¥é“è¿™äº›æ“ä½œï¼Œæˆ–æ˜¯â€œå‰¯ä½œç”¨â€è¿™ä¸ªåå­—ï¼Œåº”è¯¥éƒ½åœ¨ç»„ä»¶ä¸­ä½¿ç”¨è¿‡å®ƒä»¬ã€‚ å‰¯ä½œç”¨è¿™ä¸ªæ¦‚å¿µå…¶å®å¹¶ä¸æ˜¯æ¥è‡ªReactï¼Œè®²åˆ°å‰¯ä½œç”¨ï¼Œæˆ‘ä»¬ä¸å¾—ä¸æå¦ä¸€ä¸ªæ¦‚å¿µï¼šçº¯å‡½æ•°ã€‚ç®€å•æ¥è¯´ï¼Œçº¯å‡½æ•°å°±æ˜¯ï¼Œé€šè¿‡ç¡®å®šçš„è¾“å…¥ï¼Œäº§ç”Ÿç¡®å®šçš„è¾“å‡ºï¼Œåƒæˆ‘ä»¬ä¸­å­¦æ—¶æœŸæ•°å­¦ä¸­ç”¨çš„å‡½æ•°ï¼Œå°±æ˜¯çº¯å‡½æ•°ã€‚æ•°æ®è·å–ï¼Œè®¾ç½®è®¢é˜…ä»¥åŠæ‰‹åŠ¨æ›´æ”¹ React ç»„ä»¶ä¸­çš„ DOMï¼Œè¿™äº›å‰¯ä½œç”¨å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœï¼Œæ”¹å˜ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæœ‰äº†è¿™äº›ï¼Œå‡½æ•°å°±ä¸æ˜¯çº¯å‡½æ•°äº†ã€‚ æ›¾ç»ï¼Œæˆ‘ä»¬ç»å¸¸åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ä½¿ç”¨å‰¯ä½œç”¨ï¼Œæ¯”å¦‚åœ¨componentDidMountä¸­å‘èµ·è¯·æ±‚è·å–æ•°æ® ä»¥ä¸‹ä¾‹å­ä¸ºç»„ä»¶æ¯æ¬¡æ¸²æŸ“åæ›´æ–°é¡µé¢titleï¼š 1234567891011121314151617181920212223242526class Example extends React.Component &#123; constructor(props) &#123; super(props); this.state = &#123; count: 0 &#125;; &#125; componentDidMount() &#123; document.title = `You clicked $&#123;this.state.count&#125; times`; &#125; componentDidUpdate() &#123; document.title = `You clicked $&#123;this.state.count&#125; times`; &#125; render() &#123; return ( &lt;div&gt; &lt;p&gt;You clicked &#123;this.state.count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; this.setState(&#123; count: this.state.count + 1 &#125;)&#125;&gt; Click me &lt;/button&gt; &lt;/div&gt; ); &#125;&#125; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ç¼–å†™é‡å¤çš„ä»£ç ï¼Œå› ä¸ºæœ‰äº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ç»„ä»¶æ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œä½†Reactå¹¶æ²¡æœ‰æä¾›è¿™æ ·çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨useEffectå¤„ç†è¿™ä¸ªé—®é¢˜ 123456789101112131415161718import React, &#123; useState, useEffect &#125; from &#x27;react&#x27;;function Example() &#123; const [count, setCount] = useState(0); useEffect(() =&gt; &#123; document.title = `You clicked $&#123;count&#125; times`; &#125;); return ( &lt;div&gt; &lt;p&gt;You clicked &#123;count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt; Click me &lt;/button&gt; &lt;/div&gt; );&#125; æˆ‘ä»¬å¯ä»¥æŠŠuseEffect Hookçœ‹åšcomponentDidMountï¼ŒcomponentDidUpdateå’ŒcomponentWillUnmountè¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆã€‚ å¯¹ï¼Œä½ å‘ç°é—®é¢˜äº†ï¼Œä¸Šè¿°ä¾‹å­ä¸­æˆ‘ä»¬useEffectçš„å†…å®¹ï¼Œåªæ˜¯åœ¨æ¸²æŸ“åæ‰§è¡Œçš„,é‚£ä¹ˆæ€ä¹ˆå®ç°componentWillUnmountå‘¢ï¼Ÿ æœ‰ä¸€äº›å‰¯ä½œç”¨æ˜¯éœ€è¦æ¸…é™¤çš„ã€‚ä¾‹å¦‚è®¢é˜…å¤–éƒ¨æ•°æ®æºã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¸…é™¤å·¥ä½œæ˜¯éå¸¸é‡è¦çš„ï¼Œå¯ä»¥é˜²æ­¢å¼•èµ·å†…å­˜æ³„éœ²ã€‚ çœ‹ä»¥ä¸‹ä¾‹å­,å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªChatAPIæ¨¡å—ï¼Œå®ƒå…è®¸æˆ‘ä»¬è®¢é˜…å¥½å‹çš„åœ¨çº¿çŠ¶æ€ï¼š 1234567891011121314151617181920212223242526272829303132class FriendStatus extends React.Component &#123; constructor(props) &#123; super(props); this.state = &#123; isOnline: null &#125;; this.handleStatusChange = this.handleStatusChange.bind(this); &#125; componentDidMount() &#123; ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange ); &#125; componentWillUnmount() &#123; ChatAPI.unsubscribeFromFriendStatus( this.props.friend.id, this.handleStatusChange ); &#125; handleStatusChange(status) &#123; this.setState(&#123; isOnline: status.isOnline &#125;); &#125; render() &#123; if (this.state.isOnline === null) &#123; return &#x27;Loading...&#x27;; &#125; return this.state.isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;; &#125;&#125; ä½ ä¼šæ³¨æ„åˆ° componentDidMount å’Œ componentWillUnmount ä¹‹é—´ç›¸äº’å¯¹åº”ã€‚ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°è¿«ä½¿æˆ‘ä»¬æ‹†åˆ†è¿™äº›é€»è¾‘ä»£ç ï¼Œå³ä½¿è¿™ä¸¤éƒ¨åˆ†ä»£ç éƒ½ä½œç”¨äºç›¸åŒçš„å‰¯ä½œç”¨ã€‚ æˆ‘ä»¬ä½¿ç”¨useEffectæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š 123456789101112131415161718192021import React, &#123; useState, useEffect &#125; from &#x27;react&#x27;;function FriendStatus(props) &#123; const [isOnline, setIsOnline] = useState(null); useEffect(() =&gt; &#123; function handleStatusChange(status) &#123; setIsOnline(status.isOnline); &#125; ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); // Specify how to clean up after this effect: return function cleanup() &#123; ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); &#125;; &#125;); if (isOnline === null) &#123; return &#x27;Loading...&#x27;; &#125; return isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;;&#125; useEffectèƒ½å¤Ÿè¿”å›ä¸€ä¸ªæ¸…é™¤å‡½æ•°ï¼Œè¿™æ˜¯å¯é€‰çš„æœºåˆ¶ã€‚å¦‚æ­¤å¯ä»¥å°†æ·»åŠ å’Œç§»é™¤è®¢é˜…çš„é€»è¾‘æ”¾åœ¨ä¸€èµ·ã€‚å®ƒä»¬éƒ½å±äº effect çš„ä¸€éƒ¨åˆ†ã€‚ ä¸componentWillUnmountä¸åŒçš„æ˜¯ï¼ŒuseEffectè¿”å›çš„æ¸…æ¥šå‡½æ•°åœ¨æ¯æ¬¡é‡æ–°æ¸²æŸ“æ—¶éƒ½ä¼šæ‰§è¡Œ ä»¥å‰åœ¨classä¸­ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ—¶è¿˜ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä»¥ä»¥ä¸Šçš„ä¾‹å­ä¸¾ä¾‹ï¼š 1234567891011121314151617181920212223242526272829303132class FriendStatusWithCounter extends React.Component &#123; constructor(props) &#123; super(props); this.state = &#123; count: 0, isOnline: null &#125;; this.handleStatusChange = this.handleStatusChange.bind(this); &#125; componentDidMount() &#123; document.title = `You clicked $&#123;this.state.count&#125; times`; ChatAPI.subscribeToFriendStatus( this.props.friend.id, this.handleStatusChange ); &#125; componentDidUpdate() &#123; document.title = `You clicked $&#123;this.state.count&#125; times`; &#125; componentWillUnmount() &#123; ChatAPI.unsubscribeFromFriendStatus( this.props.friend.id, this.handleStatusChange ); &#125; handleStatusChange(status) &#123; this.setState(&#123; isOnline: status.isOnline &#125;); &#125; // ... çœ‹ï¼Œå½“æˆ‘ä»¬å¦‚æœåˆéœ€è¦è®¾ç½®é¡µé¢çš„titleï¼Œä¹Ÿéœ€è¦è®¢é˜…å¥½å‹çš„åœ¨çº¿çŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬åªèƒ½åƒä»¥ä¸Šé‚£æ ·å†™ï¼Œè¿™æ ·é™¤äº†å°†ç›¸å…³é€»è¾‘åˆ†å‰²åˆ°ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»¥å¤–ï¼ŒcomponentDidMountä¸­åŒæ—¶åŒ…å«äº†ä¸¤ä¸ªä¸åŒåŠŸèƒ½çš„ä»£ç ã€‚ é‚£ä¹ˆHookå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå°±åƒä½ å¯ä»¥ä½¿ç”¨å¤šä¸ªstateçš„Hookä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªeffectã€‚è¿™ä¼šå°†ä¸ç›¸å…³é€»è¾‘åˆ†ç¦»åˆ°ä¸åŒçš„ effectä¸­ï¼š 1234567891011121314151617181920function FriendStatusWithCounter(props) &#123; const [count, setCount] = useState(0); useEffect(() =&gt; &#123; document.title = `You clicked $&#123;count&#125; times`; &#125;); const [isOnline, setIsOnline] = useState(null); useEffect(() =&gt; &#123; function handleStatusChange(status) &#123; setIsOnline(status.isOnline); &#125; ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange); return () =&gt; &#123; ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange); &#125;; &#125;); // ...&#125; Hookå…è®¸æˆ‘ä»¬æŒ‰ç…§ä»£ç çš„ç”¨é€”åˆ†ç¦»ä»–ä»¬ï¼Œè€Œä¸æ˜¯åƒç”Ÿå‘½å‘¨æœŸå‡½æ•°é‚£æ ·ã€‚Reactå°†æŒ‰ç…§effectå£°æ˜çš„é¡ºåºä¾æ¬¡è°ƒç”¨ç»„ä»¶ä¸­çš„æ¯ä¸€ä¸ªeffectã€‚ å¤ç”¨çŠ¶æ€é€»è¾‘å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªå¥½å‹åœ¨çº¿çŠ¶æ€çš„Hook,å®ƒå°† friendID ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›è¯¥å¥½å‹æ˜¯å¦åœ¨çº¿ 12345678910111213141516function useFriendStatus(friendID) &#123; const [isOnline, setIsOnline] = useState(null); function handleStatusChange(status) &#123; setIsOnline(status.isOnline); &#125; useEffect(() =&gt; &#123; ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange); return () =&gt; &#123; ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange); &#125;; &#125;); return isOnline;&#125; æˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å®ƒ 12345678function FriendStatus(props) &#123; const isOnline = useFriendStatus(props.friend.id); if (isOnline === null) &#123; return &#x27;Loading...&#x27;; &#125; return isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;;&#125; 123456789function FriendListItem(props) &#123; const isOnline = useFriendStatus(props.friend.id); return ( &lt;li style=&#123;&#123; color: isOnline ? &#x27;green&#x27; : &#x27;black&#x27; &#125;&#125;&gt; &#123;props.friend.name&#125; &lt;/li&gt; );&#125; é¦–å…ˆè¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªä¸¤ä¸ªç»„ä»¶çš„stateæ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼ŒHookåªå¤ç”¨stateçš„é€»è¾‘ï¼Œä¸å¤ç”¨stateæœ¬èº« ä¹Ÿæ˜¯è¿™ä¸ªä¾‹å­ï¼Œè®©æˆ‘æ›´å¥½çš„ç†è§£äº†Hookåå­—çš„ç”±æ¥ï¼Œæ­£å¦‚å®ƒçš„ä¸­æ–‡ç¿»è¯‘é’©å­,å®ƒèƒ½å¤Ÿå°†ä¸€äº›å…¬ç”¨çš„é€»è¾‘æŠ½ç¦»å‡ºç»„ä»¶ï¼ˆæˆ–è€…è¯´ä¸€äº›ç‰¹æ€§ï¼Œæ¯”å¦‚useStateï¼‰ï¼Œä¸ç»„ä»¶æœ¬èº«è§£è€¦ï¼Œåœ¨éœ€è¦ä½¿ç”¨å®ƒçš„ç»„ä»¶é‡Œé’©å…¥å®ƒã€‚ Hookè§„åˆ™ä»¥ä¸‹æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£åŸè¯ åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hookä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hookï¼Œï¼Œç¡®ä¿æ€»æ˜¯åœ¨ä½ çš„Reactå‡½æ•°çš„æœ€é¡¶å±‚è°ƒç”¨ä»–ä»¬ã€‚éµå®ˆè¿™æ¡è§„åˆ™ï¼Œä½ å°±èƒ½ç¡®ä¿Hookåœ¨æ¯ä¸€æ¬¡æ¸²æŸ“ä¸­éƒ½æŒ‰ç…§åŒæ ·çš„é¡ºåºè¢«è°ƒç”¨ã€‚è¿™è®©Reactèƒ½å¤Ÿåœ¨å¤šæ¬¡çš„useStateå’ŒuseEffectè°ƒç”¨ä¹‹é—´ä¿æŒHookçŠ¶æ€çš„æ­£ç¡®ã€‚ è‡³äºä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼ŒReactæ–‡æ¡£ä¸­ä¹Ÿç»™äº†ç›¸å…³çš„åŸå› :12345678910111213141516171819function Form() &#123; // 1. Use the name state variable const [name, setName] = useState(&#x27;Mary&#x27;); // 2. Use an effect for persisting the form useEffect(function persistForm() &#123; localStorage.setItem(&#x27;formData&#x27;, name); &#125;); // 3. Use the surname state variable const [surname, setSurname] = useState(&#x27;Poppins&#x27;); // 4. Use an effect for updating the title useEffect(function updateTitle() &#123; document.title = name + &#x27; &#x27; + surname; &#125;); // ...&#125;1234567891011121314151617// ------------// é¦–æ¬¡æ¸²æŸ“// ------------useState(&#x27;Mary&#x27;) // 1. ä½¿ç”¨ &#x27;Mary&#x27; åˆå§‹åŒ–å˜é‡åä¸º name çš„ stateuseEffect(persistForm) // 2. æ·»åŠ  effect ä»¥ä¿å­˜ form æ“ä½œuseState(&#x27;Poppins&#x27;) // 3. ä½¿ç”¨ &#x27;Poppins&#x27; åˆå§‹åŒ–å˜é‡åä¸º surname çš„ stateuseEffect(updateTitle) // 4. æ·»åŠ  effect ä»¥æ›´æ–°æ ‡é¢˜// -------------// äºŒæ¬¡æ¸²æŸ“// -------------useState(&#x27;Mary&#x27;) // 1. è¯»å–å˜é‡åä¸º name çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰useEffect(persistForm) // 2. æ›¿æ¢ä¿å­˜ form çš„ effectuseState(&#x27;Poppins&#x27;) // 3. è¯»å–å˜é‡åä¸º surname çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰useEffect(updateTitle) // 4. æ›¿æ¢æ›´æ–°æ ‡é¢˜çš„ effect// ...æ¯”å¦‚æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­å®šä¹‰äº†å››ä¸ªHookï¼Œå¦‚æœåœ¨é¡¶å±‚è°ƒç”¨çš„è¯ï¼Œæ•ˆæœå¦‚ä¸Šæ‰€ç¤ºã€‚ æˆ‘ä»¬æ³¨æ„åˆ°ï¼ŒäºŒæ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼ŒuseStateè¯»å–çš„æ˜¯æ”¹å˜åçš„çŠ¶æ€ï¼ˆå¦‚æœæœªæ”¹å˜ï¼Œå°±æ˜¯ä¹‹å‰çš„çŠ¶æ€ï¼‰ï¼Œè¿™æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ åªè¦ Hook çš„è°ƒç”¨é¡ºåºåœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´ä¿æŒä¸€è‡´ï¼ŒReact å°±èƒ½æ­£ç¡®åœ°å°†å†…éƒ¨ state å’Œå¯¹åº”çš„ Hook è¿›è¡Œå…³è”ã€‚ å¦‚æœæˆ‘ä»¬å°†ä¸€ä¸ªHookçš„è°ƒç”¨æ”¾åˆ°ä¸€ä¸ªæ¡ä»¶è¯­å¥ä¸­ 123456// åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hook è¿åç¬¬ä¸€æ¡è§„åˆ™if (name !== &#x27;&#x27;) &#123; useEffect(function persistForm() &#123; localStorage.setItem(&#x27;formData&#x27;, name); &#125;);&#125; 1234useState(&#x27;Mary&#x27;) // 1. è¯»å–å˜é‡åä¸º name çš„ stateï¼ˆå‚æ•°è¢«å¿½ç•¥ï¼‰// useEffect(persistForm) // æ­¤ Hook è¢«å¿½ç•¥ï¼useState(&#x27;Poppins&#x27;) // 2 ï¼ˆä¹‹å‰ä¸º 3ï¼‰ã€‚è¯»å–å˜é‡åä¸º surname çš„ state å¤±è´¥, å®ƒå’Œä¸Šä¸€æ¬¡çš„useEffect(persistForm) å¯¹åº”äº†useEffect(updateTitle) // 3 ï¼ˆä¹‹å‰ä¸º 4ï¼‰ã€‚æ›¿æ¢æ›´æ–°æ ‡é¢˜çš„ effect å¤±è´¥ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆHookéœ€è¦åœ¨æˆ‘ä»¬ç»„ä»¶çš„æœ€é¡¶å±‚è°ƒç”¨ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æœ‰æ¡ä»¶åœ°æ‰§è¡Œä¸€ä¸ªeffectï¼Œå¯ä»¥å°†åˆ¤æ–­æ”¾åˆ°Hookçš„å†…éƒ¨ï¼š 123456useEffect(function persistForm() &#123; // ğŸ‘ å°†æ¡ä»¶åˆ¤æ–­æ”¾ç½®åœ¨ effect ä¸­ if (name !== &#x27;&#x27;) &#123; localStorage.setItem(&#x27;formData&#x27;, name); &#125;&#125;); åªåœ¨ React å‡½æ•°ä¸­è°ƒç”¨ Hookä¸è¦åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚ä½ å¯ä»¥ï¼š åœ¨Reactçš„å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨Hook åœ¨è‡ªå®šä¹‰Hookä¸­è°ƒç”¨å…¶ä»–Hook","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"React Hooks","slug":"React-Hooks","permalink":"http://yoursite.com/tags/React-Hooks/"}]},{"title":"ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†ï¼‰ï¼Ÿ","slug":"ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†ï¼‰ï¼Ÿ","date":"2022-04-04T11:35:24.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2022/04/04/ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†ï¼‰ï¼Ÿ/","link":"","permalink":"http://yoursite.com/2022/04/04/%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%EF%BC%88%E4%BB%A3%E7%90%86%EF%BC%89%EF%BC%9F/","excerpt":"","text":"å‰ç½®çŸ¥è¯†äº‹ä»¶å†’æ³¡ &amp;&amp; äº‹ä»¶æ•è·å½“æˆ‘ä»¬è§¦å‘ä¸€ä¸ªå…ƒç´ äº‹ä»¶æ—¶ï¼Œå¦‚æœäº‹ä»¶ä»æœ€å†…å±‚å…ƒç´ ä¼ é€’åˆ°æœ€å¤–å±‚å…ƒç´ ï¼Œæ­¤è¿‡ç¨‹ä¸ºäº‹ä»¶å†’æ³¡ï¼Œå¦‚æœä»æœ€å¤–å±‚å…ƒç´ ä¼ é€’åˆ°æœ€å†…å±‚å…ƒç´ ï¼Œæ­¤è¿‡ç¨‹ä¸ºäº‹ä»¶æ•è· å¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºï¼š è‹¥è§¦å‘äº‹ä»¶å†’æ³¡ï¼Œåˆ™äº‹ä»¶æ‰§è¡Œé¡ºåºä¸ºcã€bã€a è‹¥è§¦å‘äº‹ä»¶æ•è·ï¼Œåˆ™äº‹ä»¶æ‰§è¡Œé¡ºåºä¸ºaã€bã€c 123456&lt;div class=&quot;a&quot;&gt; &lt;div class=&quot;b&quot;&gt; &lt;div class=&quot;c&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; Javascriptä¸­addEventListenerä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶çš„æ–¹æ³•ï¼Œå®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•° eventï¼šç»‘å®šçš„äº‹ä»¶å functionï¼šæ‰§è¡Œçš„å›è°ƒå‡½æ•° useCapture false: é»˜è®¤ï¼Œä»£è¡¨å†’æ³¡æ—¶ç»‘å®š true: ä»£è¡¨æ•è·æ—¶ç»‘å®š e.targetå’Œe.currentTargetåœ¨ä»¥ä¸Šçš„ä¾‹å­ä¸­æ–°å¢jsä»£ç  123456789101112131415161718192021&lt;div class=&quot;a&quot;&gt; &lt;div class=&quot;b&quot;&gt; &lt;div class=&quot;c&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;script&gt; const a =document.querySelector(&#x27;.a&#x27;) const b =document.querySelector(&#x27;.b&#x27;) const c =document.querySelector(&#x27;.c&#x27;) a.addEventListener(&#x27;click&#x27;, function(e) &#123; console.log(`target: $&#123;e.target.className&#125;, currentTargetï¼š$&#123;e.currentTarget.className&#125;`) &#125;) b.addEventListener(&#x27;click&#x27;, function(e) &#123; console.log(`target: $&#123;e.target.className&#125;, currentTargetï¼š$&#123;e.currentTarget.className&#125;`) &#125;) c.addEventListener(&#x27;click&#x27;, function(e) &#123; console.log(`target: $&#123;e.target.className&#125;, currentTargetï¼š$&#123;e.currentTarget.className&#125;`) &#125;)&lt;/script&gt; ç‚¹å‡»cå…ƒç´ ï¼Œæ§åˆ¶å°æ‰“å°ç»“æœä¸ºï¼š 123target: c, currentTargetï¼šctarget: c, currentTargetï¼šbtarget: c, currentTargetï¼ša ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºe.targetä¸ºæˆ‘ä»¬ç‚¹å‡»çš„å…ƒç´ ï¼ˆå¯ä»¥ç†è§£ä¸ºcåœ¨aã€bçš„ä¸Šå±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬ç‚¹å‡»çš„æ˜¯cï¼‰ï¼Œe.currentTargetä¸ºç»‘å®šäº‹ä»¶çš„å…ƒç´ ï¼ˆè¿™é‡Œæ˜¯å†’æ³¡ï¼Œæ‰€ä»¥ä»c-&gt;aï¼‰ äº‹ä»¶å§”æ‰˜è€ƒè™‘ä¸€ä¸ªéœ€æ±‚ï¼š 123456&lt;ul class=&quot;ul&quot;&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt; å¦‚ä¸Šæ‰€ç¤ºï¼Œulä¸­æœ‰4ä¸ªliï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ç‚¹å‡»liåè¾“å‡ºå¯¹åº”liçš„å†…å®¹æ€ä¹ˆåŠï¼Ÿ æ²¡é”™ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸ªliéƒ½ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œä½†ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œè¿™é‡Œåªæœ‰4ä¸ªliï¼Œå®é™…åº”ç”¨åœºæ™¯å¯èƒ½ä¸æ­¢è¿™ä¹ˆå¤šï¼Œé‚£éš¾é“æˆ‘ä»¬ç»™æ¯ä¸ªliéƒ½ç»‘å®šäº‹ä»¶å—ï¼Ÿ åˆ©ç”¨æˆ‘ä»¬ä¹‹å‰æ‰€å­¦çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š 12345678910111213&lt;ul class=&quot;ul&quot;&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt;&lt;script&gt; const ul = document.querySelector(&#x27;.ul&#x27;) ul.addEventListener(&#x27;click&#x27;, function(e) &#123; console.log(e.target.innerHTML) &#125;)&lt;/script&gt; è¿™å°±æ˜¯äº‹ä»¶å§”æ‰˜å•¦ï¼Œå°±æ˜¯æŠŠå­å…ƒç´ çš„äº‹ä»¶ï¼Œå…¶åŸç†å°±æ˜¯åˆ©ç”¨äº‹ä»¶å†’æ³¡å’Œe.targetï¼ŒæŠŠå¤„ç†å­å…ƒç´ çš„æ“ä½œï¼Œå§”æ‰˜åœ¨çˆ¶å…ƒç´ çš„äº‹ä»¶ä¸­å¤„ç†ã€‚ï¼Œ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"}]},{"title":"Javascriptå¸¸è§æ‰‹å†™é¢˜","slug":"Javascriptå¸¸è§æ‰‹å†™é¢˜","date":"2022-03-20T11:17:24.000Z","updated":"2022-06-06T03:22:14.522Z","comments":true,"path":"2022/03/20/Javascriptå¸¸è§æ‰‹å†™é¢˜/","link":"","permalink":"http://yoursite.com/2022/03/20/Javascript%E5%B8%B8%E8%A7%81%E6%89%8B%E5%86%99%E9%A2%98/","excerpt":"","text":"é˜²æŠ–ï¼ˆdebounceï¼‰123456789function debounce(fn, timeout)&#123; let timer = null return function(...args)&#123; if (timer) clearTimeout(timer) timer = setTimeout(() =&gt; &#123; fn.apply(this, args) &#125;, timeout) &#125;&#125; èŠ‚æµï¼ˆthrottleï¼‰12345678910function throttle(fn, timeout) &#123; let timer = null return function (...args) &#123; if(timer) return timer = setTimeout(() =&gt; &#123; fn.apply(this, args) timer = null &#125;, timeout) &#125;&#125; å‡½æ•°æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰123456789101112131415161718192021222324function dynamicAdd() &#123; return [...arguments].reduce((a, b) =&gt; a + b);&#125;function curry(fn) &#123; const args = []; const add = function() &#123; args.push(...arguments); return add; &#125; add.toString = function() &#123; return fn.apply(null, args) &#125; return add;&#125;const add = curry(dynamicAdd);console.log(+add(1)) // 1console.log(+add(1)(2)) // 2console.log(+add(1)(2)(3)) // 4console.log(+add(1, 2, 3)(4, 5)) // 25 æ•°æ®ç±»å‹åˆ¤æ–­123456789101112131415161718function typeOf(x) &#123; if (typeof x !== &#x27;object&#x27;)&#123; return typeof x &#125; else &#123; return Object.prototype.toString.call(x).slice(8, -1).toLowerCase() &#125;&#125;console.log(typeOf(1)) // numberconsole.log(typeOf(&#x27;1&#x27;)) // stringconsole.log(typeOf(null)) // nullconsole.log(typeOf(undefined)) // undefinedconsole.log(typeOf(true)) // booleanconsole.log(typeOf(Symbol(&#x27;1&#x27;))) // symbolconsole.log(typeOf(BigInt(1))) // bigintconsole.log(typeOf(new Array([]))) // arrayconsole.log(typeOf(new Date())) // dateconsole.log(typeOf(&#123;&#125;)) // object æ•°ç»„å»é‡ES5å®ç°ï¼š123456function unique(arr) &#123; var res = arr.filter(function(item, index) &#123; return arr.indexOf(item) === index &#125;) return res&#125; ES6å®ç°ï¼š1const unique = arr =&gt; Array.from([...new Set(arr)]) æ•°ç»„æ‰å¹³åŒ–ES5å®ç°ï¼š12345678910111213function flatten(arr) &#123; var res = [] for (var i = 0; i &lt; arr.length; i++) &#123; if (Array.isArray(arr[i])) &#123; res = res.concat(flatten(arr[i])) &#125; else &#123; res.push(arr[i]) &#125; &#125; return res&#125; ES6å®ç°ï¼š123456function flatten(arr) &#123; while (arr.some(item =&gt; Array.isArray(item))) &#123; arr = [].concat(...arr) &#125; return arr&#125; PromisePromise.all1234567891011121314151617181920const all = promiseList =&gt; &#123; const result = [] let count = 0 return new Promise((resolve, reject) =&gt; &#123; const addData = (index, value) =&gt; &#123; result[index] = value count++ if (count === promiseList.length) resolve(result) &#125; promiseList.forEach((promise, index) =&gt; &#123; if (promise instanceof Promise) &#123; promise.then(res =&gt; &#123; addData(index, res) &#125;, err =&gt; reject(err)) &#125; else &#123; addData(index, promise) &#125; &#125;) &#125;)&#125; Promise.race123456789101112131415const race = promiseList =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; promiseList.forEach(promise =&gt; &#123; if (promise instanceof Promise) &#123; promise.then(res =&gt; &#123; resolve(res) &#125;, err =&gt; &#123; reject(err) &#125;) &#125; else &#123; resolve(promise) &#125; &#125;) &#125;)&#125; Promise.allSettled123456789101112131415161718192021222324252627const allSettled = promiseList =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; const res = [] let count = 0 const addData = (status, value, i) =&gt; &#123; res[i] = &#123; status, value &#125; count++ if (count === promiseList.length) &#123; resolve(res) &#125; &#125; promiseList.forEach((promise, i) =&gt; &#123; if (promise instanceof Promise) &#123; promise.then(res =&gt; &#123; addData(&#x27;fulfilled&#x27;, res, i) &#125;, err =&gt; &#123; addData(&#x27;rejected&#x27;, err, i) &#125;) &#125; else &#123; addData(&#x27;fulfilled&#x27;, promise, i) &#125; &#125;) &#125;)&#125; Promise.any12345678910111213141516171819const any = promiseList =&gt; &#123; return new Promise((resolve, reject) =&gt; &#123; let count = 0 promiseList.forEach((promise) =&gt; &#123; if (promise instanceof Promise) &#123; promise.then(val =&gt; &#123; resolve(val) &#125;, err =&gt; &#123; count++ if (count === promiseList.length) &#123; reject(new AggregateError(&#x27;All promises were rejected&#x27;)) &#125; &#125;) &#125; else &#123; resolve(promise) &#125; &#125;) &#125;)&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"}]},{"title":"æµè§ˆå™¨åˆ°åº•æ˜¯æ€ä¹ˆæ¸²æŸ“é¡µé¢çš„?","slug":"æµè§ˆå™¨åˆ°åº•æ˜¯æ€ä¹ˆæ¸²æŸ“é¡µé¢çš„ï¼Ÿ","date":"2022-03-20T02:21:23.000Z","updated":"2022-06-06T03:22:14.526Z","comments":true,"path":"2022/03/20/æµè§ˆå™¨åˆ°åº•æ˜¯æ€ä¹ˆæ¸²æŸ“é¡µé¢çš„ï¼Ÿ/","link":"","permalink":"http://yoursite.com/2022/03/20/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%88%B0%E5%BA%95%E6%98%AF%E6%80%8E%E4%B9%88%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E7%9A%84%EF%BC%9F/","excerpt":"","text":"ä¸‰ä¸ªé˜¶æ®µå½“urlè¾“å…¥åˆ°åœ°å€æ ï¼Œåˆ°é¡µé¢æ¸²æŸ“å®Œæˆï¼Œæ€»å…±ä¼šæœ‰ä¸‰ä¸ªé˜¶æ®µ HTTPè¯·æ±‚é˜¶æ®µ HTTPå“åº”é˜¶æ®µ æµè§ˆå™¨æ¸²æŸ“é˜¶æ®µ è®©æˆ‘ä»¬æ¥çœ‹çœ‹æ¯ä¸ªé˜¶æ®µåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ HTTPè¯·æ±‚é˜¶æ®µ åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥URLåï¼Œç‚¹å‡»å›è½¦è·³è½¬ æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ·HTTPè¯·æ±‚ DNSè§£æ TCPä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ å»ºç«‹è¿æ¥åå‘èµ·è¯·æ±‚ HTTPå“åº”é˜¶æ®µ æœåŠ¡ç«¯å‡†å¤‡èµ„æº æœåŠ¡ç«¯å°†èµ„æºè¿”å›ç»™æµè§ˆå™¨ TCPå››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ æµè§ˆå™¨æ¸²æŸ“é˜¶æ®µ æ¥å—è¿”å›çš„èµ„æº åœ¨å†…å­˜ä¸­å¼€è¾Ÿå‡ºä¸€å—æ ˆå†…å­˜ è§£æä»£ç ï¼ˆå½“é‡åˆ°linkã€imgã€scriptç­‰éœ€è¦åŠ è½½å¤–éƒ¨èµ„æºçš„æ–‡ä»¶åï¼Œå¼€è¾Ÿæ–°çš„çº¿ç¨‹å»åŠ è½½èµ„æºæ–‡ä»¶ï¼‰ è§£æDOMï¼Œå½¢æˆDOMæ ‘ï¼ŒåŠ è½½CSSï¼Œå½¢æˆCSSOMæ ‘ï¼ˆDOMå’ŒCSSOMé€šå¸¸å¹¶è¡Œæ„å»ºï¼‰ æµè§ˆå™¨å°†DOMæ ‘å’ŒCSSæ ‘åˆå¹¶ç”ŸæˆRender Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰ é¡µé¢è¿›è¡Œå›æµï¼Œå®ŒæˆåŸºæœ¬çš„å¸ƒå±€ é¡µé¢è¿›è¡Œé‡ç»˜ï¼Œè¿›è¡Œæ ·å¼çš„å±•ç¤º GPUæ¸²æŸ“æ•´ä¸ªé¡µé¢ HTMLä¸CSSçš„è§£æä¸»è¦ç”±GUIæ¸²æŸ“çº¿ç¨‹è´Ÿè´£ï¼Œjsç”±Javascriptå¼•æ“çº¿ç¨‹è´Ÿè´£ï¼Œç”±äºjså¯ä»¥æ“ä½œdomå…ƒç´ å’Œæ ·å¼ï¼Œæ‰€ä»¥å¦‚æœGUIçº¿ç¨‹å’ŒJavascriptå¼•æ“çº¿ç¨‹ä¸€èµ·å¹¶è¡Œä¼šé€ æˆå†²çªã€‚å› æ­¤GUIæ¸²æŸ“çº¿ç¨‹ä¸Javascriptå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„ã€‚ è‹¥è§£ædomæ—¶é‡åˆ°scriptéœ€è¦æ‰§è¡Œjsï¼Œåˆ™ä¼šé˜»å¡jsçš„æ‰§è¡Œï¼Œç›´åˆ°cssæ ·å¼è¡¨åŠ è½½å®Œæˆ è‹¥è§£ædomæ—¶csså·²åŠ è½½å®Œæ¯•ï¼Œé‡åˆ°scriptéœ€è¦æ‰§è¡Œjsï¼Œåˆ™ä¼šåœæ­¢è§£ædomï¼Œå…ˆæ‰§è¡Œjsã€‚å› æ­¤ï¼Œæˆ‘ä»¬æœ€å¥½æŠŠscriptæ”¾åœ¨bodyçš„æœ€åé¢ã€‚ DOMContentLoaded ä¸ load çš„åŒºåˆ«? å½“DOMContentLoadedäº‹ä»¶è§¦å‘æ—¶,ä»…å½“ DOM è§£æå®Œæˆå,ä¸åŒ…æ‹¬æ ·å¼è¡¨,å›¾ç‰‡ã€‚æˆ‘ä»¬å‰é¢æåˆ°CSS åŠ è½½ä¼šé˜»å¡ Dom çš„æ¸²æŸ“å’Œåé¢ js çš„æ‰§è¡Œ,jsä¼šé˜»å¡ Dom è§£æ,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°ç»“è®º:å½“æ–‡æ¡£ä¸­æ²¡æœ‰è„šæœ¬æ—¶,æµè§ˆå™¨è§£æå®Œæ–‡æ¡£ä¾¿èƒ½è§¦å‘ DOMContentLoaded äº‹ä»¶ã€‚å¦‚æœæ–‡æ¡£ä¸­åŒ…å«è„šæœ¬,åˆ™è„šæœ¬ä¼šé˜»å¡æ–‡æ¡£çš„è§£æ,è€Œè„šæœ¬éœ€è¦ç­‰CSSOM æ„å»ºå®Œæˆæ‰èƒ½æ‰§è¡Œã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹,DOMContentLoaded çš„è§¦å‘ä¸éœ€è¦ç­‰å¾…å›¾ç‰‡ç­‰å…¶ä»–èµ„æºåŠ è½½å®Œæˆã€‚ å½“ onload äº‹ä»¶è§¦å‘æ—¶,é¡µé¢ä¸Šæ‰€æœ‰çš„ DOM,æ ·å¼è¡¨,è„šæœ¬,å›¾ç‰‡ç­‰èµ„æºå·²ç»åŠ è½½å®Œæ¯•ã€‚ DOMContentLoaded -&gt; loadã€‚ linkæ ‡ç­¾ä¸ºä»€ä¹ˆæ”¾åœ¨headæ ‡ç­¾é‡Œï¼Ÿæˆ‘ä»¬å¹³æ—¶ç¼–å†™ä»£ç æ—¶ï¼Œä¸€èˆ¬éƒ½æŠŠåŠ è½½cssçš„&lt;link&gt;æ ‡ç­¾éƒ½æ”¾åœ¨&lt;head&gt;æ ‡ç­¾ä¸­ï¼Œè€Œä¸æ˜¯åƒåŠ è½½jsæ–‡ä»¶çš„scriptæ ‡ç­¾é‚£æ ·æ”¾åœ¨bodyä¸­æœ€åï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ æ”¾åœ¨bodyä¸­ï¼šDOM Treeæ„å»ºå®Œæˆä¹‹åä¾¿å¼€å§‹æ„å»ºRender Tree, å¹¶è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µ, ç­‰åŠ è½½è§£æå®Œcssä¹‹å, å¼€å§‹æ„å»ºCSSOM Tree, å¹¶å’ŒDOM Treeé‡æ–°æ„å»ºRender Tree, é‡æ–°è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µã€‚ æ”¾åœ¨headä¸­ï¼šå…ˆåŠ è½½css, ä¹‹åè§£æcssæ„å»ºCSSOM Tree, äºæ­¤åŒæ—¶æ„å»ºDOMTree, CSSOM Treeå’ŒDOM Treeéƒ½æ„å»ºå®Œæ¯•ä¹‹åå¼€å§‹æ„å»ºRender Tree, è®¡ç®—å¸ƒå±€æ¸²æŸ“ç½‘é¡µã€‚ å¯¹æ¯”ä¸¤è€…, cssæ”¾åœ¨&lt;head&gt;æ ‡ç­¾ä¸­æ¯”cssæ”¾åœ¨bodyæ ‡ç­¾å°¾éƒ¨å°‘äº†ä¸€æ¬¡æ„å»ºRender Tree, ä¸€æ¬¡è®¡ç®—å¸ƒå±€å’Œä¸€æ¬¡æ¸²æŸ“ç½‘é¡µ, å› æ­¤æ€§èƒ½ä¼šæ›´å¥½; å¹¶ä¸”cssæ”¾åœ¨bodyæ ‡ç­¾å°¾éƒ¨æ—¶ä¼šåœ¨ç½‘é¡µä¸­çŸ­æš‚å‡ºç°â€è£¸å¥”â€çš„HTML, è¿™ä¸åˆ©äºç”¨æˆ·ä½“éªŒã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"http://yoursite.com/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"}]},{"title":"Javascriptä¼ªæ•°ç»„ä¸arguments","slug":"Javascriptä¼ªæ•°ç»„ä¸arguments","date":"2022-03-19T13:59:01.000Z","updated":"2022-06-06T03:22:14.521Z","comments":true,"path":"2022/03/19/Javascriptä¼ªæ•°ç»„ä¸arguments/","link":"","permalink":"http://yoursite.com/2022/03/19/Javascript%E4%BC%AA%E6%95%B0%E7%BB%84%E4%B8%8Earguments/","excerpt":"","text":"ä»€ä¹ˆæ˜¯ä¼ªæ•°ç»„ï¼Ÿæ‰€è°“ä¼ªæ•°ç»„ï¼Œä¹Ÿç§°ä¸ºç±»æ•°ç»„å¯¹è±¡ï¼ŒæŒ‡çš„æ˜¯å¯ä»¥é€šè¿‡ç´¢å¼•å±æ€§è®¿é—®å…ƒç´ å¹¶ä¸”æ‹¥æœ‰ length å±æ€§çš„å¯¹è±¡ã€‚ ä»¥ä¸‹ä¸ºä¸€ä¸ªç®€å•çš„ä¼ªæ•°ç»„çš„ä¾‹å­ï¼š 123456const arrFake = &#123; 0: &#x27;name&#x27;, 1: &#x27;age&#x27;, 2: &#x27;job&#x27;, length: 3&#125; å®ƒæ‰€å¯¹åº”çš„æ•°ç»„å¦‚ä¸‹æ‰€ç¤ºï¼š 1const arr = [&#x27;name&#x27;, &#x27;age&#x27;, &#x27;job&#x27;]; å®ƒä»¬çš„ç›¸åŒç‚¹ï¼š 12345678console.log(arr[0]) // nameconsole.log(arrFake[0]) // namearr[0] = &#x27;new name&#x27;arrFake[0] = &#x27;new name&#x27;console.log(arr.length); // 3console.log(arrFake.length); // 3 å®ƒä»¬çš„ä¸åŒç‚¹åœ¨äºï¼Œä¼ªæ•°ç»„ä¸èƒ½è°ƒç”¨æ•°ç»„åŸå‹é“¾ä¸Šçš„æ–¹æ³•ï¼Œä¸”ä¼ªæ•°ç»„è°ƒç”¨Array.isArrayæ–¹æ³•è¾“å‡ºfalseï¼š 12345arrFake.push(&#x27;hobby&#x27;) // Uncaught TypeError: arrFake.push is not a functionarr.push(&#x27;hobby&#x27;); // [&#x27;name&#x27;, &#x27;age&#x27;, &#x27;job&#x27;, &#x27;hobby&#x27;]Array.isArray(arrFake) // falseArray.isArray(arr) // true æˆ‘ä»¬å¯ä»¥ç”¨Array.fromå°†ä¼ªæ•°ç»„è½¬åŒ–ä¸ºçœŸæ­£çš„æ•°ç»„ 12const newArr = Array.from(arrFake) // [&#x27;name&#x27;, &#x27;age&#x27;, &#x27;job&#x27;]newArr.push(&#x27;hobby&#x27;) // [&#x27;name&#x27;, &#x27;age&#x27;, &#x27;job&#x27;, &#x27;hobby&#x27;] ä¹Ÿå¯ä»¥ä½¿ç”¨1.Array.prototype.sliceç­‰è¿”å›æ–°æ•°ç»„çš„æ–¹æ³•2.æ‰©å±•è¿ç®—ç¬¦[â€¦arguments] jsä¸­çš„ä¼ªæ•°ç»„å¯¹è±¡ï¼š document.getElementsByTagNameè·å–çš„å…ƒç´ æ ‡ç­¾é›†åˆ å‡½æ•°ä¸­çš„arguments argumentså®šä¹‰å¦‚ä¸‹å‡½æ•°ï¼š 12345function a(x, y) &#123; console.log(arguments)&#125;a(1, 2, 3, 4) æ³¨æ„ï¼ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments åœ¨æ§åˆ¶å°æ˜¾ç¤ºæ‰“å°ç»“æœï¼š æ˜¾ç„¶ï¼Œargumentså°±æ˜¯ä¸€ä¸ªä¼ªæ•°ç»„ï¼Œcalleeå±æ€§å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸ºå‡½æ•°æœ¬èº«ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨arguments.callee()çš„æ–¹å¼è°ƒç”¨å‡½æ•°ã€‚ å†æ€è€ƒä¸€ä¸‹ä»¥ä¸‹ä»£ç ï¼š 123456function a(x, y) &#123; console.log(a.length) // 2 console.log(arguments.length) // 4&#125;a(1, 2, 3, 4) å…¶ä¸­functionæœ¬èº«çš„lengthä»£è¡¨è¡Œå‚çš„é•¿åº¦ï¼Œè€Œargumentsçš„lengthä»£è¡¨å®å‚çš„é•¿åº¦ã€‚ æ³¨æ„ï¼functionæœ¬èº«çš„lengthä¸åŒ…æ‹¬æœ‰é»˜è®¤å€¼çš„å½¢å‚å’Œå‰©ä½™å‚æ•°â€¦args argumentsçš„åº”ç”¨å®ç°å‡½æ•°çš„é‡è½½12345678910function doAdd() &#123; if (arguments.length == 1) &#123; console.log(arguments[0] + 5); &#125; else if (arguments.length == 2) &#123; console.log(arguments[0] + arguments[1]); &#125;&#125;doAdd(1) // 6doAdd(1, 2) // 3","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"}]},{"title":"V8å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶","slug":"V8å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶","date":"2022-03-10T13:17:51.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2022/03/10/V8å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶/","link":"","permalink":"http://yoursite.com/2022/03/10/V8%E5%BC%95%E6%93%8E%E7%9A%84%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/","excerpt":"","text":"ä¸€ã€Javascriptå†…å­˜ç®¡ç†JavaScriptå†…å­˜çš„æµç¨‹å¾ˆç®€å•ï¼Œåˆ†ä¸º3æ­¥ï¼š åˆ†é…ç»™ä½¿ç”¨è€…æ‰€éœ€çš„å†…å­˜ ä½¿ç”¨è€…æ‹¿åˆ°è¿™äº›å†…å­˜ï¼Œå¹¶ä½¿ç”¨å†…å­˜ ä½¿ç”¨è€…ä¸éœ€è¦è¿™äº›å†…å­˜äº†ï¼Œé‡Šæ”¾å¹¶å½’è¿˜ç»™ç³»ç»Ÿ é‚£ä¹ˆè¿™äº›ä½¿ç”¨è€…æ˜¯è°å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ï¼š12345var num = &#x27;&#x27;var str = &#x27;Zh&#x27;var obj = &#123; name: &#x27;Zh&#x27; &#125;obj = &#123; name: &#x27;Zh&#x27; &#125;ä¸Šé¢è¿™äº›numï¼Œstrï¼Œobjå°±æ˜¯å°±æ˜¯ä½¿ç”¨è€…ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒJavaScriptæ•°æ®ç±»å‹åˆ†ä¸ºåŸºç¡€æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹: åŸºç¡€æ•°æ®ç±»å‹ï¼šæ‹¥æœ‰å›ºå®šçš„å¤§å°ï¼Œå€¼ä¿å­˜åœ¨æ ˆå†…å­˜é‡Œï¼Œå¯ä»¥é€šè¿‡å€¼ç›´æ¥è®¿é—® å¼•ç”¨æ•°æ®ç±»å‹ï¼šå¤§å°ä¸å›ºå®š(å¯ä»¥åŠ å±æ€§)ï¼Œæ ˆå†…å­˜ä¸­å­˜ç€æŒ‡é’ˆï¼ŒæŒ‡å‘å †å†…å­˜ä¸­çš„å¯¹è±¡ç©ºé—´ï¼Œé€šè¿‡å¼•ç”¨æ¥è®¿é—® ç”±äºæ ˆå†…å­˜æ‰€å­˜çš„åŸºç¡€æ•°æ®ç±»å‹å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥æ ˆå†…å­˜çš„å†…å­˜éƒ½æ˜¯æ“ä½œç³»ç»Ÿè‡ªåŠ¨åˆ†é…å’Œé‡Šæ”¾å›æ”¶çš„ ç”±äºå †å†…å­˜æ‰€å­˜å¤§å°ä¸å›ºå®šï¼Œç³»ç»Ÿæ— æ³•è‡ªåŠ¨é‡Šæ”¾å›æ”¶ï¼Œæ‰€ä»¥éœ€è¦JSå¼•æ“æ¥æ‰‹åŠ¨é‡Šæ”¾è¿™äº›å†…å­˜äºŒã€V8å¼•æ“çš„åƒåœ¾å›æ”¶æœºåˆ¶ä¸ºä½•éœ€è¦åƒåœ¾å›æ”¶åœ¨Chromeä¸­ï¼ŒV8è¢«é™åˆ¶äº†å†…å­˜çš„ä½¿ç”¨ï¼ˆ64ä½çº¦1.4G/1464MB ï¼Œ 32ä½çº¦0.7G/732MBï¼‰ï¼Œä¸ºä»€ä¹ˆè¦é™åˆ¶å‘¢ï¼Ÿ è¡¨å±‚åŸå› ï¼šV8æœ€åˆä¸ºæµè§ˆå™¨è€Œè®¾è®¡ï¼Œä¸å¤ªå¯èƒ½é‡åˆ°ç”¨å¤§é‡å†…å­˜çš„åœºæ™¯ æ·±å±‚åŸå› ï¼šV8çš„åƒåœ¾å›æ”¶æœºåˆ¶çš„é™åˆ¶ï¼ˆå¦‚æœæ¸…ç†å¤§é‡çš„å†…å­˜åƒåœ¾æ˜¯å¾ˆè€—æ—¶é—´ï¼Œè¿™æ ·å›å¼•èµ·JavaScriptçº¿ç¨‹æš‚åœæ‰§è¡Œçš„æ—¶é—´ï¼Œé‚£ä¹ˆæ€§èƒ½å’Œåº”ç”¨ç›´çº¿ä¸‹é™ï¼‰ ä¸‰ã€V8å¼•æ“çš„åƒåœ¾å›æ”¶ç®—æ³•1.åˆ†ä»£å›æ”¶åœ¨JavaScriptä¸­ï¼Œå¯¹è±¡å­˜æ´»å‘¨æœŸåˆ†ä¸ºä¸¤ç§æƒ…å†µã€‚ å­˜æ´»å‘¨æœŸå¾ˆçŸ­ï¼šç»è¿‡ä¸€æ¬¡åƒåœ¾å›æ”¶åï¼Œå°±è¢«é‡Šæ”¾å›æ”¶æ‰ å­˜æ´»å‘¨æœŸå¾ˆé•¿ï¼šç»è¿‡å¤šæ¬¡åƒåœ¾å›æ”¶åï¼Œä»–è¿˜å­˜åœ¨ï¼Œèµ–ç€ä¸èµ° é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå¯¹äºå­˜æ´»å‘¨æœŸçŸ­çš„ï¼Œå›æ”¶æ‰å°±ç®—äº†ï¼Œä½†å¯¹äºå­˜æ´»å‘¨æœŸé•¿çš„ï¼Œå¤šæ¬¡å›æ”¶éƒ½å›æ”¶ä¸æ‰ï¼Œæ˜çŸ¥å›æ”¶ä¸æ‰ï¼Œå´è¿˜ä¸æ–­åœ°å»åšå›æ”¶æ— ç”¨åŠŸï¼Œé‚£å²‚ä¸æ˜¯å¾ˆæ¶ˆè€—æ€§èƒ½ï¼Ÿ å¯¹äºè¿™ä¸ªé—®é¢˜ï¼ŒV8åšäº†åˆ†ä»£å›æ”¶çš„ä¼˜åŒ–æ–¹æ³•ï¼Œé€šä¿—ç‚¹è¯´å°±æ˜¯ï¼šV8å°†å †åˆ†ä¸ºä¸¤ä¸ªç©ºé—´ï¼Œä¸€ä¸ªå«æ–°ç”Ÿä»£ï¼Œä¸€ä¸ªå«è€ç”Ÿä»£ï¼Œæ–°ç”Ÿä»£æ˜¯å­˜æ”¾å­˜æ´»å‘¨æœŸçŸ­å¯¹è±¡çš„åœ°æ–¹ï¼Œè€ç”Ÿä»£æ˜¯å­˜æ”¾å­˜æ´»å‘¨æœŸé•¿å¯¹è±¡çš„åœ°æ–¹ æ–°ç”Ÿä»£é€šå¸¸åªæœ‰1-8Mçš„å®¹é‡ï¼Œè€Œè€ç”Ÿä»£çš„å®¹é‡å°±å¤§å¾ˆå¤šäº†ã€‚å¯¹äºè¿™ä¸¤å—åŒºåŸŸï¼ŒV8åˆ†åˆ«ä½¿ç”¨äº†ä¸åŒçš„åƒåœ¾å›æ”¶å™¨å’Œä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä»¥ä¾¿æ›´é«˜æ•ˆåœ°å®æ–½åƒåœ¾å›æ”¶ å‰¯åƒåœ¾å›æ”¶å™¨ + Scavengeç®—æ³•ï¼šä¸»è¦è´Ÿè´£æ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶ä¸»åƒåœ¾å›æ”¶å™¨ + Mark-Sweep &amp;&amp; Mark-Compactç®—æ³•ï¼šä¸»è¦è´Ÿè´£è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶ 1.1 æ–°ç”Ÿä»£åœ¨JavaScriptä¸­ï¼Œä»»ä½•å¯¹è±¡çš„å£°æ˜åˆ†é…åˆ°çš„å†…å­˜ï¼Œå°†ä¼šå…ˆè¢«æ”¾ç½®åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œè€Œå› ä¸ºå¤§éƒ¨åˆ†å¯¹è±¡åœ¨å†…å­˜ä¸­å­˜æ´»çš„å‘¨æœŸå¾ˆçŸ­ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªæ•ˆç‡éå¸¸é«˜çš„ç®—æ³•ã€‚åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œä¸»è¦ä½¿ç”¨Scavengeç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ï¼ŒScavengeç®—æ³•æ˜¯ä¸€ä¸ªå…¸å‹çš„ç‰ºç‰²ç©ºé—´æ¢å–æ—¶é—´çš„å¤åˆ¶ç®—æ³•ï¼Œåœ¨å ç”¨ç©ºé—´ä¸å¤§çš„åœºæ™¯ä¸Šéå¸¸é€‚ç”¨ã€‚Scavangeç®—æ³•å°†æ–°ç”Ÿä»£å †åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«å«from-spaceå’Œto-spaceï¼Œå·¥ä½œæ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯å°†from-spaceä¸­å­˜æ´»çš„æ´»åŠ¨å¯¹è±¡å¤åˆ¶åˆ°to-spaceä¸­ï¼Œå¹¶å°†è¿™äº›å¯¹è±¡çš„å†…å­˜æœ‰åºçš„æ’åˆ—èµ·æ¥ï¼Œç„¶åå°†from-spaceä¸­çš„éæ´»åŠ¨å¯¹è±¡çš„å†…å­˜è¿›è¡Œé‡Šæ”¾ï¼Œå®Œæˆä¹‹åï¼Œå°†from space å’Œto spaceè¿›è¡Œäº’æ¢ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—æ–°ç”Ÿä»£ä¸­çš„è¿™ä¸¤å—åŒºåŸŸå¯ä»¥é‡å¤åˆ©ç”¨ã€‚ å…·ä½“æ­¥éª¤ä¸ºä»¥ä¸‹4æ­¥ï¼š æ ‡è®°æ´»åŠ¨å¯¹è±¡å’Œéæ´»åŠ¨å¯¹è±¡ å¤åˆ¶from-spaceçš„æ´»åŠ¨å¯¹è±¡åˆ°to-spaceä¸­å¹¶è¿›è¡Œæ’åº æ¸…é™¤from-spaceä¸­çš„éæ´»åŠ¨å¯¹è±¡ å°†from-spaceå’Œto-spaceè¿›è¡Œè§’è‰²äº’æ¢ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡çš„Scavengeç®—æ³•åƒåœ¾å›æ”¶ é‚£ä¹ˆï¼Œåƒåœ¾å›æ”¶å™¨æ˜¯æ€ä¹ˆçŸ¥é“å“ªäº›å¯¹è±¡æ˜¯æ´»åŠ¨å¯¹è±¡ï¼Œå“ªäº›æ˜¯éæ´»åŠ¨å¯¹è±¡å‘¢ï¼Ÿ è¿™å°±è¦ä¸å¾—ä¸æä¸€ä¸ªä¸œè¥¿äº†â€”â€”å¯è¾¾æ€§ã€‚ä»€ä¹ˆæ˜¯å¯è¾¾æ€§å‘¢ï¼Ÿå°±æ˜¯ä»åˆå§‹çš„æ ¹å¯¹è±¡ï¼ˆwindowæˆ–è€…globalï¼‰çš„æŒ‡é’ˆå¼€å§‹ï¼Œå‘ä¸‹æœç´¢å­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹è¢«æœç´¢åˆ°äº†ï¼Œè¯´æ˜è¯¥å­èŠ‚ç‚¹çš„å¼•ç”¨å¯¹è±¡å¯è¾¾ï¼Œå¹¶ä¸ºå…¶è¿›è¡Œæ ‡è®°ï¼Œç„¶åæ¥ç€é€’å½’æœç´¢ï¼Œç›´åˆ°æ‰€æœ‰å­èŠ‚ç‚¹è¢«éå†ç»“æŸã€‚é‚£ä¹ˆæ²¡æœ‰è¢«éå†åˆ°èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ²¡æœ‰è¢«æ ‡è®°ï¼Œä¹Ÿå°±ä¼šè¢«å½“æˆæ²¡æœ‰è¢«ä»»ä½•åœ°æ–¹å¼•ç”¨ï¼Œå°±å¯ä»¥è¯æ˜è¿™æ˜¯ä¸€ä¸ªéœ€è¦è¢«é‡Šæ”¾å†…å­˜çš„å¯¹è±¡ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚ æ–°ç”Ÿä»£ä¸­çš„å¯¹è±¡ä»€ä¹ˆæ—¶å€™å˜æˆè€ç”Ÿä»£çš„å¯¹è±¡ï¼Ÿ åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œè¿˜è¿›ä¸€æ­¥è¿›è¡Œäº†ç»†åˆ†ã€‚åˆ†ä¸ºnurseryå­ä»£å’Œintermediateå­ä»£ä¸¤ä¸ªåŒºåŸŸï¼Œä¸€ä¸ªå¯¹è±¡ç¬¬ä¸€æ¬¡åˆ†é…å†…å­˜æ—¶ä¼šè¢«åˆ†é…åˆ°æ–°ç”Ÿä»£ä¸­çš„nurseryå­ä»£ï¼Œå¦‚æœç»è¿‡ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶è¿™ä¸ªå¯¹è±¡è¿˜å­˜åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°†æ­¤å¯¹è±¡ç§»åŠ¨åˆ°intermediateå­ä»£ï¼Œåœ¨ç»è¿‡ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡è¿˜åœ¨æ–°ç”Ÿä»£ä¸­ï¼Œå‰¯åƒåœ¾å›æ”¶å™¨ä¼šå°†è¯¥å¯¹è±¡ç§»åŠ¨åˆ°è€ç”Ÿä»£ä¸­ï¼Œè¿™ä¸ªç§»åŠ¨çš„è¿‡ç¨‹è¢«ç§°ä¸ºæ™‹å‡ 1.2è€ç”Ÿä»£æ–°ç”Ÿä»£ç©ºé—´çš„å¯¹è±¡ï¼Œèº«ç»ç™¾æˆ˜ä¹‹åï¼Œç•™ä¸‹æ¥çš„è€å¯¹è±¡ï¼ŒæˆåŠŸæ™‹å‡åˆ°äº†è€ç”Ÿä»£ç©ºé—´é‡Œï¼Œç”±äºè¿™äº›å¯¹è±¡éƒ½æ˜¯ç»è¿‡å¤šæ¬¡å›æ”¶è¿‡ç¨‹ä½†æ˜¯æ²¡æœ‰è¢«å›æ”¶èµ°çš„ï¼Œéƒ½æ˜¯ä¸€ç¾¤ç”Ÿå‘½åŠ›é¡½å¼ºï¼Œå­˜æ´»ç‡é«˜çš„å¯¹è±¡ï¼Œæ‰€ä»¥è€ç”Ÿä»£é‡Œï¼Œå›æ”¶ç®—æ³•ä¸å®œä½¿ç”¨Scavengeç®—æ³•ï¼Œä¸ºå•¥å‘¢ï¼Œæœ‰ä»¥ä¸‹åŸå› ï¼š cavenge`ç®—æ³•æ˜¯å¤åˆ¶ç®—æ³•ï¼Œåå¤å¤åˆ¶è¿™äº›å­˜æ´»ç‡é«˜çš„å¯¹è±¡ï¼Œæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæ•ˆç‡æä½ cavengeç®—æ³•æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•ï¼Œè€ç”Ÿä»£æ˜¯å†…å­˜å¾ˆå¤§çš„ç©ºé—´ï¼Œå¦‚æœä½¿ç”¨Scavenge`æ³•ï¼Œç©ºé—´èµ„æºéå¸¸æµªè´¹ï¼Œå¾—ä¸å¿å¤±å•Šã€‚ã€‚ æ‰€ä»¥è€ç”Ÿä»£é‡Œä½¿ç”¨äº†Mark-Sweepç®—æ³•(æ ‡è®°æ¸…ç†)å’ŒMark-Compactç®—æ³•(æ ‡è®°æ•´ç†) Mark-Sweep(æ ‡è®°æ¸…ç†)Mark-Sweepä¸¤ä¸ªé˜¶æ®µï¼Œæ ‡è®°å’Œæ¸…ç†é˜¶æ®µï¼Œä¹‹å‰çš„Scavengeç®—æ³•æ ‡è®°å’Œæ¸…ç†ï¼Œä½†æ˜¯Mark-Sweepç®—æ³•è·ŸScavengeç®—æ³•çš„åŒºåˆ«æ˜¯ï¼Œåè€…éœ€è¦å¤åˆ¶åå†æ¸…ç†ï¼Œå‰è€…ä¸éœ€è¦ï¼ŒMark-Sweepç›´æ¥æ ‡è®°æ´»åŠ¨å¯¹è±¡å’Œéæ´»åŠ¨å¯¹è±¡ä¹‹åï¼Œå°±ç›´æ¥æ‰§è¡Œæ¸…ç†äº†ã€‚ æ ‡è®°é˜¶æ®µï¼šå¯¹è€ç”Ÿä»£å¯¹è±¡è¿›è¡Œç¬¬ä¸€æ¬¡æ‰«æï¼Œå¯¹æ´»åŠ¨å¯¹è±¡è¿›è¡Œæ ‡è®° æ¸…ç†é˜¶æ®µï¼šå¯¹è€ç”Ÿä»£å¯¹è±¡è¿›è¡Œç¬¬äºŒæ¬¡æ‰«æï¼Œæ¸…é™¤æœªæ ‡è®°çš„å¯¹è±¡ï¼Œå³éæ´»åŠ¨å¯¹è±¡ ç”±ä¸Šå›¾ï¼Œæˆ‘æƒ³å¤§å®¶ä¹Ÿå‘ç°äº†ï¼Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼šæ¸…é™¤éæ´»åŠ¨å¯¹è±¡ä¹‹åï¼Œç•™ä¸‹äº†å¾ˆå¤šé›¶é›¶æ•£æ•£çš„ç©ºä½ã€‚ Mark-Compact(æ ‡è®°æ•´ç†)Mark-Sweepç®—æ³•æ‰§è¡Œåƒåœ¾å›æ”¶ä¹‹åï¼Œç•™ä¸‹äº†å¾ˆå¤šé›¶é›¶æ•£æ•£çš„ç©ºä½ï¼Œè¿™æœ‰ä»€ä¹ˆåå¤„å‘¢ï¼Ÿå¦‚æœæ­¤æ—¶è¿›æ¥äº†ä¸€ä¸ªå¤§å¯¹è±¡ï¼Œéœ€è¦å¯¹æ­¤å¯¹è±¡åˆ†é…ä¸€ä¸ªå¤§å†…å­˜ï¼Œå…ˆä»é›¶é›¶æ•£æ•£çš„ç©ºä½ä¸­æ‰¾ä½ç½®ï¼Œæ‰¾äº†ä¸€åœˆï¼Œå‘ç°æ²¡æœ‰é€‚åˆè‡ªå·±å¤§å°çš„ç©ºä½ï¼Œåªå¥½æ‹¼åœ¨äº†æœ€åï¼Œè¿™ä¸ªå¯»æ‰¾ç©ºä½çš„è¿‡ç¨‹æ˜¯è€—æ€§èƒ½çš„ï¼Œè¿™ä¹Ÿæ˜¯Mark-Sweepç®—æ³•çš„ä¸€ä¸ªç¼ºç‚¹è¿™ä¸ªæ—¶å€™Mark-Compactç®—æ³•å‡ºç°äº†ï¼Œä»–æ˜¯Mark-Sweepç®—æ³•çš„åŠ å¼ºç‰ˆï¼Œåœ¨Mark-Sweepç®—æ³•çš„åŸºç¡€ä¸Šï¼ŒåŠ ä¸Šäº†æ•´ç†é˜¶æ®µï¼Œæ¯æ¬¡æ¸…ç†å®Œéæ´»åŠ¨å¯¹è±¡ï¼Œå°±ä¼šæŠŠå‰©ä¸‹çš„æ´»åŠ¨å¯¹è±¡ï¼Œæ•´ç†åˆ°å†…å­˜çš„ä¸€ä¾§ï¼Œæ•´ç†å®Œæˆåï¼Œç›´æ¥å›æ”¶æ‰è¾¹ç•Œä¸Šçš„å†…å­˜ 2. å…¨åœé¡¿(Stop-The-World)è¯´å®ŒV8çš„åˆ†ä»£å›æ”¶ï¼Œå’±ä»¬æ¥èŠèŠä¸€ä¸ªé—®é¢˜ã€‚JSä»£ç çš„è¿è¡Œè¦ç”¨åˆ°JSå¼•æ“ï¼Œåƒåœ¾å›æ”¶ä¹Ÿè¦ç”¨åˆ°JSå¼•æ“ï¼Œé‚£å¦‚æœè¿™ä¸¤è€…åŒæ—¶è¿›è¡Œäº†ï¼Œå‘ç”Ÿå†²çªäº†å’‹åŠå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œåƒåœ¾å›æ”¶ä¼˜å…ˆäºä»£ç æ‰§è¡Œï¼Œä¼šå…ˆåœæ­¢ä»£ç çš„æ‰§è¡Œï¼Œç­‰åˆ°åƒåœ¾å›æ”¶å®Œæ¯•ï¼Œå†æ‰§è¡ŒJSä»£ç ã€‚è¿™ä¸ªè¿‡ç¨‹ï¼Œç§°ä¸ºå…¨åœé¡¿ ç”±äºæ–°ç”Ÿä»£ç©ºé—´å°ï¼Œå¹¶ä¸”å­˜æ´»å¯¹è±¡å°‘ï¼Œå†é…åˆScavengeç®—æ³•é¡¿æ—¶é—´è¾ƒçŸ­ã€‚ä½†æ˜¯è€ç”Ÿä»£å°±ä¸ä¸€æ ·äº†ï¼ŒæŸäº›æƒ…å†µæ´»åŠ¨å¯¹è±¡æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œåœé¡¿æ—¶é—´å°±ä¼šè¾ƒé•¿ï¼Œä½¿å¾—é¡µé¢å‡ºç°äº†å¡é¡¿ç°è±¡ 3. Orinocoä¼˜åŒ–orinocoä¸ºV8çš„åƒåœ¾å›æ”¶å™¨çš„é¡¹ç›®ä»£å·ï¼Œä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œè§£å†³å…¨åœé¡¿é—®é¢˜,å®ƒæå‡ºäº†å¢é‡æ ‡è®°ã€æ‡’æ€§æ¸…ç†ã€å¹¶å‘ã€å¹¶è¡Œçš„ä¼˜åŒ–æ–¹æ³•ã€‚ 3.1 å¢é‡æ ‡è®°(Incremental marking)å’±ä»¬å‰é¢ä¸æ–­å¼ºè°ƒäº†å…ˆæ ‡è®°ï¼Œåæ¸…é™¤ï¼Œè€Œå¢é‡æ ‡è®°å°±æ˜¯åœ¨æ ‡è®°è¿™ä¸ªé˜¶æ®µè¿›è¡Œäº†ä¼˜åŒ–ã€‚æˆ‘ä¸¾ä¸ªç”ŸåŠ¨çš„ä¾‹å­ï¼šè·¯ä¸Šæœ‰å¾ˆå¤šåƒåœ¾ï¼Œå®³å¾—è·¯äººéƒ½èµ°ä¸äº†è·¯ï¼Œéœ€è¦æ¸…æ´å·¥æ‰“æ‰«å¹²å‡€æ‰èƒ½èµ°ã€‚å‰å‡ å¤©è·¯ä¸Šçš„åƒåœ¾éƒ½æ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥è·¯äººä»¬éƒ½ç­‰åˆ°æ¸…æ´å·¥å…¨éƒ¨æ¸…ç†å¹²å‡€æ‰é€šè¿‡ï¼Œä½†æ˜¯åå‡ å¤©åƒåœ¾è¶Šæ¥è¶Šå¤šï¼Œæ¸…æ´å·¥æ¸…ç†çš„å¤ªä¹…äº†ï¼Œè·¯äººå°±ç­‰ä¸åŠäº†ï¼Œè·Ÿæ¸…æ´å·¥è¯´ï¼šâ€œä½ æ‰“æ‰«ä¸€æ®µï¼Œæˆ‘å°±èµ°ä¸€æ®µï¼Œè¿™æ ·æ•ˆç‡é«˜â€ã€‚ å¤§å®¶æŠŠä¸Šé¢ä¾‹å­é‡Œï¼Œæ¸…æ´å·¥æ¸…ç†åƒåœ¾çš„è¿‡ç¨‹â€”â€”æ ‡è®°è¿‡ç¨‹ï¼Œè·¯äººâ€”â€”JSä»£ç ï¼Œä¸€ä¸€å¯¹åº”å°±æ‡‚äº†ã€‚å½“åƒåœ¾å°‘é‡æ—¶ä¸ä¼šåšå¢é‡æ ‡è®°ä¼˜åŒ–ï¼Œä½†æ˜¯å½“åƒåœ¾è¾¾åˆ°ä¸€å®šæ•°é‡æ—¶ï¼Œå¢é‡æ ‡è®°å°±ä¼šå¼€å¯ï¼šæ ‡è®°ä¸€ç‚¹ï¼ŒJSä»£ç è¿è¡Œä¸€æ®µï¼Œä»è€Œæé«˜æ•ˆç‡ 3.2 æƒ°æ€§æ¸…ç†(Lazy sweeping)ä¸Šé¢è¯´äº†ï¼Œå¢é‡æ ‡è®°åªæ˜¯é’ˆå¯¹æ ‡è®°é˜¶æ®µï¼Œè€Œæƒ°æ€§æ¸…ç†å°±æ˜¯é’ˆå¯¹æ¸…é™¤é˜¶æ®µäº†ã€‚åœ¨å¢é‡æ ‡è®°ä¹‹åï¼Œè¦è¿›è¡Œæ¸…ç†éæ´»åŠ¨å¯¹è±¡çš„æ—¶å€™ï¼Œåƒåœ¾å›æ”¶å™¨å‘ç°äº†å…¶å®å°±ç®—æ˜¯ä¸æ¸…ç†ï¼Œå‰©ä½™çš„ç©ºé—´ä¹Ÿè¶³ä»¥è®©JSä»£ç è·‘èµ·æ¥ï¼Œæ‰€ä»¥å°±å»¶è¿Ÿäº†æ¸…ç†ï¼Œè®©JSä»£ç å…ˆæ‰§è¡Œï¼Œæˆ–è€…åªæ¸…ç†éƒ¨åˆ†åƒåœ¾ï¼Œè€Œä¸æ¸…ç†å…¨éƒ¨ã€‚è¿™ä¸ªä¼˜åŒ–å°±å«åšæƒ°æ€§æ¸…ç†æ•´ç†æ ‡è®°å’Œæƒ°æ€§æ¸…ç†çš„å‡ºç°ï¼Œå¤§å¤§æ”¹å–„äº†å…¨åœé¡¿ç°è±¡ã€‚ä½†æ˜¯é—®é¢˜ä¹Ÿæ¥äº†ï¼šå¢é‡æ ‡è®°æ˜¯æ ‡è®°ä¸€ç‚¹ï¼ŒJSè¿è¡Œä¸€æ®µï¼Œé‚£å¦‚æœä½ å‰è„šåˆšæ ‡è®°ä¸€ä¸ªå¯¹è±¡ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œåè„šJSä»£ç å°±æŠŠæ­¤å¯¹è±¡è®¾ç½®ä¸ºéæ´»åŠ¨å¯¹è±¡ï¼Œæˆ–è€…åè¿‡æ¥ï¼Œå‰è„šæ²¡æœ‰æ ‡è®°ä¸€ä¸ªå¯¹è±¡ä¸ºæ´»åŠ¨å¯¹è±¡ï¼Œåè„šJSä»£ç å°±æŠŠæ­¤å¯¹è±¡è®¾ç½®ä¸ºæ´»åŠ¨å¯¹è±¡ã€‚æ€»ç»“èµ·æ¥å°±æ˜¯ï¼šæ ‡è®°å’Œä»£ç æ‰§è¡Œçš„ç©¿æ’ï¼Œæœ‰å¯èƒ½é€ æˆå¯¹è±¡å¼•ç”¨æ”¹å˜ï¼Œæ ‡è®°é”™è¯¯ç°è±¡ã€‚è¿™å°±éœ€è¦ä½¿ç”¨å†™å±éšœæŠ€æœ¯æ¥è®°å½•è¿™äº›å¼•ç”¨å…³ç³»çš„å˜åŒ– 3.3 å¹¶å‘(Concurrent)å¹¶å‘å¼GCå…è®¸åœ¨åœ¨åƒåœ¾å›æ”¶çš„åŒæ—¶ä¸éœ€è¦å°†ä¸»çº¿ç¨‹æŒ‚èµ·ï¼Œä¸¤è€…å¯ä»¥åŒæ—¶è¿›è¡Œï¼Œåªæœ‰åœ¨ä¸ªåˆ«æ—¶å€™éœ€è¦çŸ­æš‚åœä¸‹æ¥è®©åƒåœ¾å›æ”¶å™¨åšä¸€äº›ç‰¹æ®Šçš„æ“ä½œã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿè¦é¢å¯¹å¢é‡å›æ”¶çš„é—®é¢˜ï¼Œå°±æ˜¯åœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œç”±äºJavaScriptä»£ç åœ¨æ‰§è¡Œï¼Œå †ä¸­çš„å¯¹è±¡çš„å¼•ç”¨å…³ç³»éšæ—¶å¯èƒ½ä¼šå˜åŒ–ï¼Œæ‰€ä»¥ä¹Ÿè¦è¿›è¡Œå†™å±éšœæ“ä½œã€‚ 3.4 å¹¶è¡Œå¹¶è¡Œå¼GCå…è®¸ä¸»çº¿ç¨‹å’Œè¾…åŠ©çº¿ç¨‹åŒæ—¶æ‰§è¡ŒåŒæ ·çš„GCå·¥ä½œï¼Œè¿™æ ·å¯ä»¥è®©è¾…åŠ©çº¿ç¨‹æ¥åˆ†æ‹…ä¸»çº¿ç¨‹çš„GCå·¥ä½œï¼Œä½¿å¾—åƒåœ¾å›æ”¶æ‰€è€—è´¹çš„æ—¶é—´ç­‰äºæ€»æ—¶é—´é™¤ä»¥å‚ä¸çš„çº¿ç¨‹æ•°é‡ï¼ˆåŠ ä¸Šä¸€äº›åŒæ­¥å¼€é”€ï¼‰ã€‚ V8å½“å‰çš„åƒåœ¾å›æ”¶æœºåˆ¶2011å¹´ï¼ŒV8åº”ç”¨äº†å¢é‡æ ‡è®°æœºåˆ¶ã€‚ç›´è‡³2018å¹´ï¼ŒChrome64å’ŒNode.js V10å¯åŠ¨å¹¶å‘æ ‡è®°ï¼ˆConcurrentï¼‰ï¼ŒåŒæ—¶åœ¨å¹¶å‘çš„åŸºç¡€ä¸Šæ·»åŠ å¹¶è¡Œï¼ˆParallelï¼‰æŠ€æœ¯ï¼Œä½¿å¾—åƒåœ¾å›æ”¶æ—¶é—´å¤§å¹…åº¦ç¼©çŸ­ã€‚ å‰¯åƒåœ¾å›æ”¶å™¨V8åœ¨æ–°ç”Ÿä»£åƒåœ¾å›æ”¶ä¸­ï¼Œä½¿ç”¨å¹¶è¡Œï¼ˆparallelï¼‰æœºåˆ¶ï¼Œåœ¨æ•´ç†æ’åºé˜¶æ®µï¼Œä¹Ÿå°±æ˜¯å°†æ´»åŠ¨å¯¹è±¡ä»from-toå¤åˆ¶åˆ°space-toçš„æ—¶å€™ï¼Œå¯ç”¨å¤šä¸ªè¾…åŠ©çº¿ç¨‹ï¼Œå¹¶è¡Œçš„è¿›è¡Œæ•´ç†ã€‚ç”±äºå¤šä¸ªçº¿ç¨‹ç«äº‰ä¸€ä¸ªæ–°ç”Ÿä»£çš„å †çš„å†…å­˜èµ„æºï¼Œå¯èƒ½å‡ºç°æœ‰æŸä¸ªæ´»åŠ¨å¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹è¿›è¡Œå¤åˆ¶æ“ä½œçš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒV8åœ¨ç¬¬ä¸€ä¸ªçº¿ç¨‹å¯¹æ´»åŠ¨å¯¹è±¡è¿›è¡Œå¤åˆ¶å¹¶ä¸”å¤åˆ¶å®Œæˆåï¼Œéƒ½å¿…é¡»å»ç»´æŠ¤å¤åˆ¶è¿™ä¸ªæ´»åŠ¨å¯¹è±¡åçš„æŒ‡é’ˆè½¬å‘åœ°å€ï¼Œä»¥ä¾¿äºå…¶ä»–ååŠ©çº¿ç¨‹å¯ä»¥æ‰¾åˆ°è¯¥æ´»åŠ¨å¯¹è±¡åå¯ä»¥åˆ¤æ–­è¯¥æ´»åŠ¨å¯¹è±¡æ˜¯å¦å·²è¢«å¤åˆ¶ã€‚ ä¸»åƒåœ¾å›æ”¶å™¨V8åœ¨è€ç”Ÿä»£åƒåœ¾å›æ”¶ä¸­ï¼Œå¦‚æœå †ä¸­çš„å†…å­˜å¤§å°è¶…è¿‡æŸä¸ªé˜ˆå€¼ä¹‹åï¼Œä¼šå¯ç”¨å¹¶å‘ï¼ˆConcurrentï¼‰æ ‡è®°ä»»åŠ¡ã€‚æ¯ä¸ªè¾…åŠ©çº¿ç¨‹éƒ½ä¼šå»è¿½è¸ªæ¯ä¸ªæ ‡è®°åˆ°çš„å¯¹è±¡çš„æŒ‡é’ˆä»¥åŠå¯¹è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œåœ¨JavaScriptä»£ç æ‰§è¡Œæ—¶å€™ï¼Œå¹¶å‘æ ‡è®°ä¹Ÿåœ¨åå°çš„è¾…åŠ©è¿›ç¨‹ä¸­è¿›è¡Œï¼Œå½“å †ä¸­çš„æŸä¸ªå¯¹è±¡æŒ‡é’ˆè¢«JavaScriptä»£ç ä¿®æ”¹çš„æ—¶å€™ï¼Œå†™å±éšœï¼ˆwrite barriersï¼‰æŠ€æœ¯ä¼šåœ¨è¾…åŠ©çº¿ç¨‹åœ¨è¿›è¡Œå¹¶å‘æ ‡è®°çš„æ—¶å€™è¿›è¡Œè¿½è¸ªã€‚ å½“å¹¶å‘æ ‡è®°å®Œæˆæˆ–è€…åŠ¨æ€åˆ†é…çš„å†…å­˜åˆ°è¾¾æé™çš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼šæ‰§è¡Œæœ€ç»ˆçš„å¿«é€Ÿæ ‡è®°æ­¥éª¤ï¼Œè¿™ä¸ªæ—¶å€™ä¸»çº¿ç¨‹ä¼šæŒ‚èµ·ï¼Œä¸»çº¿ç¨‹ä¼šå†ä¸€æ¬¡çš„æ‰«ææ ¹é›†ä»¥ç¡®ä¿æ‰€æœ‰çš„å¯¹è±¡éƒ½å®Œæˆäº†æ ‡è®°ï¼Œç”±äºè¾…åŠ©çº¿ç¨‹å·²ç»æ ‡è®°è¿‡æ´»åŠ¨å¯¹è±¡ï¼Œä¸»çº¿ç¨‹çš„æœ¬æ¬¡æ‰«æåªæ˜¯è¿›è¡Œcheckæ“ä½œï¼Œç¡®è®¤å®Œæˆä¹‹åï¼ŒæŸäº›è¾…åŠ©çº¿ç¨‹ä¼šè¿›è¡Œæ¸…ç†å†…å­˜æ“ä½œï¼ŒæŸäº›è¾…åŠ©è¿›ç¨‹ä¼šè¿›è¡Œå†…å­˜æ•´ç†æ“ä½œï¼Œç”±äºéƒ½æ˜¯å¹¶å‘çš„ï¼Œå¹¶ä¸ä¼šå½±å“ä¸»çº¿ç¨‹JavaScriptä»£ç çš„æ‰§è¡Œã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"V8","slug":"V8","permalink":"http://yoursite.com/tags/V8/"},{"name":"åƒåœ¾å›æ”¶æœºåˆ¶","slug":"åƒåœ¾å›æ”¶æœºåˆ¶","permalink":"http://yoursite.com/tags/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/"}]},{"title":"Javascriptå¦‚ä½•é¿å…å†…å­˜æ³„æ¼","slug":"Javascriptå¦‚ä½•é¿å…å†…å­˜æ³„æ¼","date":"2022-03-10T12:49:51.000Z","updated":"2022-06-06T03:22:14.521Z","comments":true,"path":"2022/03/10/Javascriptå¦‚ä½•é¿å…å†…å­˜æ³„æ¼/","link":"","permalink":"http://yoursite.com/2022/03/10/Javascript%E5%A6%82%E4%BD%95%E9%81%BF%E5%85%8D%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/","excerpt":"","text":"ä¸€ã€å¦‚ä½•ç›‘æ§å†…å­˜çŠ¶å†µè¿™é‡Œå€Ÿç”¨ä¸€ä¸‹æ—ä¸‰å¿ƒå¤§ä½¬çš„å›¾æ–‡ã€‚ æµè§ˆå™¨ä»»åŠ¡ç®¡ç†å™¨æ‰“å¼€æ–¹å¼ï¼šåœ¨æµè§ˆå™¨é¡¶éƒ¨å³é”®ï¼Œæ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼š æ‰“å¼€åï¼Œå¯ä»¥çœ‹åˆ°å†…å­˜å’ŒJavaScriptå†…å­˜ï¼š å†…å­˜ï¼šé¡µé¢é‡Œçš„åŸå§‹å†…å­˜ï¼Œä¹Ÿå°±æ˜¯DOMèŠ‚ç‚¹çš„æ€»å ç”¨å†…å­˜ JavaScriptå†…å­˜(æ‹¬å·é‡Œ)ï¼šæ˜¯è¯¥é¡µé¢ä¸­æ‰€æœ‰å¯è¾¾å¯¹è±¡çš„æ€»å ç”¨å†…å­˜ é‚£ä»€ä¹ˆæ˜¯å¯è¾¾å¯¹è±¡å‘¢ï¼Ÿç®€å•è¯´å°±æ˜¯ï¼šå°±æ˜¯ä»åˆå§‹çš„æ ¹å¯¹è±¡ï¼ˆwindowæˆ–è€…globalï¼‰çš„æŒ‡é’ˆå¼€å§‹ï¼Œå‘ä¸‹æœç´¢å­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹è¢«æœç´¢åˆ°äº†ï¼Œè¯´æ˜è¯¥å­èŠ‚ç‚¹çš„å¼•ç”¨å¯¹è±¡å¯è¾¾ï¼Œæœä¸åˆ°ï¼Œè¯´æ˜è¯¥å­èŠ‚ç‚¹å¯¹è±¡ä¸å¯è¾¾ã€‚ä¸¾ä¸ªä¾‹å­ï¼š 1234567// å¯è¾¾ï¼Œå¯ä»¥é€šè¿‡window.nameè®¿é—®var name = &#x27;Zh&#x27;function fn () &#123; // ä¸å¯è¾¾ï¼Œè®¿é—®ä¸äº† var name = &#x27;Zh&#x27;&#125; å›åˆ°æˆ‘ä»¬çš„ä»»åŠ¡ç®¡ç†ï¼Œæ­¤æ—¶æˆ‘ä»¬åœ¨é¡µé¢ä¸­ç¼–å†™ä¸€æ®µä»£ç ï¼š123456&lt;button id=&quot;btn&quot;&gt;ç‚¹å‡»&lt;/button&gt;&lt;script&gt; document.getElementById(&#x27;btn&#x27;).onclick = function () &#123; list = new Array(1000000) &#125;&lt;/script&gt;ç‚¹å‡»å‰ï¼šç‚¹å‡»åï¼Œå‘ç°å†…å­˜ç¬é—´ä¸Šå‡ï¼š Performanceä½¿ç”¨Chromeæµè§ˆå™¨çš„æ— ç—•æ¨¡å¼ï¼Œæ˜¯ä¸ºäº†é¿å…å¾ˆå¤šå…¶ä»–å› ç´ ï¼Œå½±å“å’±ä»¬æŸ¥çœ‹å†…å­˜ï¼š æŒ‰F12æ‰“å¼€è°ƒè¯•çª—å£ï¼Œé€‰æ‹©Performance å’±ä»¬å°±ä»¥æ˜é‡‘é¦–é¡µä¸ºä¾‹å§ï¼ç‚¹å‡»å½•åˆ¶ -&gt; åˆ·æ–°æ˜é‡‘ -&gt; ç‚¹å‡»stopï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹æŒ‡æ ‡éšç€æ—¶é—´çš„ä¸Šä¸‹æ³¢åŠ¨ï¼š JS Heapï¼šJSå † Documents: æ–‡æ¡£ Nodes: DOMèŠ‚ç‚¹ Listeners: ç›‘å¬å™¨ GPU Memory: GPUå†…å­˜ å †å¿«ç…§å †å¿«ç…§ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†å½“å‰æŸä¸€ä¸ªé¡µé¢çš„å †å†…å­˜æ‹ä¸‹ç…§ç‰‡å­˜èµ·æ¥ï¼ŒåŒä¸€ä¸ªé¡µé¢ï¼Œæ‰§è¡ŒæŸä¸ªæ“ä½œå‰ï¼Œå½•åˆ¶å †å¿«ç…§æ˜¯ä¸€ä¸ªæ ·ï¼Œæœ‰å¯èƒ½æ‰§è¡Œå®Œåï¼Œå½•åˆ¶çš„å †å¿«ç…§åˆæ˜¯å¦å¤–ä¸€ä¸ªæ ·ã€‚ è¿˜æ˜¯ä»¥æ˜é‡‘é¦–é¡µä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰é¡µé¢å†…å­˜ä¸º13.3Mï¼Œå’±ä»¬å¯ä»¥é€‰æ‹©Statisticsï¼ŒæŸ¥çœ‹æ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ç­‰æ‰€å å†…å­˜ã€‚ äºŒã€å†…å­˜æ³„æ¼çš„åœºæ™¯ä¸‹é¢åˆ—ä¸¾äº†å¯èƒ½ä¼šé€ æˆå†…å­˜æ³„æ¼çš„æƒ…å†µï¼š é—­åŒ…ä½¿ç”¨ä¸å½“å¼•èµ·å†…å­˜æ³„æ¼ å…¨å±€å˜é‡ åˆ†ç¦»çš„DOMèŠ‚ æ§åˆ¶å°çš„æ‰“å° æœªæ¸…é™¤çš„å®šæ—¶å™¨æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€ä¸€æ¥ä»‹ç»è¿™äº›æƒ…å†µã€‚ 1.é—­åŒ…ä½¿ç”¨ä¸å½“123456789function fn1() &#123; let arr = new Array(100000) return arr&#125;let a = []document.getElementById(&#x27;btn&#x27;).onclick = function () &#123; a.push(fn1())&#125; ä¸Šè¿°ä»£ç ä¸­f1è¢«è°ƒç”¨åï¼Œä»å¯è¾¾æ€§çš„è§’åº¦æ¥è¯´ï¼Œarråº”è¯¥è¢«å›æ”¶ï¼Œä½†å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚f1å°†arrreturnä¹‹åï¼Œarrè¢«pushè¿›äº†æ•°ç»„aï¼Œè€Œæ•°ç»„aæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¹¶ä¸ä¼šè¢«å›æ”¶ï¼Œè¿™å°±å¯¼è‡´äº†arrä¸ä¼šè¢«å›æ”¶ã€‚ å…¨å±€å˜é‡å…¨å±€å˜é‡ä¸€èˆ¬ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚å½“ç„¶ï¼Œè¿™å¹¶ä¸æ„å‘³ç€å®Œå…¨ç¦æ­¢æˆ‘ä»¬å®šä¹‰å…¨å±€å˜é‡ï¼Œåªæ˜¯æœ‰æ—¶å€™ä¼šå› ä¸ºç–å¿½è€Œå¯¼è‡´æŸäº›å˜é‡æµå¤±åˆ°å…¨å±€ï¼Œä¾‹å¦‚æœªå£°æ˜å˜é‡ï¼Œå´ç›´æ¥å¯¹æŸå˜é‡è¿›è¡Œèµ‹å€¼ï¼Œå°±ä¼šå¯¼è‡´è¯¥å˜é‡åœ¨å…¨å±€åˆ›å»ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12345function fn1() &#123; // æ­¤å¤„å˜é‡arræœªè¢«å£°æ˜ arr = new Array(100000)&#125;fn1() ä¸Šè¿°ä»£ç ä¼šè‡ªåŠ¨åœ¨å…¨å±€åˆ›å»ºä¸€ä¸ªå˜é‡arrï¼Œå¹¶å°†æ•°ç»„èµ‹å€¼ç»™arrï¼Œç”±äºæ˜¯å…¨å±€å˜é‡ï¼Œæ‰€ä»¥arrçš„å†…å­˜ä¸€ç›´ä¸ä¼šé‡Šæ”¾ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¹³æ—¶éœ€å¤šåŠ æ³¨æ„ï¼Œä¸è¦åœ¨å˜é‡æœªå£°æ˜å‰èµ‹å€¼ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œè¿™æ ·å°±ä¼šåœ¨ä¸çŸ¥æƒ…çŠ¯é”™æ—¶ï¼Œæ”¶åˆ°æŠ¥é”™è­¦å‘Šï¼Œä¾‹å¦‚ï¼š 123456function fn1() &#123; &#x27;use strict&#x27;; name = new Array(100000)&#125;fn1() 3.åˆ†ç¦»çš„domèŠ‚ç‚¹è®©æˆ‘ä»¬ç”¨ä»£ç æ¥è§£é‡Šä¸€ä¸‹ä»€ä¹ˆä¸ºåˆ†ç¦»çš„domèŠ‚ç‚¹:1234&lt;button id=&quot;btn&quot;&gt;ç‚¹å‡»&lt;/button&gt;let btn = document.getElementById(&#x27;btn&#x27;)document.body.removeChild(btn) å¦‚ä¸Šæ‰€ç¤ºï¼Œè™½ç„¶æœ€åæŠŠbuttonç»™åˆ é™¤äº†ï¼Œä½†æ˜¯å› ä¸ºå…¨å±€å˜é‡btnå¯¹æ­¤DOMå¯¹è±¡å¼•ç”¨ç€ï¼Œå¯¼è‡´æ­¤DOMå¯¹è±¡ä¸€ç›´æ²¡æœ‰è¢«å›æ”¶ï¼Œè¿™ä¸ªDOMå¯¹è±¡å°±ç§°ä¸ºåˆ†ç¦»DOM è¿™ä¸ªé—®é¢˜å¾ˆå¥½è§£å†³ï¼Œåˆ é™¤buttonåï¼Œé¡ºä¾¿æŠŠbtnè®¾ç½®æˆnullå°±è¡Œäº†ï¼š12345&lt;button id=&quot;btn&quot;&gt;ç‚¹å‡»&lt;/button&gt;let btn = document.getElementById(&#x27;btn&#x27;)document.body.removeChild(btn)btn = null 4.æ§åˆ¶å°çš„æ‰“å°æ§åˆ¶å°çš„æ‰“å°ä¹Ÿä¼šé€ æˆå†…å­˜æ³„æ¼å—ï¼Ÿï¼Ÿï¼Ÿæ˜¯çš„å‘€ï¼Œå¦‚æœæµè§ˆå™¨ä¸ä¸€ç›´ä¿å­˜ç€æˆ‘ä»¬æ‰“å°å¯¹è±¡çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¸ºä½•èƒ½åœ¨æ¯æ¬¡æ‰“å¼€æ§åˆ¶çš„Consoleæ—¶çœ‹åˆ°å…·ä½“çš„æ•°æ®å‘¢ï¼Ÿå…ˆæ¥çœ‹ä¸€æ®µæµ‹è¯•ä»£ç ï¼š 1234567&lt;button&gt;æŒ‰é’®&lt;/button&gt;&lt;script&gt; document.querySelector(&#x27;button&#x27;).addEventListener(&#x27;click&#x27;,function(&#123; let arr = new Array(100000) console.log(obj); &#125;)&lt;/script&gt; å½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œè¿™ä¸ªarrä¼šè¢«æ§åˆ¶å°æ‰“å°ä¸‹æ¥ï¼Œæµè§ˆå™¨ä¸€ç›´ä¿å­˜ç€è¿™ä¸ªarrçš„ä¿¡æ¯ï¼Œå¹¶ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚ è™½ç„¶console.logä¾¿äºè°ƒè¯•ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬å°½å¯èƒ½ä¸è¦åœ¨æ§åˆ¶å°æ‰“å°æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸ä¼šåœ¨ä»£ç ä¸­çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ“ä½œï¼š1234// å¦‚æœåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ‰“å°å˜é‡objif(isDev) &#123; console.log(obj)&#125;è¿™æ ·å°±é¿å…äº†ç”Ÿäº§ç¯å¢ƒä¸‹æ— ç”¨çš„å˜é‡æ‰“å°å ç”¨ä¸€å®šçš„å†…å­˜ç©ºé—´ï¼ŒåŒæ ·çš„é™¤äº†console.logä¹‹å¤–ï¼Œconsole.errorã€console.infoã€console.dirç­‰ç­‰éƒ½ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨ 5.æœªæ¸…é™¤çš„å®šæ—¶å™¨ä¸‹é¢è¿™æ®µä»£ç ä¸­ï¼Œæ‰§è¡Œå®Œfn1å‡½æ•°ï¼ŒæŒ‰ç†è¯´arræ•°ç»„ä¼šè¢«å›æ”¶ï¼Œä½†æ˜¯ä»–å´å›æ”¶ä¸äº†ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå®šæ—¶å™¨é‡Œçš„aå¼•ç”¨ç€arrï¼Œå¹¶ä¸”å®šæ—¶å™¨ä¸æ¸…é™¤çš„è¯ï¼Œaå°±ä¸ä¼šè¢«å›æ”¶ï¼Œaä¸å›æ”¶å°±ä¼šä¸€ç›´å¼•ç”¨ç€arrï¼Œé‚£ä¹ˆarrè‚¯å®šä¹Ÿå›æ”¶ä¸äº†äº†ã€‚ 123456789function fn() &#123; let arr = new Array(1000000).fill(&#x27;Sunshine_Lin&#x27;) setInterval(() =&gt; &#123; let a = arr &#125;, 1000)&#125;document.getElementById(&#x27;btn&#x27;).onclick = function () &#123; fn()&#125; å¤„ç†çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦æˆ‘ä»¬æ¸…é™¤å®šæ—¶å™¨å°±è¡Œäº†ï¼š123456789101112function fn() &#123; let arr = new Array(1000000).fill(&#x27;Sunshine_Lin&#x27;) let i = 0 let timer = setInterval(() =&gt; &#123; if (i &gt; 5) clearInterval(timer) let a = arr i++ &#125;, 1000)&#125;document.getElementById(&#x27;btn&#x27;).onclick = function () &#123; fn()&#125; ä¸‰ã€æ€»ç»“åœ¨é¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé‡åˆ°äº†æŸäº›æ€§èƒ½é—®é¢˜å¯èƒ½è·Ÿå†…å­˜æ³„æ¼æœ‰å…³æ—¶ï¼Œå°±å¯ä»¥å‚ç…§ä»¥ä¸Šåˆ—ä¸¾çš„5ç§æƒ…å†µå»æ’æŸ¥ã€‚ è™½ç„¶JavaScriptçš„åƒåœ¾å›æ”¶æ˜¯è‡ªåŠ¨çš„ï¼Œä½†æˆ‘ä»¬æœ‰æ—¶ä¹Ÿæ˜¯éœ€è¦è€ƒè™‘è¦ä¸è¦æ‰‹åŠ¨æ¸…é™¤æŸäº›å˜é‡çš„å†…å­˜å ç”¨çš„ï¼Œä¾‹å¦‚ä½ æ˜ç¡®æŸä¸ªå˜é‡åœ¨ä¸€å®šæ¡ä»¶ä¸‹å†ä¹Ÿä¸éœ€è¦ï¼Œä½†æ˜¯è¿˜ä¼šè¢«å¤–éƒ¨å˜é‡å¼•ç”¨å¯¼è‡´å†…å­˜æ— æ³•å¾—åˆ°é‡Šæ”¾æ—¶ï¼Œä½ å¯ä»¥ç”¨nullå¯¹è¯¥å˜é‡é‡æ–°èµ‹å€¼å°±å¯ä»¥åœ¨åç»­åƒåœ¾å›æ”¶é˜¶æ®µé‡Šæ”¾è¯¥å˜é‡çš„å†…å­˜äº†ã€‚ å‚è€ƒèµ„æ–™èµ ä½ 13å¼ å›¾ï¼ŒåŠ©ä½ 20åˆ†é’Ÿæ‰“è´¥äº†ã€ŒV8åƒåœ¾å›æ”¶æœºåˆ¶ã€ï¼ï¼ï¼å“ªæ˜¯å¤§ç¥ï¼Ÿåªæ˜¯ç”¨ä»–äººä¸ƒå¤•çº¦ä¼šæ—¶é—´ï¼Œæ•´ç†ã€ŒJSé¿å…å†…å­˜æ³„æ¼ã€ç½¢äº†ä¸€æ–‡å¸¦ä½ äº†è§£å¦‚ä½•æ’æŸ¥å†…å­˜æ³„æ¼å¯¼è‡´çš„é¡µé¢å¡é¡¿ç°è±¡","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"å†…å­˜æ³„æ¼","slug":"å†…å­˜æ³„æ¼","permalink":"http://yoursite.com/tags/%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F/"}]},{"title":"Javascriptä¸­isNaNå’ŒNumer.isNaNçš„åŒºåˆ«","slug":"Javascriptä¸­isNaNå’ŒNumer.isNaNçš„åŒºåˆ«","date":"2022-03-09T02:32:01.000Z","updated":"2022-06-06T03:22:14.521Z","comments":true,"path":"2022/03/09/Javascriptä¸­isNaNå’ŒNumer.isNaNçš„åŒºåˆ«/","link":"","permalink":"http://yoursite.com/2022/03/09/Javascript%E4%B8%ADisNaN%E5%92%8CNumer.isNaN%E7%9A%84%E5%8C%BA%E5%88%AB/","excerpt":"","text":"isNaN()å½“æˆ‘ä»¬å°†å‚æ•°ä¼ å…¥isNaNæ—¶ï¼Œå®ƒçš„å†…éƒ¨å®ç°è°ƒç”¨äº†Number()æ–¹æ³•å°†å‚æ•°è½¬æ¢ä¸ºNumberç±»å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ 1234567Number(&#x27;&#x27;) // 0Number(null) // 0Number(true) // 1Number(false) // 0Number(undefined) // NaNNumber(&#x27;aa&#x27;) // NaNNumber(NaN) // NaN è‹¥èƒ½æˆåŠŸè½¬æ¢ä¸ºNumberç±»å‹ï¼ŒisNaNè¿”å›falseï¼Œå¦åˆ™è¿”å›trueã€‚1234567isNaN(&#x27;&#x27;) // falseisNaN(null) // falseisNaN(true) // falseisNaN(false) // falseisNaN(undefined) // trueisNaN(&#x27;aa&#x27;) // trueisNaN(NaN) // true Javascriptä¸­0 / 0è¿”å›çš„æ˜¯NaNï¼Œè€Œé0æ•°å€¼é™¤ä»¥0è¿”å›çš„æ˜¯Infinity Number.isNaN()åˆ¤æ–­ä¼ å…¥çš„å‚æ•°æ˜¯å¦ä¸¥æ ¼ç­‰äºNaNï¼ˆä¹Ÿå°±æ˜¯===ï¼‰ 1234567Number.isNaN(&#x27;&#x27;) // falseNumber.isNaN(null) // falseNumber.isNaN(true) // falseNumber.isNaN(false) // falseNumber.isNaN(undefined) // falseNumber.isNaN(&#x27;aa&#x27;) // falseNumber.isNaN(NaN) // true ä½¿ç”¨åœºæ™¯ï¼šåˆ¤æ–­æŸä¸ªè¿ç®—çš„ç»“æœæ˜¯å¦ä¸ºNaN1234function check(value) &#123; return Number.isNaN();&#125;check(1 / &#x27;test&#x27;) // false","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"}]},{"title":"è¯æ³•ä½œç”¨åŸŸï¼ŸåŠ¨æ€ä½œç”¨åŸŸï¼Ÿé—­åŒ…æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ","slug":"è¯æ³•ä½œç”¨åŸŸï¼ŸåŠ¨æ€ä½œç”¨åŸŸï¼Ÿé—­åŒ…æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ","date":"2022-03-08T11:50:03.000Z","updated":"2022-06-06T03:22:14.527Z","comments":true,"path":"2022/03/08/è¯æ³•ä½œç”¨åŸŸï¼ŸåŠ¨æ€ä½œç”¨åŸŸï¼Ÿé—­åŒ…æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Ÿ/","link":"","permalink":"http://yoursite.com/2022/03/08/%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F%E5%8A%A8%E6%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F%E9%97%AD%E5%8C%85%E6%98%AF%E5%A6%82%E4%BD%95%E4%BA%A7%E7%94%9F%E7%9A%84%EF%BC%9F/","excerpt":"","text":"è¯æ³•ä½œç”¨åŸŸè¯æ³•ä½œç”¨åŸŸå°±æ˜¯å®šä¹‰åœ¨è¯æ³•é˜¶æ®µçš„ä½œç”¨åŸŸï¼Œå°±æ˜¯è¯´è·Ÿæˆ‘ä»¬å†™ä»£ç æ—¶å°†å˜é‡å®šä¹‰åœ¨å“ªä¸ªå‡½æ•°ä½œç”¨åŸŸæˆ–è€…å—ä½œç”¨åŸŸä¸­æœ‰å…³ç³»ï¼Œå¤§å¤šæ•°æƒ…å†µæ˜¯ä¸å˜çš„ï¼ˆevel/withä¼šä¿®æ”¹ï¼‰ å›¾ç‰‡æ¥è‡ªã€Šä½ ä¸çŸ¥é“çš„Javascriptã€‹ åŒ…å«ç€å…¨å±€ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬æ ‡è¯†ç¬¦foo åŒ…å«ç€fooæ‰€åˆ›å»ºçš„ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬æ ‡è¯†ç¬¦ï¼ša,barå’Œb åŒ…å«ç€baræ‰€åˆ›å»ºçš„ä½œç”¨åŸŸ, åŒ…æ‹¬æ ‡è¯†ç¬¦cæ— è®ºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸéƒ½åªæœ‰å‡½æ•°è¢«å£°æ˜æ—¶æ‰€å¤„çš„ä½ç½®å†³å®šã€‚ åŠ¨æ€ä½œç”¨åŸŸé¦–å…ˆæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯åŠ¨æ€ä½œç”¨åŸŸï¼Œå†çœ‹é—­åŒ…ä¸å®ƒçš„åŒºåˆ«ã€‚ åŠ¨æ€ä½œç”¨åŸŸå°±æ˜¯è¯´å½“æŸ¥è¯¢æ ‡è¯†ç¬¦çš„æ—¶å€™ä¸æ˜¯æŒ‰ç…§è¯æ³•ä½œç”¨åŸŸåµŒå¥—æ¥æŸ¥æ‰¾ï¼Œè€Œæ˜¯æŒ‰ç…§è°ƒç”¨é¡ºåºæ¥æŸ¥æ‰¾çš„ï¼Œ ä¹Ÿå°±æ˜¯è¯´ åŠ¨æ€ä½œç”¨åŸŸä¸å…³æ³¨ä½ åœ¨ä»€ä¹ˆåœ°æ–¹å£°æ˜ï¼Œå®ƒåªå…³å¿ƒæ˜¯åœ¨ä½•å¤„è°ƒç”¨çš„ã€‚ 123456789101112function foo()&#123; console.log(a)&#125;function bar()&#123; var a = 3 foo()&#125;var a = 2 bar() // 3 ä¸æ˜¯2 äº‹å®ä¸Šè¾“å‡ºçš„æ˜¯2ï¼ŒJavaScriptå¹¶ä¸å…·æœ‰åŠ¨æ€ä½œç”¨åŸŸ,å®ƒåªæœ‰è¯æ³•ä½œç”¨åŸŸ,ç®€å•æ˜äº†,ä½†æ˜¯thisæœºåˆ¶æŸç§ç¨‹åº¦ä¸Šå¾ˆåƒåŠ¨æ€ä½œç”¨åŸŸ é—­åŒ…å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œ 12345678910function foo()&#123; var a = 2 function bar()&#123; console.log(a) &#125; return bar&#125;let baz = foo()baz() // 2 ä¸Šè¿°ä»£ç ä¸­foo()æ‰§è¡Œä¹‹åè¿”å›ä¸€ä¸ªå†…éƒ¨å‡½æ•°barï¼Œç„¶åè¢«èµ‹å€¼ç»™äº†bazï¼Œå½“bazè¢«è°ƒç”¨æ—¶å®é™…ä¸Šå°±æ˜¯è°ƒç”¨äº†barï¼Œè¾“å‡ºäº†å‡½æ•°fooä½œç”¨åŸŸä¸­çš„å˜é‡aã€‚ æ— è®ºä½¿ç”¨ä½•ç§æ–¹å¼å¯¹å‡½æ•°ç±»å‹çš„å€¼ä¼ é€’ï¼Œå½“å‡½æ•°åœ¨å…¶ä»–ä½œç”¨åŸŸè¢«è°ƒç”¨æ—¶éƒ½å¯ä»¥ç†è§£ä¸ºé—­åŒ…ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"é—­åŒ…","slug":"é—­åŒ…","permalink":"http://yoursite.com/tags/%E9%97%AD%E5%8C%85/"}]},{"title":"Javascriptçš„äº‹ä»¶å¾ªç¯æœºåˆ¶(event loop)","slug":"Javascriptçš„äº‹ä»¶å¾ªç¯æœºåˆ¶(event loop)","date":"2022-03-04T13:47:33.000Z","updated":"2022-06-06T03:22:14.522Z","comments":true,"path":"2022/03/04/Javascriptçš„äº‹ä»¶å¾ªç¯æœºåˆ¶(event loop)/","link":"","permalink":"http://yoursite.com/2022/03/04/Javascript%E7%9A%84%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6(event%20loop)/","excerpt":"","text":"ä¸€ã€Javascriptå¼•æ“çš„ç‰¹ç‚¹ï¼šå•çº¿ç¨‹ä¸éé˜»å¡å•çº¿ç¨‹JavaScriptçš„å•çº¿ç¨‹ï¼Œä¸å®ƒçš„ç”¨é€”æœ‰å…³ã€‚ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptçš„ä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ï¼Œä»¥åŠæ“ä½œDOMã€‚è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚ æ¯”å¦‚ï¼Œå‡å®šJavaScriptåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ªDOMèŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ—¶æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿ ä¸ºäº†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ï¼ŒHTML5æå‡ºWeb Workeræ ‡å‡†ï¼Œå…è®¸JavaScriptè„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œDOMã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜JavaScriptå•çº¿ç¨‹çš„æœ¬è´¨ã€‚ éé˜»å¡éé˜»å¡åˆ™æ˜¯å½“ä»£ç éœ€è¦è¿›è¡Œä¸€é¡¹å¼‚æ­¥ä»»åŠ¡ï¼ˆæ— æ³•ç«‹åˆ»è¿”å›ç»“æœï¼Œéœ€è¦èŠ±ä¸€å®šæ—¶é—´æ‰èƒ½è¿”å›çš„ä»»åŠ¡ï¼Œå¦‚I/Oäº‹ä»¶ï¼‰çš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼šæŒ‚èµ·ï¼ˆpendingï¼‰è¿™ä¸ªä»»åŠ¡ï¼Œç„¶ååœ¨å¼‚æ­¥ä»»åŠ¡è¿”å›ç»“æœçš„æ—¶å€™å†æ ¹æ®ä¸€å®šè§„åˆ™å»æ‰§è¡Œç›¸åº”çš„å›è°ƒã€‚éé˜»å¡æ˜¯é€šè¿‡äº‹ä»¶å¾ªç¯æœºåˆ¶å®ç°çš„ã€‚JSé€šå¸¸æ˜¯éé˜»å¡çš„ï¼Œé™¤äº†æŸäº›ç‰¹æ®Šæƒ…å†µï¼ŒJSä¼šåœæ­¢ä»£ç æ‰§è¡Œã€‚ äºŒã€äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ä»»åŠ¡é˜Ÿåˆ—å•çº¿ç¨‹æ„å‘³ç€æ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œå°±ä¼šå¯¹åç»­ä»»åŠ¡é€ æˆé˜»å¡ã€‚ å¦‚æœé€ æˆé˜»å¡çš„ä»»åŠ¡æ˜¯å› ä¸ºè®¡ç®—é‡å¤§ï¼Œé‚£ä¹ˆæƒ…æœ‰å¯åŸï¼Œæ¯•ç«ŸCPUçš„åˆ©ç”¨ç‡é«˜ï¼Œä½†å¦‚æœæ˜¯ç­‰å¾…IOè®¾å¤‡çš„å“åº”ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹CPUåˆ©ç”¨ç‡å¾ˆä½ï¼Œé‚£æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚ JavaScriptè¯­è¨€çš„è®¾è®¡è€…æ„è¯†åˆ°ï¼Œè¿™æ—¶ä¸»çº¿ç¨‹å®Œå…¨å¯ä»¥ä¸ç®¡IOè®¾å¤‡ï¼ŒæŒ‚èµ·å¤„äºç­‰å¾…ä¸­çš„ä»»åŠ¡ï¼Œå…ˆè¿è¡Œæ’åœ¨åé¢çš„ä»»åŠ¡ã€‚ç­‰åˆ°IOè®¾å¤‡è¿”å›äº†ç»“æœï¼Œå†å›è¿‡å¤´ï¼ŒæŠŠæŒ‚èµ·çš„ä»»åŠ¡ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ äºæ˜¯ï¼Œæ‰€æœ‰ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ˜¯åŒæ­¥ä»»åŠ¡ï¼ˆsynchronousï¼‰ï¼Œå¦ä¸€ç§æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼ˆasynchronousï¼‰ã€‚åŒæ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸Šæ’é˜Ÿæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰èƒ½æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ï¼›å¼‚æ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œä¸è¿›å…¥ä¸»çº¿ç¨‹ã€è€Œè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰çš„ä»»åŠ¡ï¼Œåªæœ‰â€ä»»åŠ¡é˜Ÿåˆ—â€é€šçŸ¥ä¸»çº¿ç¨‹ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†ï¼Œè¯¥ä»»åŠ¡æ‰ä¼šè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ å…·ä½“æ¥è¯´ï¼Œå¼‚æ­¥æ‰§è¡Œçš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹ã€‚ï¼ˆåŒæ­¥æ‰§è¡Œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå®ƒå¯ä»¥è¢«è§†ä¸ºæ²¡æœ‰å¼‚æ­¥ä»»åŠ¡çš„å¼‚æ­¥æ‰§è¡Œã€‚ï¼‰ ï¼ˆ1ï¼‰ æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚ï¼ˆ2ï¼‰ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªâ€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚ï¼ˆ3ï¼‰ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚ï¼ˆ4ï¼‰ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚ ä¸‹å›¾å°±æ˜¯ä¸»çº¿ç¨‹å’Œä»»åŠ¡é˜Ÿåˆ—çš„ç¤ºæ„å›¾ã€‚ äº‹ä»¶å’Œå›è°ƒå‡½æ•°â€œä»»åŠ¡é˜Ÿåˆ—â€æ˜¯ä¸€ä¸ªäº‹ä»¶çš„é˜Ÿåˆ—ï¼ˆä¹Ÿå¯ä»¥ç†è§£æˆæ¶ˆæ¯çš„é˜Ÿåˆ—ï¼‰ï¼ŒIOè®¾å¤‡å®Œæˆä¸€é¡¹ä»»åŠ¡ï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼Œè¡¨ç¤ºç›¸å…³çš„å¼‚æ­¥ä»»åŠ¡å¯ä»¥è¿›å…¥â€æ‰§è¡Œæ ˆâ€äº†ã€‚ä¸»çº¿ç¨‹è¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œå°±æ˜¯è¯»å–é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚ â€œä»»åŠ¡é˜Ÿåˆ—â€ä¸­çš„äº‹ä»¶ï¼Œé™¤äº†IOè®¾å¤‡çš„äº‹ä»¶ä»¥å¤–ï¼Œè¿˜åŒ…æ‹¬ä¸€äº›ç”¨æˆ·äº§ç”Ÿçš„äº‹ä»¶ï¼ˆæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ã€é¡µé¢æ»šåŠ¨ç­‰ç­‰ï¼‰ã€‚åªè¦æŒ‡å®šè¿‡å›è°ƒå‡½æ•°ï¼Œè¿™äº›äº‹ä»¶å‘ç”Ÿæ—¶å°±ä¼šè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œç­‰å¾…ä¸»çº¿ç¨‹è¯»å–ã€‚ æ‰€è°“â€å›è°ƒå‡½æ•°â€ï¼ˆcallbackï¼‰ï¼Œå°±æ˜¯é‚£äº›ä¼šè¢«ä¸»çº¿ç¨‹æŒ‚èµ·æ¥çš„ä»£ç ã€‚å¼‚æ­¥ä»»åŠ¡å¿…é¡»æŒ‡å®šå›è°ƒå‡½æ•°ï¼Œå½“ä¸»çº¿ç¨‹å¼€å§‹æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå°±æ˜¯æ‰§è¡Œå¯¹åº”çš„å›è°ƒå‡½æ•°ã€‚ â€œä»»åŠ¡é˜Ÿåˆ—â€æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„æ•°æ®ç»“æ„ï¼Œæ’åœ¨å‰é¢çš„äº‹ä»¶ï¼Œä¼˜å…ˆè¢«ä¸»çº¿ç¨‹è¯»å–ã€‚ä¸»çº¿ç¨‹çš„è¯»å–è¿‡ç¨‹åŸºæœ¬ä¸Šæ˜¯è‡ªåŠ¨çš„ï¼Œåªè¦æ‰§è¡Œæ ˆä¸€æ¸…ç©ºï¼Œâ€ä»»åŠ¡é˜Ÿåˆ—â€ä¸Šç¬¬ä¸€ä½çš„äº‹ä»¶å°±è‡ªåŠ¨è¿›å…¥ä¸»çº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œç”±äºå­˜åœ¨åæ–‡æåˆ°çš„â€å®šæ—¶å™¨â€åŠŸèƒ½ï¼Œä¸»çº¿ç¨‹é¦–å…ˆè¦æ£€æŸ¥ä¸€ä¸‹æ‰§è¡Œæ—¶é—´ï¼ŒæŸäº›äº‹ä»¶åªæœ‰åˆ°äº†è§„å®šçš„æ—¶é—´ï¼Œæ‰èƒ½è¿”å›ä¸»çº¿ç¨‹ã€‚ ä»¥ä¸€é“ç»å…¸çš„é¢è¯•é¢˜ä¸ºä¾‹ï¼š 12345for(var i = 0; i &lt; 3; i++)&#123; setTimeout(function()&#123; console.log(i); &#125;,0); &#125;; è¿™é“é¢˜çš„ç»“æœä¸ºï¼š3ï¼Œ3ï¼Œ3 HTML5æ ‡å‡†è§„å®šäº†setTimeout()çš„ç¬¬äºŒä¸ªå‚æ•°çš„æœ€å°å€¼ï¼ˆæœ€çŸ­é—´éš”ï¼‰ï¼Œä¸å¾—ä½äº4æ¯«ç§’ï¼Œå¦‚æœä½äºè¿™ä¸ªå€¼ï¼Œå°±ä¼šè‡ªåŠ¨å¢åŠ ã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè€ç‰ˆæœ¬çš„æµè§ˆå™¨éƒ½å°†æœ€çŸ­é—´éš”è®¾ä¸º10æ¯«ç§’ã€‚å¦å¤–ï¼Œå¯¹äºé‚£äº›DOMçš„å˜åŠ¨ï¼ˆå°¤å…¶æ˜¯æ¶‰åŠé¡µé¢é‡æ–°æ¸²æŸ“çš„éƒ¨åˆ†ï¼‰ï¼Œé€šå¸¸ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯æ¯16æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ã€‚è¿™æ—¶ä½¿ç”¨requestAnimationFrame()çš„æ•ˆæœè¦å¥½äºsetTimeout()ã€‚ ç„¶è€Œï¼Œå³ä½¿ç¬¬äºŒä¸ªå‚æ•°çœŸå®å€¼ä¹Ÿä¸º0msï¼Œç­”æ¡ˆä¾ç„¶ä¸º3ï¼Œ3ï¼Œ3ã€‚å¦‚å‰é¢æ‰€è¿°ï¼ŒsetTimeout()å°†äº‹ä»¶æ’å…¥äº†â€ä»»åŠ¡é˜Ÿåˆ—â€œï¼Œå¿…é¡»ç­‰åˆ°å½“å‰ä»£ç ï¼ˆæ‰§è¡Œæ ˆï¼‰æ‰§è¡Œå®Œï¼Œä¸»çº¿ç¨‹æ‰ä¼šå»æ‰§è¡Œå®ƒæŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¦æ˜¯å½“å‰ä»£ç è€—æ—¶å¾ˆé•¿ï¼Œæœ‰å¯èƒ½è¦ç­‰å¾ˆä¹…ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰åŠæ³•ä¿è¯ï¼Œå›è°ƒå‡½æ•°ä¸€å®šä¼šåœ¨setTimeout()æŒ‡å®šçš„æ—¶é—´æ‰§è¡Œã€‚ å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ä»¥ä¸‹äº‹ä»¶å±äºå®ä»»åŠ¡ï¼š setInterval() setTimeout() setImmediate(Node.js ç¯å¢ƒ) ä»¥ä¸‹äº‹ä»¶å±äºå¾®ä»»åŠ¡ï¼š Promise.then Object.observe MutationObserver process.nextTick(Node.js ç¯å¢ƒ) åœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­ï¼Œå¼‚æ­¥äº‹ä»¶è¿”å›ç»“æœåä¼šè¢«æ”¾åˆ°ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ç„¶è€Œï¼Œæ ¹æ®è¿™ä¸ªå¼‚æ­¥äº‹ä»¶çš„ç±»å‹ï¼Œè¿™ä¸ªäº‹ä»¶å®é™…ä¸Šä¼šè¢«å¯¹åº”çš„å®ä»»åŠ¡é˜Ÿåˆ—æˆ–è€…å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­å»ã€‚å¹¶ä¸”åœ¨å½“å‰æ‰§è¡Œæ ˆä¸ºç©ºçš„æ—¶å€™ï¼Œä¸»çº¿ç¨‹ä¼šæŸ¥çœ‹å¾®ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦æœ‰äº‹ä»¶å­˜åœ¨ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå†å»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªäº‹ä»¶å¹¶æŠŠå¯¹åº”çš„äº‹ä»¶åŠ å…¥å½“å‰æ‰§è¡Œæ ˆï¼›å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šä¾æ¬¡æ‰§è¡Œé˜Ÿåˆ—ä¸­äº‹ä»¶å¯¹åº”çš„å›è°ƒï¼Œç›´åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ºç©ºï¼Œç„¶åå»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºæœ€å‰é¢çš„ä¸€ä¸ªäº‹ä»¶ï¼ŒæŠŠå¯¹åº”çš„å›è°ƒåŠ å…¥å½“å‰æ‰§è¡Œæ ˆâ€¦å¦‚æ­¤åå¤ï¼Œè¿›å…¥å¾ªç¯ã€‚ å¾®ä»»åŠ¡åœ¨æœ¬è½®â€œäº‹ä»¶å¾ªç¯â€ç»“æŸæ—¶æ‰§è¡Œï¼Œå®ä»»åŠ¡åœ¨ä¸‹ä¸€è½®â€œäº‹ä»¶å¾ªç¯â€å¼€å§‹æ—¶æ‰§è¡Œã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"}]},{"title":"è®ºæ–‡é€Ÿè¯»ï¼šTwoStreamVAN","slug":"è®ºæ–‡é€Ÿè¯»ï¼šTwoStreamVAN","date":"2020-12-25T03:13:07.000Z","updated":"2022-06-06T03:22:14.527Z","comments":true,"path":"2020/12/25/è®ºæ–‡é€Ÿè¯»ï¼šTwoStreamVAN/","link":"","permalink":"http://yoursite.com/2020/12/25/%E8%AE%BA%E6%96%87%E9%80%9F%E8%AF%BB%EF%BC%9ATwoStreamVAN/","excerpt":"","text":"1. Introduction åŸæ–‡åœ°å€ï¼šTwoStreamVAN: Improving Motion Modeling in Video Generation åƒç´ çº§è§†é¢‘é¢„æµ‹[27ï¼Œ36ï¼Œ40]å’Œç”Ÿæˆæ–¹æ³•çš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯ï¼Œå®ƒä»¬è¯•å›¾åœ¨å•ä¸ªçº ç¼ ç”Ÿæˆå™¨ä¸­å¯¹é™æ€å†…å®¹å’ŒåŠ¨æ€è¿åŠ¨è¿›è¡Œå»ºæ¨¡ï¼Œè€Œä¸ç®¡å®ƒä»¬æ˜¯å¦åœ¨æ½œåœ¨ç©ºé—´ä¸­è§£å¼€è¿åŠ¨å’Œå†…å®¹\\ æœ¬æ–‡è®¤ä¸ºåœ¨è§£ç é˜¶æ®µåˆ†ç¦»è¿åŠ¨å’Œå†…å®¹å»ºæ¨¡æ˜¯è‡³å…³é‡è¦çš„ã€‚ä¸€æ–¹é¢ï¼Œå®ƒæ¶ˆé™¤äº†å†…å®¹ç”Ÿæˆè¿‡ç¨‹ä¸­çš„è¿åŠ¨å¹²æ‰°ï¼Œå¹¶äº§ç”Ÿäº†æ›´å¥½çš„å†…å®¹ç»“æ„ã€‚å¦ä¸€æ–¹é¢ï¼Œå•ç‹¬çš„è¿åŠ¨å»ºæ¨¡æœ‰åŠ©äºåœ¨æ•´ä¸ªåºåˆ—ä¸­ä¸€è‡´åœ°äº§ç”Ÿä¸åŠ¨ä½œç›¸å…³çš„è¿åŠ¨ã€‚ æœ¬æ–‡æå‡ºäº†ä¸€ä¸ªæ–°çš„TwoStreamVANï¼Œå®ƒä»ä¸€ä¸ªåŠ¨ä½œæ ‡ç­¾å’Œä¸€ä¸ªåˆ†ç¦»çš„å™ªå£°å‘é‡ç”Ÿæˆä¸€ä¸ªè§†é¢‘ï¼Œå¦‚ä¸Šx`å›¾æ‰€ç¤ºã€‚é€šè¿‡ä¸¤ä¸ªå¹¶è¡Œçš„ç”Ÿæˆå™¨ï¼Œåˆ†åˆ«å¤„ç†å†…å®¹å’Œè¿åŠ¨ï¼Œå¹¶å°†å®ƒä»¬èåˆåœ¨ä¸€èµ·ä»¥é¢„æµ‹ä¸‹ä¸€å¸§ï¼Œè€Œä¸æ˜¯é«˜ä¼°å•ä¸ªç”Ÿæˆå™¨çš„èƒ½åŠ›ï¼ˆå¦‚MoCoGANçš„åšæ³•ï¼‰ã€‚ ç›´è§‚åœ°è¯´ï¼Œè¿åŠ¨é€šå¸¸ä»¥å…¶å±€éƒ¨ä¸Šä¸‹æ–‡çª—å£å†…çš„ç©ºé—´ä¿¡æ¯ä¸ºæ¡ä»¶ï¼Œä¾‹å¦‚ï¼Œåœ¨åšè·³è·ƒåŠ¨ä½œæ—¶ï¼Œæ‰‹è‡‚å’Œè…¿éƒ¨é™„è¿‘çš„ä¸åŒè¿åŠ¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†è¿åŠ¨å’Œå†…å®¹çš„èåˆå®šä¹‰ä¸ºå¯¹æ¯ä¸ªä½ç½®å”¯ä¸€çš„åƒç´ å€¼çš„å­¦ä¹ ç»†åŒ–ã€‚ä¸ºäº†ç²¾ç¡®åœ°ç”Ÿæˆå¤šå°ºåº¦è¿åŠ¨ï¼Œæˆ‘ä»¬åœ¨å…·æœ‰å‡ ä¸ªä¸åŒåˆ†è¾¨ç‡çš„ä¸­é—´å†…å®¹å±‚ä¸Šè¿›è¡Œè¿™ç§ç»†åŒ–ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¼•å…¥äº†è¿åŠ¨è’™ç‰ˆï¼Œä½¿è¿åŠ¨èšç„¦äºå®ƒæ‰€åœ¨çš„åŒºåŸŸã€‚ æœ¬æ–‡å°†å¼•å…¥å›¾åƒçº§ç›‘æ§ï¼ˆimage-levelsupervisionï¼‰ï¼Œè™½ç„¶MoCoGANå°è¯•äº†å›¾åƒçº§ç›‘æ§ç¼ºæ•ˆæœç”šå¾®ï¼Œå› ä¸ºå†…å®¹ç”Ÿæˆä»ç„¶å—åˆ°å•ä¸ªå…±äº«ç”Ÿæˆå™¨ä¸­è¿åŠ¨å»ºæ¨¡çš„å½±å“ã€‚æœ¬æ–‡ä½¿ç”¨çš„åŒæµç”Ÿæˆå™¨çš„å…³é”®ä¼˜åŠ¿æ˜¯èƒ½åˆ†åˆ«å­¦ä¹ æ¯ä¸ªæµï¼Œä»è€Œæ›´å‡†ç¡®ã€‚æˆ‘ä»¬é€šè¿‡å›¾åƒçº§ç›‘æ§å®Œå…¨äº†è§£å…¶è‡ªèº«ç”Ÿæˆå™¨ä¸­çš„å›¾åƒç»“æ„ï¼Œè¿™æ˜¾è‘—æé«˜äº†å†…å®¹ç”Ÿæˆæ€§èƒ½ã€‚è®­ç»ƒæœ‰ç´ çš„å†…å®¹ç”Ÿæˆè¿›ä¸€æ­¥æœ‰åˆ©äºè§†é¢‘çº§ç›‘æ§ä¸­çš„åŠ¨ä½œå­¦ä¹ ã€‚ æœ¬æ–‡è´¡çŒ®å¦‚ä¸‹ï¼š æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªè§†é¢‘ç”Ÿæˆæ¨¡å‹TwoStreamVANå’Œä¸€ä¸ªæ›´æœ‰æ•ˆçš„å­¦ä¹ æ–¹æ¡ˆï¼Œè§£å†³äº†ç”Ÿæˆé˜¶æ®µçš„è¿åŠ¨å’Œå†…å®¹é—®é¢˜ã€‚ æˆ‘ä»¬è®¾è®¡äº†ä¸€ç§å¤šå°ºåº¦è¿åŠ¨èåˆæœºåˆ¶ï¼Œå¹¶é€šè¿‡å¯¹ç©ºé—´ç¯å¢ƒçš„è°ƒèŠ‚è¿›ä¸€æ­¥æ”¹è¿›äº†è¿åŠ¨å»ºæ¨¡ æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¤§è§„æ¨¡çš„åˆæˆè§†é¢‘ç”Ÿæˆæ•°æ®é›†ï¼Œä¾›ç ”ç©¶å›¢ä½“ä½¿ç”¨ æˆ‘ä»¬åœ¨å››ä¸ªè§†é¢‘æ•°æ®é›†ä¸Šé€šè¿‡å®šé‡å’Œå®šæ€§åˆ†æè¯„ä¼°äº†æˆ‘ä»¬çš„æ¨¡å‹ï¼ˆé€šè¿‡ç”¨æˆ·ç ”ç©¶ï¼‰ï¼Œå¹¶è¯æ˜äº†å¼ºäºå‡ ä¸ªå¼ºåŸºçº¿çš„ç»“æœã€‚ 2. Related Workæœ¬æ–‡ç»“åˆäº†VAEå’ŒGANï¼Œæå‡ºäº†ä¸€ä¸ªå˜åˆ†å¯¹æŠ—ç½‘ç»œ(VAN)æ¥å­¦ä¹ ä¸€ä¸ªå¯è§£é‡Šçš„æ½œåœ¨ç©ºé—´ä»¥åŠç”Ÿæˆç°å®çš„å›¾åƒã€‚é‰´äºVANåœ¨å›¾åƒç”Ÿæˆæ–¹é¢çš„æˆåŠŸï¼Œæˆ‘ä»¬åœ¨æ­¤å°†å…¶ç”¨äºè§†é¢‘ç”Ÿæˆã€‚ MoCoGANè¯•å›¾é€šè¿‡ä»å•ç‹¬çš„æ½œåœ¨ç©ºé—´ä¸­é‡‡æ ·æ¥è§£å¼€å†…å®¹å’Œè¿åŠ¨ï¼Œä½†æ˜¯ä½¿ç”¨å•ä¸ªç”Ÿæˆå™¨æ¥ä¸€èµ·è§£ç è¿™ä¸¤ä¸ªæ½œåœ¨ä»£ç ã€‚ä¸ºäº†å…‹æœç»Ÿä¸€ç”Ÿæˆè¿‡ç¨‹ä¸­æ— æ•ˆçš„è¿åŠ¨å»ºæ¨¡å’Œéšä¹‹è€Œæ¥çš„å†…å®¹æ¶åŒ–ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å¼•å…¥äº†åˆ†ç¦»çš„å†…å®¹å’Œè¿åŠ¨ç”Ÿæˆå™¨æ¥åˆ†åˆ«å¯¹ç©ºé—´ç»“æ„å’Œæ—¶é—´åŠ¨æ€è¿›è¡Œå»ºæ¨¡ã€‚ 3. Approachæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåŒæµå˜åˆ†å¯¹æŠ—ç½‘ç»œ(å›¾2)ï¼Œå®ƒç”Ÿæˆä¸€ä¸ªç»™å®šè¾“å…¥åŠ¨ä½œæ ‡ç­¾å’Œéšæœºå™ªå£°å‘é‡çš„è§†é¢‘ã€‚æˆ‘ä»¬å®šä¹‰åŠ¨ä½œæ¡ä»¶è§†é¢‘ç”Ÿæˆå¦‚ä¸‹ã€‚å‡è®¾æˆ‘ä»¬æœ‰Kä¸ªä¸åŒçš„åŠ¨ä½œç±»ã€‚åœ¨æ¯ä¸ªç±»åˆ«k âˆˆ 1: K çš„æƒ…å†µä¸‹ï¼ŒC_{k}ä¸ºè¯¥ç±»åˆ«è®­ç»ƒè§†é¢‘çš„æ•°é‡ã€‚ä½¿V_{k} = {V_{i,k}, \\forall i \\in 1:C_{k}}ä¸ºç±»åˆ«kè§†é¢‘çš„é›†åˆï¼Œv_{i,k}={x_{1},x_{2},...,x_{T}}ä¸ºä¸€ä¸ªTå¸§çš„çŸ­è§†é¢‘ã€‚ä»»åŠ¡æ˜¯å®šä¹‰ä¸€ä¸ªå‡½æ•°Gï¼Œè¯¥å‡½æ•°æ ¹æ®æ¥è‡ªæ½œåœ¨å‘é‡\\epsilon âˆˆ â„^{N}ï¼Œç»™å®šç±»åˆ«æ ‡ç­¾kï¼Œç”Ÿæˆå¯ä¿¡çš„è§†é¢‘\\hat{v}ï¼Œå³\\hat{v} = G(k,\\epsilon) æˆ‘ä»¬å°†æ½œåœ¨ç©ºé—´\\epsilonåˆ†è§£æˆä¸¤ä¸ªç‹¬ç«‹çš„ä»£ç :å†…å®¹ä»£ç \\epsilon_{c}âˆˆ â„^{C}å’ŒåŠ¨ä½œä»£ç \\epsilon_{m}âˆˆâ„^{M}ï¼ŒN = C + M.æˆ‘ä»¬è¿˜å°†è§†é¢‘ç”Ÿæˆå‡½æ•°Gåˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„å†…å®¹å’Œè¿åŠ¨å‡½æ•°($ G{c} $å’Œ$ G{m} $)ï¼Œä¸ä»¥å‰ä½¿ç”¨å•ä¸ªç”Ÿæˆå™¨çš„å·¥ä½œå½¢æˆå¯¹æ¯”ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ç§æ–°çš„å¤šå°ºåº¦èåˆæœºåˆ¶ã€‚ 3.1 Two-Stream Generationä¸ºäº†å­¦ä¹ å†…å®¹å’Œè¿åŠ¨å»ºæ¨¡çš„ç”Ÿæˆå‡½æ•°$ G{c} $å’Œ$ G{m} $ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸¤ä¸ªç‹¬ç«‹çš„ã€åœ¨å‡ ä¸ªé˜¶æ®µå…·æœ‰äº¤äº’ä½œç”¨çš„ä»¥åŠ¨ä½œä¸ºæ¡ä»¶çš„VAN streamsã€‚æ¯ä¸ªsteamåŒ…å«ä¸€ä¸ªEncoderï¼Œä¸€ä¸ªGeneratorå’Œä¸€ä¸ªDiscriminatorï¼Œå…¶ä¸­Encoderå’ŒGeneratorä½œä¸ºVAEçš„è‡ªåŠ¨ç¼–ç å™¨ï¼ŒGeneratorå’ŒDiscriminatorç»„æˆäº†GAN Content VAN Streamç”±å†…å®¹ç¼–ç å™¨$ E{c} $ã€å†…å®¹ç”Ÿæˆå™¨$ G{c} $å’Œå›¾åƒé‰´åˆ«å™¨$ D{I} $ç»„æˆï¼Œåœ¨è§‚å¯Ÿäº†xä¹‹åï¼Œç”Ÿæˆäº†åéªŒå†…å®¹æ½œåœ¨åˆ†å¸ƒ$ q(z{c}|x,k) $ï¼Œè¿™æ¥è¿‘äºå®ƒçš„çœŸå®å…ˆéªŒåˆ†å¸ƒ$ p(z{c}|k) $.$ G{c} $å°†é‡‡æ ·è‡ªå†…å®¹åˆ†å¸ƒçš„çš„å†…å®¹å‘é‡$ \\epsilon{c} $è§£ç æˆå¸§ã€‚$ D{I} $é‰´åˆ«å¸§çš„çœŸå‡ä»¥é¼“åŠ±$ G_{c} $ç”Ÿæˆæ›´çœŸå®çš„å›¾åƒã€‚ ç±»ä¼¼åœ°ï¼ŒMotion VAN Streamç”±è¿åŠ¨ç¼–ç å™¨$ E{m} $ã€è¿åŠ¨ç”Ÿæˆå™¨$ G{m} $å’Œè§†é¢‘é‰´åˆ«å™¨$ D{V} $ç»„æˆï¼Œåœ¨æˆ‘ä»¬çš„æ–¹æ³•ä¸­ï¼Œ$ E{m} $ä¸æ˜¯å¯¹ç©ºé—´å†…å®¹è¿›è¡Œç¼–ç ï¼Œè€Œæ˜¯å¯¹ç›¸é‚»å¸§ä¹‹é—´çš„å·®å¼‚å›¾$ \\triangle x $çš„æ—¶é—´åŠ¨æ€è¿›è¡Œç¼–ç ã€‚å®ƒäº§ç”Ÿçš„åéªŒè¿åŠ¨æ½œåœ¨åˆ†å¸ƒ$ q(z{m}|\\triangle x,k) $æ¥è¿‘å…¶çœŸå®çš„å…ˆéªŒåˆ†å¸ƒ$ p(z{m}|k) $.convLSTMå¯¹è¿åŠ¨å†å²è¿›è¡Œç´¯ç§¯ï¼Œå¹¶ç”Ÿæˆå½“å‰è¿åŠ¨ï¼ŒåµŒå…¥$ e{m} $ï¼Œä»æ‰€æœ‰å…ˆå‰æ—¶é—´æ­¥é•¿çš„è¿åŠ¨åˆ†å¸ƒä¸­æ¥æ”¶$ \\epsilon{m} $åºåˆ—ã€‚$ G{m} $é€šè¿‡$ \\epsilon{c} $å’Œ$ e{m} $åœ¨ä¸åŒçš„å°ºåº¦ä¸Šäº§ç”Ÿè¿åŠ¨ã€‚æˆ‘ä»¬é€šè¿‡å°†ç”Ÿæˆçš„è¿åŠ¨ä¸Tæ—¶é—´æ­¥é•¿çš„ç›¸åº”å†…å®¹èåˆæ¥ç”Ÿæˆæ¯ä¸ªè§†é¢‘$ \\hat{v} $ã€‚$ D{V} $å¯¹çœŸå®/ç”Ÿæˆçš„è§†é¢‘è¿›è¡Œäº†åˆ†ç±»ï¼Œå¹¶å¯¹ä»–ä»¬çš„è¡Œä¸ºè¿›è¡Œäº†åˆ†ç±»ï¼Œä»¥é¼“åŠ±$ G{m} $ç”Ÿæˆé€¼çœŸçš„åŠ¨ä½œ Multi-scale Motion Generation and Fusionåœ¨åƒç´ (a, b)å¤„ï¼Œè¿åŠ¨é€šå¸¸å‘ç”Ÿåœ¨ç›¸é‚»å¸§ä¹‹é—´çš„å±€éƒ¨çª—å£å†…ã€‚å—å¸§æ’å€¼ç©ºé—´å·ç§¯çš„å¯å‘ï¼Œæˆ‘ä»¬å°†è¿åŠ¨è¡¨ç¤ºä¸ºå½“å‰åƒç´ å€¼åŸºç¡€å±€éƒ¨ä¸Šä¸‹æ–‡çš„ç»†åŒ–ï¼Œå¹¶é€šè¿‡ç©ºé—´è‡ªé€‚åº”å·ç§¯å°†è¿™ç§è¿åŠ¨ä¸å†…å®¹èåˆã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¤šå°ºåº¦èåˆæœºåˆ¶æ¥å…‹æœå…¶æ–¹æ³•çš„ç¼ºç‚¹ï¼Œå³:1)ç”±äºåœ¨å…¨åˆ†è¾¨ç‡å›¾åƒä¸Šæ‰§è¡Œå•ä¸ªèåˆæ­¥éª¤è€Œå¯¼è‡´çš„å¤šå°ºåº¦è¿åŠ¨çš„æ— æ•ˆå»ºæ¨¡ï¼Œä»¥åŠ2)ç”±äºç”¨äºè¡¨ç¤ºæœ€å¤§å¯èƒ½è¿åŠ¨çš„å¤§å·ç§¯æ ¸è€Œå¯¼è‡´çš„å¯¹å­˜å‚¨å™¨çš„é«˜éœ€æ±‚ã€‚ ä¸ºäº†ç”Ÿæˆç²¾ç¡®çš„è¿åŠ¨ï¼Œ$ G{m} $å°†è§£å¼€çš„å†…å®¹å’Œè¿åŠ¨åµŒå…¥($ \\epsilon{c} $å’Œ$ e{m} $)ä½œä¸ºè¾“å…¥ã€‚åœ¨$ G{m} $ä¸­ï¼Œä¸åŒå°ºåº¦çš„è¿åŠ¨å°†ç›¸åº”çš„éšè—å±‚åˆ†å¼€:å¤§çš„è¿åŠ¨æ¥è‡ªä½åˆ†è¾¨ç‡å±‚ï¼Œå°çš„è¿åŠ¨æ¥è‡ªé«˜åˆ†è¾¨ç‡å±‚ã€‚åœ¨æ¯ä¸€å±‚ï¼Œ$ G_{m} $å°†å½“å‰ç‰¹å¾æ˜ å°„ä¸º:1)ä»¥å…·æœ‰å°ºå¯¸nçš„åƒç´ æ–¹å¼çš„2Dæ ¸çš„å½¢å¼è®¡ç®—è¿åŠ¨(åƒç´ ç»†åŒ–);2)è¯†åˆ«è¿åŠ¨é®ç½©ä¸­åŒ…å«å®é™…è¿åŠ¨çš„åŒºåŸŸï¼›3)ç”Ÿæˆä¸‹ä¸€å±‚çš„è¿åŠ¨å›¾ã€‚ä¸ºäº†å°†è¿åŠ¨ä¸å†…å®¹èåˆï¼Œä»…å½“åƒç´ ä½äºè¿åŠ¨è¢«æ¿€æ´»çš„åŒºåŸŸä¸­æ—¶ï¼Œæˆ‘ä»¬æ‰åˆ†åˆ«å°†ç”Ÿæˆçš„2Dæ ¸ä¸ä»¥ç›¸åº”åƒç´ ä¸ºä¸­å¿ƒçš„é¢ç‰‡è¿›è¡Œå·ç§¯(å³ï¼Œæ‰§è¡Œç©ºé—´è‡ªé€‚åº”å·ç§¯)(å‚è§ä¸Šå›¾)ã€‚ å…·ä½“æ¥è¯´ï¼Œå‡è®¾æˆ‘ä»¬æŠŠè¿åŠ¨åˆ†æˆSä¸ªå°ºåº¦ã€‚å¯¹äºæ¯ä¸ªå°ºåº¦çš„sï¼Œè®©$ l{s} $ä¸ºç›¸å¯¹åº”çš„åˆ†è¾¨ç‡éšè—å±‚ï¼Œ$ w^{s} âˆˆ â„^{l{s}Ã—l{s}Ã—n^{2}} $ä¸º$ G{m} $äº§ç”Ÿçš„å·ç§¯æ ¸ï¼Œ$ h{c}^{s} âˆˆ â„^{l{s} Ã— l{s} Ã— d{s}} $ä¸ºç›¸å¯¹åº”çš„å†…å®¹å±‚ï¼Œå…¶ä¸­$ d{s} $æ˜¯å†…å®¹ç‰¹å¾ç»´åº¦ã€‚æˆ‘ä»¬åœ¨ä»¥ä¸‹æ­¥éª¤ä¸­æ‰§è¡Œç©ºé—´è‡ªé€‚åº”å·ç§¯ã€‚é¦–å…ˆï¼Œå¯¹äºæ¯ä¸ªä½ç½®(a,b)ï¼Œæˆ‘ä»¬ä»å±•å¼€å½¢å¼$ w^{s}(a,b) $æ¢å¤ä¸€ä¸ª2Då·ç§¯æ ¸$ K^{s}(a,b) $.ç„¶åï¼Œæˆ‘ä»¬å°†$ K^{s}(a,b) $ä¸åœ¨$ h{c}^{s} $çš„è¡¥ä¸$ P^{s}(a,b) âˆˆ â„^{nÃ—nÃ—d{s}} $åšå·ç§¯è¿ç®—æ¥ç”Ÿæˆä¸€ä¸ªä½ç½®(a,b)ä¸­é—´å†…å®¹è¡¨ç¤º $ \\tilde{h}{c}^{s}(a,b) $: æˆ‘ä»¬é€šè¿‡å‘è¾ƒå°çš„å±‚æ·»åŠ è‡ªé€‚åº”å·ç§¯æ¥å¤„ç†è¾ƒå¤§çš„è¿åŠ¨ï¼Œè€Œ[29]åˆ™é€šè¿‡å¢åŠ æ ¸å¤§å°æ¥å¤„ç†è¾ƒå¤§çš„è¿åŠ¨ã€‚ç”±äºè¦å­˜å‚¨å’Œå»ºæ¨¡çš„å‚æ•°æ•°é‡åœ¨æ ¸å¤§å°ä¸­æ˜¯å¹³æ–¹çš„ï¼Œå› æ­¤åœ¨æˆ‘ä»¬çš„å¤šå°ºåº¦èåˆæ¡†æ¶ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹æ‰€æœ‰å±‚åˆ©ç”¨å°æ ¸(í‘›=3æˆ–5)æ¥æ˜¾è‘—é™ä½å†…å­˜ä½¿ç”¨é‡å’Œæ¨¡å‹å¤æ‚åº¦ ä¸ºäº†$ G{m} $çš„æ³¨æ„åŠ›é›†ä¸­å­¦ä¹ å°ºåº¦såœ¨å®é™…å‘ç”Ÿçš„åŒºåŸŸçš„è¿åŠ¨ä¸Šï¼Œæˆ‘ä»¬é¢„æµ‹äº†ä¸€ä¸ªå¸¦æœ‰$ w^{s} $çš„è¿åŠ¨é®ç½©$ M^{s} âˆˆ â„^{l{s}Ã—l{s}} $ï¼Œä»¥è¯†åˆ«è¿™æ ·çš„åŒºåŸŸã€‚æ¯ä¸ª$ M^{s} $çš„çš„å€¼éƒ½åœ¨[0ï¼Œ1]ä¸­ã€‚æˆ‘ä»¬åœ¨$ M^{s}(a,b) $:çš„æŒ‡å¯¼ä¸‹é€šè¿‡èåˆè¿åŠ¨ä»$ h{c}^{s}(a,b) $å’Œ $ \\tilde{h}{c}^{s}(a,b) $ç”Ÿæˆäº†æ–°çš„å†…å®¹$ \\hat{h}{c}^{s} $ï¼š Conclusionä»¥ä¸Šã€‚","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"è§†é¢‘ç”Ÿæˆ","slug":"è§†é¢‘ç”Ÿæˆ","permalink":"http://yoursite.com/tags/%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90/"},{"name":"GAN","slug":"GAN","permalink":"http://yoursite.com/tags/GAN/"}]},{"title":"è®ºæ–‡é€Ÿè¯»ï¼šG3AN","slug":"è®ºæ–‡é€Ÿè¯»ï¼šG3AN","date":"2020-12-24T03:53:37.000Z","updated":"2022-06-06T03:22:14.526Z","comments":true,"path":"2020/12/24/è®ºæ–‡é€Ÿè¯»ï¼šG3AN/","link":"","permalink":"http://yoursite.com/2020/12/24/%E8%AE%BA%E6%96%87%E9%80%9F%E8%AF%BB%EF%BC%9AG3AN/","excerpt":"","text":"1. Introduction åŸæ–‡åœ°å€ï¼šG3AN: Disentangling Appearance and Motion for Video Generation åœ¨æ¨æ–­å’Œå»ºæ¨¡äººç±»è§†é¢‘çš„åˆ†å¸ƒæ—¶ï¼Œç”Ÿæˆæ¨¡å‹é¢ä¸´ä¸‰ä¸ªä¸»è¦æŒ‘æˆ˜:(a)ç”Ÿæˆä¸ç¡®å®šè¿åŠ¨ï¼Œ(b)åœ¨æ•´ä¸ªç”Ÿæˆçš„è§†é¢‘ä¸­ä¿æŒäººç±»å¤–è§‚ï¼Œä»¥åŠ(c)å»ºæ¨¡æ—¶ç©ºä¸€è‡´æ€§ã€‚ æœ¬æ–‡æå‡ºäº†ä¸€ä¸ªæ–°çš„è¢«ç®€åŒ–çš„ç”Ÿæˆæ¨¡å‹G^{3}ANï¼Œä»¥å­¦ä¹ è§†é¢‘ç”Ÿæˆå› å­å¤–è§‚å’Œè¿åŠ¨çš„è§£çº ç»“è¡¨ç¤ºï¼Œå…è®¸å¯¹ä¸¤è€…è¿›è¡Œæ“ä½œã€‚è§£çº ç¼ è¡¨ç¤ºè¢«å®šä¹‰ä¸ºå•ä¸ªæ½œåœ¨å•ä½å¯¹å•ä¸ªç”Ÿæˆå› ç´ çš„å˜åŒ–æ•æ„Ÿï¼Œè€Œå¯¹å…¶ä»–å› ç´ çš„å˜åŒ–ç›¸å¯¹ä¸å˜[4]ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„G3ANè¢«èµ‹äºˆäº†ä¸€ä¸ª three-streamç”Ÿæˆå™¨æ¶æ„ï¼Œå…¶ä¸­ä¸»æµç¼–ç æ—¶ç©ºè§†é¢‘è¡¨ç¤ºï¼Œç”±ä¸¤ä¸ªè¾…åŠ©æµå¢å¼ºï¼Œè¡¨ç¤ºç‹¬ç«‹çš„ç”Ÿæˆå› å­å¤–è§‚å’Œè¿åŠ¨ã€‚é’ˆå¯¹é«˜çº§åŠŸèƒ½å›¾çš„self-attentionæœºåˆ¶å¯ç¡®ä¿ä»¤äººæ»¡æ„çš„è§†é¢‘è´¨é‡ã€‚ G^{3}ANå› æ­¤èƒ½å¤Ÿé€šè¿‡éµå¾ªè®­ç»ƒåˆ†å¸ƒè€Œä¸éœ€è¦é¢å¤–çš„è¾“å…¥æ¥ç”Ÿæˆé€¼çœŸçš„è§†é¢‘(åº”å¯¹æŒ‘æˆ˜(a)å’Œ(c))ï¼Œå¹¶ä¸”èƒ½å¤Ÿåˆ†ç¦»åœ°æ“çºµå¤–è§‚å’Œè¿åŠ¨ï¼ŒåŒæ—¶å¼ºè°ƒä¿æŒå¤–è§‚(æŒ‘æˆ˜(b))ã€‚ æœ¬æ–‡çš„æŠ€æœ¯è´¡çŒ®åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š ä¸€ç§æ–°çš„ç”Ÿæˆæ¨¡å‹G3ANï¼Œå®ƒè¯•å›¾ä»äººç±»è§†é¢‘æ•°æ®ä¸­å­¦ä¹ ç”Ÿæˆå¤–è§‚å’Œè¿åŠ¨å› ç´ çš„è§£çº ç¼ è¡¨ç¤ºã€‚è¿™äº›è¡¨ç¤ºå…è®¸å¯¹è¿™ä¸¤ä¸ªå› ç´ è¿›è¡Œå•ç‹¬æ“ä½œã€‚ ä¸€ç§æ–°é¢–çš„three-streamç”Ÿæˆå™¨ï¼Œå®ƒåŒæ—¶è€ƒè™‘äº†ä¸ªä½“å¤–è§‚ç‰¹å¾(ç©ºé—´æµ)ã€è¿åŠ¨ç‰¹å¾(æ—¶é—´æµ)å’Œå¹³æ»‘ç”Ÿæˆçš„è§†é¢‘(ä¸»æµ)çš„å­¦ä¹  ä¸€ç§æ–°çš„factorized spatio-temporal self-attention(F-SA)è¢«è®¤ä¸ºæ˜¯ç¬¬ä¸€ä¸ªåº”ç”¨äºè§†é¢‘ç”Ÿæˆçš„self-attentionæ¨¡å—ï¼Œç”¨äºå¯¹å…¨å±€æ—¶ç©ºè¡¨ç¤ºè¿›è¡Œå»ºæ¨¡ï¼Œæé«˜ç”Ÿæˆè§†é¢‘çš„è´¨é‡ã€‚ å¹¿æ³›çš„å®šæ€§å’Œå®šé‡è¯„ä¼°ï¼Œè¯æ˜äº†G3ANåœ¨ä¸€ç³»åˆ—æ•°æ®é›†ä¸Šç³»ç»Ÿåœ°ã€æ˜¾è‘—åœ°ä¼˜äºæœ€å…ˆè¿›çš„åŸºçº¿ã€‚ 2. Related Workè™½ç„¶è§†é¢‘ç”Ÿæˆä»»åŠ¡æ—¨åœ¨ç”ŸæˆçœŸå®çš„æ—¶é—´åŠ¨æ€ï¼Œä½†è¿™äº›ä»»åŠ¡ä¼šéšç€æ¡ä»¶ä½œç”¨çš„æ°´å¹³è€Œå˜åŒ–ã€‚æˆ‘ä»¬æœ‰åŸºäºä¸è¿åŠ¨æˆ–å¤–è§‚ç›¸å…³çš„é™„åŠ å…ˆéªŒçš„è§†é¢‘ç”Ÿæˆï¼Œç›¸åï¼Œè§†é¢‘ç”Ÿæˆä»…éµå¾ªè®­ç»ƒåˆ†å¸ƒã€‚æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œä»å»ºæ¨¡çš„è§’åº¦æ¥çœ‹ï¼Œåè€…æ›´å…·æŒ‘æˆ˜æ€§ï¼Œå› ä¸ºç¼ºå°‘å…³äºä¾‹å¦‚ç”Ÿæˆçš„è§†é¢‘çš„ç»“æ„çš„é™„åŠ è¾“å…¥ã€‚å› æ­¤ï¼Œè¿„ä»Šä¸ºæ­¢çš„å¤§å¤šæ•°æ–¹æ³•éƒ½åŒ…å«æŸç§æ¡ä»¶ä½œç”¨ã€‚ Video generation from noiseã€‚ä»å™ªå£°ä¸­ç›´æ¥ç”Ÿæˆè§†é¢‘éœ€è¦æ•è·æ•°æ®é›†åˆ†å¸ƒå¹¶å¯¹å…¶å»ºæ¨¡ã€‚æœ€æ¥è¿‘æœ¬æ–‡å·¥ä½œçš„æ˜¯MoCoGANï¼Œå®ƒå°†æ¯ä¸€å¸§çš„æ½œåœ¨è¡¨ç°åˆ†è§£ä¸ºè¿åŠ¨å’Œå†…å®¹ï¼Œæ—¨åœ¨æ§åˆ¶è¿™ä¸¤ä¸ªå› ç´ ã€‚ç„¶è€Œï¼ŒMoCoGANå’ŒG^{3}ANä¹‹é—´æœ‰ä¸¤ä¸ªå…³é”®çš„åŒºåˆ«ã€‚é¦–å…ˆï¼ŒMoCoGANä¸æ˜¯å¯¹æ¯ä¸ªè§†é¢‘åªé‡‡æ ·ä¸¤ä¸ªå™ªå£°çŸ¢é‡ï¼Œè€Œæ˜¯é‡‡æ ·ä¸€ç³»åˆ—å™ªå£°çŸ¢é‡ä½œä¸ºè¿åŠ¨ï¼Œä¸€ä¸ªå›ºå®šçš„å™ªå£°ä½œä¸ºå†…å®¹ã€‚ç„¶è€Œï¼Œä¸ºæ¯ä¸€å¸§å¼•å…¥éšæœºå™ªå£°æ¥è¡¨ç¤ºè¿åŠ¨å¢åŠ äº†å­¦ä¹ éš¾åº¦ï¼Œå› ä¸ºæ¨¡å‹å¿…é¡»å°†è¿™äº›å™ªå£°å‘é‡æ˜ å°„åˆ°ç”Ÿæˆçš„è§†é¢‘ä¸­çš„è¿ç»­äººä½“è¿åŠ¨ã€‚å› æ­¤ï¼ŒMoCoGANé€æ¸å¿½ç•¥è¾“å…¥å™ªå£°ï¼Œå¹¶å€¾å‘äºäº§ç”Ÿç±»ä¼¼çš„è¿åŠ¨ã€‚ 3.Approachåœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æå‡ºäº†G^{3}ANï¼Œä¸€ç§æ–°é¢–çš„GANæ¶æ„ï¼Œæ—¨åœ¨ä»ä¸¤ä¸ªå™ªå£°çŸ¢é‡z_{a} âˆˆ Z_{A}å’Œz_{m}âˆˆ Z_{M}(åˆ†åˆ«ä»£è¡¨å¤–è§‚å’Œè¿åŠ¨)ä¸­ä»¥åˆ†ç¦»çš„æ–¹å¼ç”Ÿæˆè§†é¢‘ã€‚G^{3}ANç”±ä¸€ä¸ªä¸‰æµå‘ç”Ÿå™¨Gå’Œä¸€ä¸ªåŒæµé‰´åˆ«å™¨Dç»„æˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚Gçš„ç›®æ ‡æ˜¯ç”Ÿæˆèƒ½å¤ŸåŒæ—¶è°ƒèŠ‚å¤–è§‚å’Œè¿åŠ¨çš„è§†é¢‘ï¼Œè€ŒDåˆ™åˆ†åˆ«åœ¨è§†é¢‘å’Œå¸§ä¸­åŒºåˆ†ç”Ÿæˆçš„æ ·æœ¬å’ŒçœŸå®æ•°æ®ã€‚ 3.1 Generatoræˆ‘ä»¬åœ¨G^{3}æ¨¡å—çš„å±‚æ¬¡ç»“æ„ä¸­è®¾è®¡Gã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬æœ‰Nä¸ªå±‚æ¬¡ï¼Œè¡¨ç¤ºä¸ºG_{n=0...N-1}^{3}ã€‚ç¬¬ä¸€ä¸ªG^{3}æ¨¡å—G_{0}^{3}æ¥å—ä¸¤ä¸ªå™ªå£°çŸ¢é‡z_{a}å’Œz_{m}ä½œä¸ºè¾“å…¥ã€‚å…¶ä½™æ¨¡å—G_{n=1...N-1}^{3}ï¼Œç»§æ‰¿ä¸‰ä¸ªç‰¹å¾æ˜ å°„F_{S_{n-1}}ã€F_{V_{n-1}}å’ŒF_{T_{n-1}}ï¼Œä½œä¸ºå®ƒä»¬æ¥è‡ªæ¯ä¸ªå…ˆå‰G_{n-1}^{3}æ¨¡å—çš„è¾“å…¥ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ æ¯ä¸ªG^{3}æ¨¡å—ç”±ä¸‰ä¸ªå¹¶è¡Œæµç»„æˆ:ç©ºé—´æµG_{S_{n}}ã€æ—¶é—´æµG_{T_{n}}ä»¥åŠè§†é¢‘æµG_{V_{n}}ã€‚å®ƒä»¬è¢«è®¾è®¡æˆäº§ç”Ÿä¸‰ç§ä¸åŒç±»å‹çš„ç‰¹å¾ã€‚åœ¨ä¸Šå›¾ä¸­ç”¨è“çº¿è¡¨ç¤ºçš„ç©ºé—´æµå°†n = 0æ—¶çš„z_{a}å’Œn &gt; 1æ—¶çš„F_{S_{n-1}}ä½œä¸ºè¾“å…¥ï¼Œå¹¶é€šè¿‡ä½¿ç”¨è½¬ç½®çš„2Då·ç§¯å±‚å¯¹è¾“å…¥ç‰¹å¾è¿›è¡Œä¸Šé‡‡æ ·æ¥ç”Ÿæˆ2Då¤–è§‚ç‰¹å¾F_{S_{n}}ã€‚è¿™äº›ç‰¹å¾åœ¨ç©ºé—´ç»´åº¦ä¸Šå‘å±•ï¼Œå¹¶åœ¨æ‰€æœ‰æ—¶é—´å®ä¾‹ä¸­å…±äº«ã€‚ç”¨æ©™è‰²çº¿è¡¨ç¤ºçš„æ—¶é—´æµG_{T_{n}}æ¥å—n = 0çš„z_{m}å’Œn &gt; 1çš„F_{T_{n-1}}ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¯•å›¾é€šè¿‡ç”¨è½¬ç½®çš„1Då·ç§¯å±‚å¯¹è¾“å…¥ç‰¹å¾è¿›è¡Œä¸Šé‡‡æ ·æ¥ç”Ÿæˆ1Dè¿åŠ¨ç‰¹å¾F_{T_{n}}ã€‚è¿™äº›ç‰¹å¾åœ¨æ—¶é—´ç»´åº¦ä¸Šæ¼”åŒ–ï¼Œå¹¶åŒ…å«æ¯ä¸ªæ—¶é—´æ­¥é•¿çš„å…¨å±€ä¿¡æ¯ã€‚ç„¶åï¼Œç”¨é»‘çº¿è¡¨ç¤ºçš„è§†é¢‘æµG_{V_{n}}å°†n = 0çš„z_{a}ã€z_{m}å’Œn &gt; 1çš„F_{V_{n-1}}çš„è¿æ¥ä½œä¸ºè¾“å…¥ã€‚å®ƒå¯¹æ—¶ç©ºä¸€è‡´æ€§è¿›è¡Œå»ºæ¨¡ï¼Œå¹¶é€šè¿‡å¯¹è¾“å…¥è¦ç´ è¿›è¡Œä¸Šé‡‡æ ·å’Œå› å­åŒ–è½¬ç½®æ—¶ç©ºå·ç§¯æ¥äº§ç”Ÿ3Dè”åˆåµŒå…¥F_{V_{n}^{'}}ã€‚ç„¶åå°†F_{S_{n}}å’ŒF_{T_{n}}å¼¹å°„åˆ°æ—¶ç©ºèåˆå—ï¼Œåœ¨æ­¤ä¸F_{V_{n}^{'}}èåˆï¼Œäº§ç”ŸF_{V_{n}}ã€‚æœ€åï¼ŒF_{S_{n}}ã€F_{T_{n}}å’ŒF_{V_{n}}ä½œä¸ºä¸‹ä¸€ä¸ªåˆ†å±‚G_{n+1}^{3}çš„è¾“å…¥ã€‚ ç‹ç­‰äººåœ¨[40]ä¸­æå‡ºäº†Factorized transposed spatio-temporal convolutionã€‚å®ƒæ˜ç¡®åœ°å°†è½¬ç½®çš„3Då·ç§¯åˆ†è§£æˆä¸¤ä¸ªç‹¬ç«‹ä¸”è¿ç»­çš„è¿ç®—ï¼ŒMä¸ªè½¬ç½®çš„1Dæ—¶é—´å·ç§¯ä¹‹åæ˜¯2Dç‹¬ç«‹çš„ç©ºé—´å·ç§¯ï¼Œå…¶è¢«ç§°ä¸ºè½¬ç½®çš„(1+2)Då·ç§¯ã€‚è¿™ç§åˆ†è§£åœ¨è¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´å¸¦æ¥äº†é¢å¤–çš„éçº¿æ€§æ¿€æ´»ï¼Œå¹¶æœ‰åŠ©äºä¼˜åŒ–ã€‚è‡³å…³é‡è¦çš„æ˜¯ï¼Œåˆ†è§£è½¬ç½®çš„3Då·ç§¯äº§ç”Ÿäº†è§†é¢‘è´¨é‡çš„æ˜¾è‘—æé«˜ Spatio-temporal fusionæ˜¯å­¦ä¹ å¥½è§£çº ç¼ ç‰¹å¾çš„å…³é”®ï¼Œå…¶è¾“å…¥æ˜¯æ¥è‡ªæ¯ä¸ªG^{3}æ¨¡å—å·ç§¯å±‚çš„è¾“å‡ºç‰¹å¾æ˜ å°„F_{S_{n}}ã€F_{T_{n}}ä»¥åŠF_{V_{n}^{'}}ã€‚èåˆåŒ…å«ä¸‰ä¸ªæ­¥éª¤(è§ä¸‹å›¾)ã€‚é¦–å…ˆï¼Œåˆ†åˆ«å¯¹F_{T_{n}}å’ŒF_{S_{n}}è¿›è¡Œç©ºé—´å’Œæ—¶é—´å¤åˆ¶ï¼Œä»¥è·å¾—ä¸¤ä¸ªæ–°çš„ç‰¹å¾å›¾F_{T_{n}}^{R}å’ŒF_{S_{n}}^{R}ã€‚ä¸¤ä¸ªæ–°çš„ç‰¹å¾å›¾éƒ½å…·æœ‰ä¸F_{V_{n}^{'}}ç›¸åŒçš„æ—¶ç©ºå¤§å°ã€‚æ¥ä¸‹æ¥ï¼Œé€šè¿‡ä½ç½®ç›¸åŠ å°†F_{T_{n}}^{R}å’ŒF_{V_{n}^{'}}åˆå¹¶ï¼Œåˆ›å»ºæ–°çš„æ—¶ç©ºåµŒå…¥F_{V_{n}^{''}}ã€‚æœ€åï¼Œå°†F_{S_{n}}^{R}ä¸F_{V_{n}^{''}}é€šé“ç›¸è¿æ¥ï¼Œè·å¾—æœ€ç»ˆçš„èåˆç‰¹å¾å›¾F_{V_{n}}ã€‚è¯¥åŠŸèƒ½å°†F_{S_{n}}ã€F_{T_{n}}å’ŒF_{V_{n}}æ˜ å°„ä¸ºä»¥ä¸‹G_{n+1}^{3}æ¨¡å—çš„è¾“å…¥ã€‚ Factorized spatio-temporal Self-Attention (F-SA)ï¼šåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»“åˆäº†ä¸€ä¸ªæ—¶ç©ºæ¨¡æ‹Ÿæ¨¡å—ï¼Œä½¿Gèƒ½å¤Ÿåˆ©ç”¨æ¥è‡ªæ‰€æœ‰æ—¶ç©ºç‰¹å¾ä½ç½®çš„çº¿ç´¢ï¼Œå¹¶å¯¹å¹¿æ³›åˆ†ç¦»çš„åŒºåŸŸä¹‹é—´çš„å…³ç³»è¿›è¡Œå»ºæ¨¡ã€‚ç„¶è€Œï¼Œè®¡ç®—3Dæ—¶ç©ºç‰¹å¾åœ°å›¾ä¸­æ¯ä¸ªä½ç½®ä¸æ‰€æœ‰å…¶ä»–ä½ç½®ä¹‹é—´çš„ç›¸å…³æ€§åœ¨è®¡ç®—ä¸Šéå¸¸æ˜‚è´µï¼Œç‰¹åˆ«æ˜¯å¦‚æœå®ƒåº”ç”¨äºGä¸­çš„æ›´é«˜ç‰¹å¾åœ°å›¾ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å› å­åŒ–æ—¶ç©ºè‡ªæˆ‘æ³¨æ„ï¼Œå³F-SAï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å®ƒç”±ä¸€ä¸ªæ—¶é—´ä¸Šçš„æ¨¡æ‹Ÿé€€ç«ç®—æ³•å’Œä¸€ä¸ªç©ºé—´ä¸Šçš„æ¨¡æ‹Ÿé€€ç«ç®—æ³•ç»„æˆã€‚è¿™ç§å› å­åˆ†è§£å‡å°‘äº†è®¡ç®—çš„å¤æ‚æ€§ï¼Œå…è®¸åœ¨æ›´å¤§çš„ç‰¹å¾åœ°å›¾ä¸Šåº”ç”¨å› å­åˆ†æ 3.2 Discriminatorä¸ºäº†æé«˜è§†é¢‘å’Œå¸§è´¨é‡ï¼Œç±»ä¼¼äºMoCoGANï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªåŒæµé‰´åˆ«å™¨æ¶æ„ï¼ŒåŒ…å«ä¸€ä¸ªè§†é¢‘æµDVå’Œä¸€ä¸ªå›¾åƒæµDIã€‚åœ¨è®­ç»ƒæœŸé—´ï¼Œæ•°å­—è§†é¢‘æ¥å—å®Œæ•´çš„è§†é¢‘ä½œä¸ºè¾“å…¥ï¼Œè€ŒåŒæ ‡ç­¾ä»è§†é¢‘ä¸­éšæœºæŠ½å–å¸§ 4. Conclusionä»¥ä¸Šã€‚","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"è§†é¢‘ç”Ÿæˆ","slug":"è§†é¢‘ç”Ÿæˆ","permalink":"http://yoursite.com/tags/%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90/"},{"name":"GAN","slug":"GAN","permalink":"http://yoursite.com/tags/GAN/"}]},{"title":"è®ºæ–‡é€Ÿè¯»ï¼šImaGINator","slug":"è®ºæ–‡é€Ÿè¯»ï¼šImaGINator","date":"2020-12-23T13:56:29.000Z","updated":"2022-06-06T03:22:14.526Z","comments":true,"path":"2020/12/23/è®ºæ–‡é€Ÿè¯»ï¼šImaGINator/","link":"","permalink":"http://yoursite.com/2020/12/23/%E8%AE%BA%E6%96%87%E9%80%9F%E8%AF%BB%EF%BC%9AImaGINator/","excerpt":"","text":"1. Introductionæœ¬æ–‡æå‡ºäº†ä¸€ä¸ªæ–°çš„conditional GANæ¨¡å‹ï¼Œå³ImaGINatorï¼Œåœ¨ç»™å®šå•ä¸ªå›¾åƒc_{a}ã€è¿åŠ¨ç±»c_{m}ä»¥åŠå™ªå£°zçš„æ¡ä»¶ä¸‹ï¼Œç”Ÿæˆè§†é¢‘åºåˆ—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ åŸæ–‡åœ°å€ï¼šImaGINator: Conditional Spatio-Temporal GAN for Video Generation ImaGINatorçš„ç‰¹æ€§å¦‚ä¸‹ï¼š é‡‡ç”¨äº†ä¸€ç§æ–°çš„æ—¶ç©ºèåˆæœºåˆ¶ï¼Œæ—¨åœ¨é€šè¿‡å¢å¼ºGåœ¨ä½å’Œé«˜ç‰¹å¾çº§åˆ«ä¸­ä½¿ç”¨ç©ºé—´ä¿¡æ¯æ¥ä¿æŒå¤–è§‚ã€‚é€šè¿‡å‘Decoderæ³¨å…¥c_{a}ï¼Œæˆ‘ä»¬ä½¿Gèƒ½å¤Ÿå°†é‡ç‚¹æ”¾åœ¨ç”Ÿæˆå•ç‹¬çš„è¿åŠ¨ä¸Šã€‚è¿™æ˜¯åŸºäºè¿™æ ·çš„å‡è®¾ï¼Œå³è§†é¢‘å¯ä»¥åœ¨æ½œåœ¨ç©ºé—´ä»¥åŠå¤šçº§æ—¶ç©ºç‰¹å¾ç©ºé—´ä¸­åˆ†è§£æˆå¤–è§‚å’Œè¿åŠ¨ã€‚è™½ç„¶åœ¨æ¯ä¸€å±‚å¤–è§‚è¢«ä¿ç•™ï¼Œåªæœ‰è¿åŠ¨è¢«æ”¹å˜ã€‚ ä¸€ç§æ–°é¢–çš„è½¬ç½®(1+2)Då·ç§¯ï¼Œå°†è½¬ç½®çš„ä¸‰ç»´å·ç§¯æ»¤æ³¢å™¨åˆ†è§£æˆç‹¬ç«‹çš„æ—¶é—´å’Œç©ºé—´åˆ†é‡ã€‚è¿™å¸¦æ¥äº†å‡ ä¸ªå¥½å¤„:(1)é¢å¤–çš„éçº¿æ€§æ ¡æ­£å…è®¸æ¨¡å‹è¡¨ç¤ºæ›´å¤æ‚çš„å‡½æ•°ï¼Œ(2)å®ƒä¾¿äºä¼˜åŒ–ï¼Œå› ä¸ºè½¬ç½®(1+2)Då·ç§¯å—æ¯”å®Œå…¨è½¬ç½®çš„3Då·ç§¯æ»¤æ³¢å™¨æ›´å®¹æ˜“ä¼˜åŒ–ï¼Œä»¥åŠ(3)å®ƒåœ¨è§†é¢‘è´¨é‡å’Œé€Ÿåº¦æ–¹é¢äº§ç”Ÿæ˜¾è‘—çš„å¢ç›Š 2. Related Workä¸ä¹‹å‰æ–‡ç« ä¸­çš„MoCoGANè¿›è¡Œæ¯”è¾ƒï¼ŒMoCoGANåŸºäºseq2seqæ¶æ„ï¼Œæ—¨åœ¨å°†æ—¶ç©ºç”Ÿæˆåˆ†ä¸ºä¸¤æ­¥(å°†æ¯ä¸ªè§†é¢‘å¸§åˆ†è§£ä¸ºä¸åŒæ½œåœ¨ç©ºé—´ä¸­çš„è¿åŠ¨å’Œå¤–è§‚)ã€‚ç„¶è€Œï¼Œè¿™ç§ä¸¤æ­¥ç”Ÿæˆçœç•¥äº†åœ¨æ›´é«˜ç©ºé—´çº§åˆ«çš„æ—¶é—´ä¸€è‡´æ€§çš„å»ºæ¨¡ï¼Œè¿™é€šå¸¸ä¸èƒ½ä¿æŒåŸå§‹å¤–è§‚ã€‚ ä¸æ­¤ä¸åŒï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§å•æ­¥æ¶æ„ï¼Œå®ƒåœ¨å¤šçº§ç‰¹å¾ç©ºé—´ä¸­åˆ†è§£è¿åŠ¨å’Œå¤–è§‚ï¼Œç”¨äºå›¾åƒåˆ°è§†é¢‘çš„ç”Ÿæˆã€‚ 3. NetWork Architectureæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç”Ÿæˆç»™å®šå¤–è§‚ä¿¡æ¯(ä½œä¸ºå•ä¸ªå›¾åƒå¸§)å’Œè¿åŠ¨ç±»åˆ«(ä¾‹å¦‚ï¼Œç¡®å®šé¢éƒ¨è¡¨æƒ…)çš„è§†é¢‘åºåˆ—ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå‡è®¾ä¸€ä¸ªè§†é¢‘yå¯ä»¥åˆ†è§£ä¸ºå¤–è§‚c_{a}(æºè‡ªè¾“å…¥å›¾åƒ)å’Œè¿åŠ¨c_{m}(æºè‡ªç±»åˆ«æ ‡ç­¾)ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæˆ‘ä»¬ç»§ç»­ç”Ÿæˆè§†é¢‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†æˆ‘ä»¬çš„ä»»åŠ¡è¡¨è¿°ä¸ºå­¦ä¹ ä¸€ä¸ªæ¡ä»¶æ˜ å°„G: {zï¼Œc_{a}ï¼Œc_{m}} â†’ yï¼Œå…¶ä¸­z ~ N(0ï¼Œ1)è¡¨ç¤ºéšæœºå™ªå£°ã€‚ 3.1 Generatoræˆ‘ä»¬çš„Generatorç”±ä¸€ä¸ªå›¾åƒç¼–ç å™¨å’Œä¸€ä¸ªè§†é¢‘è§£ç å™¨ç»„æˆï¼Œè§ä¸Šå›¾ã€‚Encoderæå–å„ç§å±‚ä¸­çš„å¤–è§‚ä¿¡æ¯ï¼Œä»æµ…çš„ç²¾ç»†å±‚åˆ°æ·±çš„ç²—ç³™å±‚ã€‚å®ƒå°†è¾“å…¥å›¾åƒc_{a}ç¼–ç ä¸ºä¸€ä¸ªæ½œåœ¨çŸ¢é‡pï¼Œç„¶åé€šè¿‡è¿æ¥pã€c_{m}ä»¥åŠéšæœºå™ªå£°z ~ N(0ï¼Œ1)ï¼ŒDecoderç”Ÿæˆä¸€ä¸ªè§†é¢‘åºåˆ—ã€‚ åœ¨æˆ‘ä»¬çš„ç”Ÿæˆå™¨Bä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»2ä¸ªè·³è·ƒè¿æ¥çš„FCN-8çš„æƒ³æ³•æ‰©å±•åˆ°4ä¸ªè·³è·ƒè¿æ¥ï¼Œä½†ä¸åŒä¹‹å¤„åœ¨äºï¼Œæœ€åˆçš„è·³è·ƒè¿æ¥ç”¨äºèåˆé¢„æµ‹ï¼Œè€Œæˆ‘ä»¬çš„è·³è·ƒè¿æ¥ç”¨äºèåˆå¤–è§‚å’Œè¿åŠ¨æ—¶ç©ºç‰¹å¾ã€‚æˆ‘ä»¬çš„è·³è¿‡è¿æ¥å…è®¸Decoderç›´æ¥ä»Encoderè®¿é—®ä½çº§ç‰¹å¾ï¼Œä½¿Decoderèƒ½å¤Ÿåœ¨æ¯ä¸ªæ—¶é—´ç‰‡é‡ç”¨å¤–è§‚ç‰¹å¾ï¼Œå¹¶ä¸“æ³¨äºç”Ÿæˆè¿åŠ¨ã€‚ 3.1.1 Spatio-temporal fusion.å‡è®¾Gæœ‰nä¸ªå›¾å±‚ï¼Œä¸”F_{i}^{HÃ—WÃ—C_{1}Ã—T}æ˜¯Gç¬¬iå±‚ä¸­æœ‰C_{1}ä¸ªé€šé“çš„çš„ç‰¹å¾å›¾ï¼Œf_{i,t}^{HÃ—WÃ—C_{1}}ï¼Œt âˆˆ {1, â€¦, T}æ˜¯F_{i}ä¸­ç¬¬tå¸§çš„ç‰¹å¾å›¾ï¼ŒF_{n-i}^{HÃ—WÃ—C_{2}}æ˜¯ç¬¬n-iå±‚çš„ç‰¹å¾å›¾ã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬è®¾è®¡Decoderå’ŒEncoderçš„æ¯ä¸€å±‚çš„è¾“å‡ºå…·æœ‰ç›¸åŒçš„ç©ºé—´ç»´åº¦ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§èåˆæœºåˆ¶ï¼Œåœ¨é€šé“æ–¹å‘çš„ç»´åº¦ä¸Šè¿æ¥æ¯ä¸ªf_{i,t}å’ŒF_{n-i}ä¸²è”æˆåŒä¸€ä¸ªé€šé“å°ºå¯¸ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ç‰¹å¾æ˜ å°„F_{i}^{' HÃ—WÃ—(C_{1}+C_{2})Ã—T}ï¼Œç§°ä¸ºæ—¶ç©ºèåˆ(Spatio-temporal fusion)ã€‚è¿™é‡Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œæ¯ä¸ªåˆå§‹ç‰¹å¾æ˜ å°„F_{i}å‘ˆç°ç”Ÿæˆçš„è§†é¢‘ä¸­å‡ ä¸ªè¿ç»­å¸§çš„æ—¶ç©ºç‰¹å¾ã€‚é€šè¿‡åœ¨ä¸åŒçš„ç‰¹å¾å±‚æ¬¡ä¸Šç›´æ¥æ—¶ç©ºèåˆF_{i}å’Œ F_{n-i}ï¼Œå¯ä»¥åœ¨ç”Ÿæˆçš„è§†é¢‘ä¸­å¾ˆå¥½åœ°ä¿ç•™è¾“å…¥ä¿¡æ¯ã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å°†ç±»åˆ«æ ‡ç­¾(æ„æˆä¸€ä¸ªone-hotå‘é‡)ç›´æ¥èåˆåˆ°è§£ç å™¨ä¸­ï¼Œä»¥ä¾¿ä¸ºæ¯ä¸ªå±‚æä¾›å¯¹æ ‡ç­¾çš„è®¿é—®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå°†çƒ­ç‚¹å‘é‡æŠ•å½±åˆ°çƒ­ç‚¹ç‰¹å¾å›¾ä¸Šã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨è§£ç å™¨ä¸­å°†ç±»åˆ«æ ‡ç­¾ä¿¡æ¯æ—¶ç©ºèåˆåˆ°ä¸åŒçš„å±‚ä¸­ã€‚æˆ‘ä»¬æœ€ç»ˆçš„ç‰¹å¾åœ°å›¾æ˜¯å¤§å°ä¸ºH Ã— W Ã— (C1+ C2+C_{category})Ã— T 3.1.2 Transposed (1+2)D Convolutionæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œç”±äºéš¾ä»¥ä¼˜åŒ–ï¼Œåœ¨ä¸€æ­¥æ–¹æ³•ä¸­ä½¿ç”¨çš„3Då·ç§¯é€šå¸¸ä¼šå¯¼è‡´äº§ç”Ÿæ¨¡ç³Šçš„è§†é¢‘ã€‚ç„¶è€Œï¼Œå¾—ç›Šäºç©ºé—´å’Œæ—¶é—´åˆ†è§£ï¼Œå¸§å¯ä»¥åœ¨ä¸¤æ­¥æ–¹æ³•ä¸­å•ç‹¬ç”Ÿæˆã€‚å› æ­¤ï¼Œä¸ºäº†å°†è¿™ç§åˆ†è§£ç»“åˆåˆ°ä¸€æ­¥æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªæ–°çš„å·ç§¯å±‚ï¼Œé›†æˆäº†è½¬ç½®çš„(1+2)ç»´å·ç§¯ æˆ‘ä»¬å»ºè®®æ˜ç¡®åœ°å°†è½¬ç½®çš„3Då·ç§¯æ»¤æ³¢å™¨åˆ†è§£ä¸ºä¸¤ä¸ªç‹¬ç«‹ä¸”è¿ç»­çš„è¿ç®—ï¼ŒMä¸ªè½¬ç½®çš„1Dæ—¶é—´å·ç§¯æ»¤æ³¢å™¨ä¹‹åæ˜¯ä¸€ä¸ª2Dç‹¬ç«‹çš„ç©ºé—´åˆ†é‡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè½¬ç½®çš„(1+2)Då·ç§¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚è¿™ç§åˆ†è§£å¸¦æ¥äº†å‡ ä¸ªå¥½å¤„ã€‚ç¬¬ä¸€ä¸ªå¥½å¤„ä¸è¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´çš„é¢å¤–éçº¿æ€§æ ¡æ­£æœ‰å…³ï¼Œå› æ­¤å…è®¸æ¨¡å‹è¡¨ç¤ºæ›´å¤æ‚çš„å‡½æ•°ã€‚ç¬¬äºŒä¸ªæ½œåœ¨çš„å¥½å¤„æ˜¯ï¼Œåˆ†è§£æœ‰åŠ©äºä¼˜åŒ–ï¼Œå› ä¸ºå…·æœ‰åˆ†è§£çš„æ—¶é—´å’Œç©ºé—´åˆ†é‡çš„è½¬ç½®(1+2)Då·ç§¯å—æ˜¯æ¯”å®Œå…¨è½¬ç½®3Då·ç§¯æ»¤æ³¢å™¨æ›´å®¹æ˜“ä¼˜åŒ–ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¡¨æ˜ï¼Œåˆ†è§£è½¬ç½®çš„3Då·ç§¯æ»¤æ³¢å™¨åœ¨è§†é¢‘è´¨é‡å’Œé€Ÿåº¦æ–¹é¢éƒ½äº§ç”Ÿäº†æ˜¾è‘—çš„å¢ç›Šã€‚ 3.2 Two-stream Discriminatorä¸ºäº†æé«˜è§†é¢‘ç”Ÿæˆä¸­çš„å›¾åƒè´¨é‡ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªåŒ…å«D_{V}å’ŒD_{I}çš„Two-stream Discriminatoræ¶æ„ã€‚è™½ç„¶æ•°å­—è§†é¢‘æœ‰äº”ä¸ª3Då·ç§¯å±‚ï¼Œä½†æ•°å­—è§†é¢‘åªåŒ…å«å…·æœ‰ç›¸åŒæ•°å­—è§†é¢‘å±‚æ•°çš„2Då·ç§¯ã€‚D_{V}æ¥å—å®Œæ•´ç”Ÿæˆçš„è§†é¢‘ä½œä¸ºè¾“å…¥ï¼Œä½¿ç”¨å»ºè®®çš„æ—¶ç©ºèåˆæ¥èåˆç±»åˆ«æ ‡ç­¾çš„â€œçƒ­ç‚¹ç‰¹å¾å›¾â€å’Œç¬¬ä¸€å±‚çš„è¾“å‡ºï¼Œç±»ä¼¼äºG. D_{V}è¯•å›¾æµ‹é‡è”åˆåˆ†å¸ƒp(x_{real}, c_{m})å’Œp(x_{fake}, c_{m})é—´çš„KLæ•£åº¦ã€‚æˆ‘ä»¬åˆ†åˆ«ä»çœŸå®å’Œç”Ÿæˆçš„è§†é¢‘ä¸­éšæœºæŠ½å–Nå¸§ä½œä¸ºè¾“å…¥ã€‚ 4. Conclunsionä»¥ä¸Šã€‚","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"è§†é¢‘ç”Ÿæˆ","slug":"è§†é¢‘ç”Ÿæˆ","permalink":"http://yoursite.com/tags/%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90/"},{"name":"GAN","slug":"GAN","permalink":"http://yoursite.com/tags/GAN/"}]},{"title":"è®ºæ–‡é€Ÿè¯»ï¼šMoCoGAN Decomposing Motion and Content for Video","slug":"è®ºæ–‡é€Ÿè¯»ï¼šMoCoGAN Decomposing Motion and Content for Video","date":"2020-12-21T13:26:14.000Z","updated":"2022-06-06T03:22:14.527Z","comments":true,"path":"2020/12/21/è®ºæ–‡é€Ÿè¯»ï¼šMoCoGAN Decomposing Motion and Content for Video/","link":"","permalink":"http://yoursite.com/2020/12/21/%E8%AE%BA%E6%96%87%E9%80%9F%E8%AF%BB%EF%BC%9AMoCoGAN%20Decomposing%20Motion%20and%20Content%20for%20Video/","excerpt":"","text":"1. Introductionè§†é¢‘ä¸­çš„è§†è§‰ä¿¡å·å¯ä»¥åˆ†ä¸ºå†…å®¹å’Œè¿åŠ¨ã€‚å†…å®¹æŒ‡å®šè§†é¢‘ä¸­çš„å¯¹è±¡ï¼Œè¿åŠ¨æè¿°å®ƒä»¬çš„åŠ¨æ€ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæœ¬æ–‡æå‡ºäº†åŸºäºè¿åŠ¨å’Œå†…å®¹åˆ†è§£çš„ç”Ÿæˆæ€§å¯¹æŠ—ç½‘ç»œ(MoCoGAN)çš„è§†é¢‘ç”Ÿæˆæ¡†æ¶ã€‚ ä»£ç åœ°å€ï¼šhttps://github.com/sergeytulyakov/mocogan. 1.1 Related Work ä½¿ç”¨å¾ªç¯æœºåˆ¶æ¥ç”Ÿæˆè§†é¢‘ç‰‡æ®µä¸­å¸§çš„è¿åŠ¨åµŒå…¥ï¼ˆmotionï¼‰ã€‚ ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œç”Ÿæˆå›¾åƒï¼ˆcontentï¼‰ã€‚ 1.2 Contribution æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç”¨äºæ— æ¡ä»¶è§†é¢‘ç”Ÿæˆçš„GANæ¡†æ¶ï¼Œå°†å™ªå£°å‘é‡ï¼ˆnoiseï¼‰æ˜ å°„åˆ°è§†é¢‘ä¸­ã€‚ æˆ‘ä»¬å±•ç¤ºäº†æ‰€æå‡ºçš„æ¡†æ¶æä¾›äº†ä¸€ç§åœ¨è§†é¢‘ç”Ÿæˆä¸­æ§åˆ¶å†…å®¹å’Œè¿åŠ¨çš„æ–¹æ³•ï¼Œè¿™æ˜¯ç°æœ‰è§†é¢‘ç”Ÿæˆæ¡†æ¶æ‰€ç¼ºä¹çš„ã€‚ ä¸ºäº†éªŒè¯ç®—æ³•çš„æœ‰æ•ˆæ€§ï¼Œæˆ‘ä»¬åœ¨åŸºå‡†æ•°æ®é›†ä¸Šè¿›è¡Œäº†å¤§é‡çš„å®éªŒéªŒè¯ï¼Œå¹¶ä¸ç›®å‰æœ€å…ˆè¿›çš„è§†é¢‘ç”Ÿæˆç®—æ³•VGANå’ŒTGANè¿›è¡Œäº†å®šé‡å’Œä¸»è§‚æ¯”è¾ƒ 2. MoCoGAN FrameworkMoCoGANç”±å››ä¸ªå­ç½‘ç»œç»„æˆï¼Œå³å¾ªç¯ç¥ç»ç½‘ç»œR_{M}ã€å›¾åƒç”Ÿæˆå™¨G_{I}ã€å›¾åƒé‰´åˆ«å™¨D_{I}å’Œè§†é¢‘é‰´åˆ«å™¨D_{V} ä½¿ç”¨é«˜æ–¯åˆ†å¸ƒåˆå§‹åŒ–Z_{C}å¯¹å†…å®¹å­ç©ºé—´å»ºæ¨¡ï¼Œç”±äºåœ¨å‰ªè¾‘çš„çŸ­è§†é¢‘ä¸­å†…å®¹åŸºæœ¬ä¿æŒä¸å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ç›¸åŒçš„Z_{C}æ¥ç”Ÿæˆä¸åŒå¸§ã€‚ è§†é¢‘ä¸­çš„è¿åŠ¨ç”±åŠ¨ä½œå­ç©ºé—´Z_{M}å»ºæ¨¡ã€‚ç”¨äºä½œä¸ºG_{I}è¾“å…¥çš„å‘é‡åºåˆ—Zè¡¨ç¤º å…¶ä¸­z_{C} âˆˆ Z_{C}ä»¥åŠz_{M}^{(k)} âˆˆ Z_{M}éƒ½å„æœ‰kä¸ªï¼Œå› ä¸ºZ_{M}ä¸­å¹¶ä¸æ˜¯æ‰€æœ‰çš„è·¯å¾„éƒ½å¯¹åº”äºè·¯å¾„ä¸Šåˆç†çš„è¿åŠ¨ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¼šç”Ÿæˆæœ‰æ•ˆçš„è·¯å¾„ï¼Œé€šè¿‡å¾ªç¯ç¥ç»ç½‘ç»œå¯¹è·¯å¾„ç”Ÿæˆè¿‡ç¨‹è¿›è¡Œå»ºæ¨¡ã€‚ R_{M}å³ä¸ºä¸€ä¸ªå¾ªç¯ç¥ç»ç½‘ç»œï¼Œåœ¨æ¯ä¸€ä¸ªæ—¶é—´æ­¥kï¼Œéƒ½ä¼šè¾“å…¥ä¸€ä¸ªæœä»é«˜æ–¯åˆ†å¸ƒçš„\\epsilon^{(k)},ä»¥åŠè¾“å‡ºä¸€ä¸ªz_{M}^{(k)}ã€‚å‡è®¾R_{M}(k)ä¸ºæ—¶åˆ»kçš„è¾“å‡ºï¼Œåˆ™z_{M}^{(k)} = R_{M}(k)ã€‚æœ¬è®ºæ–‡ä¸­ï¼Œä½¿ç”¨GRUä½œä¸ºR_{M}çš„å®ç°ã€‚ G_{I}å°†å‘é‡åºåˆ—Zæ˜ å°„ä¸ºå‘é‡åºåˆ—\\tilde{v}ï¼Œå…¶ä¸­\\tilde{v} = [\\tilde{x}^(1), â€¦, \\tilde{x}^(k)] D_{I}å’ŒD_{V}åˆ†åˆ«ç”¨äºé‰´åˆ«å•ä¸ªå›¾åƒå’Œè§†é¢‘åºåˆ—ã€‚D_{V}è·å–å›ºå®šé•¿åº¦çš„è§†é¢‘ç‰‡æ®µï¼Œä¾‹å¦‚Tå¸§ï¼ŒTä¸ºä¸€ä¸ªè¶…å‚æ•°ï¼Œè®ºæ–‡ä¸­è®¾ä¸º16ã€‚Tå¯ä»¥å°äºæ‰€ç”Ÿæˆçš„è§†é¢‘é•¿åº¦Kã€‚é•¿åº¦ä¸ºKçš„è§†é¢‘å¯ä»¥ä»¥æ»‘åŠ¨çª—å£çš„æ–¹å¼è¢«åˆ†æˆK-T+1ä¸ªç‰‡æ®µï¼Œå¹¶ä¸”æ¯ä¸ªç‰‡æ®µéƒ½å¯ä»¥è¢«é¦ˆé€åˆ°D_{V}ä¸­ã€‚ D_{V}ä¹Ÿç”¨æ¥è¯„ä¼°æ‰€ç”Ÿæˆçš„åŠ¨ä½œã€‚å› ä¸ºG_{I}æ²¡æœ‰è¿åŠ¨çš„æ¦‚å¿µï¼Œå› æ­¤å¯¹äºè¿åŠ¨çš„æŸå¤±å°†ä¼šç›´æ¥æŒ‡å‘å¾ªç¯ç¥ç»ç½‘ç»œR_{M}ã€‚ä¸ºäº†éª—è¿‡D_{V}ï¼Œç”Ÿæˆå…·æœ‰è¾ƒä¸ºçœŸå®åŠ¨ä½œçš„è§†é¢‘ï¼ŒR_{M}å¿…é¡»å­¦ä¼šå°†è¾“å…¥\\epsilon^{(k)}æ˜ å°„ä¸ºåŠ¨ä½œç³»åˆ—Z 3. Categorical Dynamicsè§†é¢‘ä¸­çš„åŠ¨æ€é€šå¸¸æ˜¯ç»å¯¹çš„(ä¾‹å¦‚ï¼Œç¦»æ•£çš„åŠ¨ä½œç±»åˆ«ï¼šè¡Œèµ°ã€è·‘æ­¥ã€è·³è·ƒç­‰)ã€‚ä¸ºäº†å¯¹è¿™ä¸ªåˆ†ç±»ä¿¡å·å»ºæ¨¡ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåˆ†ç±»éšæœºå˜é‡Z_{A}æ¥å¢åŠ RMçš„è¾“å…¥ï¼Œå…¶ä¸­æ¯ä¸ªå®ç°éƒ½æ˜¯ä¸€ä¸ªone-hotå‘é‡ã€‚æˆ‘ä»¬ä¿æŒå…¶ä¸å˜ï¼Œå› ä¸ºçŸ­è§†é¢‘ä¸­åŠ¨ä½œç±»åˆ«ä¿æŒä¸å˜ï¼Œå› æ­¤R_{M}çš„è¾“å…¥å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ 4. Conclusionä»¥ä¸Šã€‚","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"è§†é¢‘ç”Ÿæˆ","slug":"è§†é¢‘ç”Ÿæˆ","permalink":"http://yoursite.com/tags/%E8%A7%86%E9%A2%91%E7%94%9F%E6%88%90/"},{"name":"GAN","slug":"GAN","permalink":"http://yoursite.com/tags/GAN/"}]},{"title":"LaTexå…¬å¼æ€»ç»“","slug":"LaTexå…¬å¼æ€»ç»“","date":"2020-12-21T13:18:10.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2020/12/21/LaTexå…¬å¼æ€»ç»“/","link":"","permalink":"http://yoursite.com/2020/12/21/LaTex%E5%85%AC%E5%BC%8F%E6%80%BB%E7%BB%93/","excerpt":"","text":"æœ¬æ–‡è½¬è½½è‡ªç®€ä¹¦ Markdownä¸­çš„LaTeXæ ¼å¼å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘å¯¹äºlatexçš„æ•°å­¦å…¬å¼éƒ½æ˜¯å†…åµŒäºMarkdownæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„ï¼Œåˆ†ä¸ºä¸¤ç§å½¢å¼ è¡Œå†…å…¬å¼æ’ç‰ˆï¼š 1$ c = \\sqrt&#123;a^&#123;2&#125;+b_&#123;0&#125;^&#123;2&#125;+e^&#123;x&#125;&#125; $ å—å…¬å¼æ’ç‰ˆï¼š 1$$ c = \\sqrt&#123;a^&#123;2&#125;+b_&#123;0&#125;^&#123;2&#125; +e^&#123;x&#125;&#125; $$ LaTexçš„æ•°å­¦å…¬å¼åŸºæœ¬è§„åˆ™ è½¬ä¹‰ ä»¥ä¸‹å‡ ä¸ªå­—ç¬¦: # $ % &amp; ~ _ ^ \\ { }æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œéœ€è¦è¡¨ç¤ºè¿™äº›å­—ç¬¦æ—¶ï¼Œéœ€è¦è½¬ä¹‰ï¼Œå³åœ¨æ¯ä¸ªå­—ç¬¦å‰åŠ ä¸Š\\ï¼ˆè½¬ä¹‰å­—ç¬¦çš„å…·ä½“å«ä¹‰ä¸‹é¢ä¼šè§£é‡Šï¼‰ &gt; ä¸çŸ¥ä¸ºä½•ç®€ä¹¦ä¸æ”¯æŒ~çš„è¡¨ç¤ºï¼Œéœ€è¦æ—¶å†™ä½œ\\sim \\boxedå‘½ä»¤ç»™å…¬å¼åŠ ä¸€ä¸ªæ–¹æ¡†ã€‚\\fboxå…·æœ‰ç±»ä¼¼åŠŸèƒ½ \\mathbfå°†å­—ä½“åŠ ç²— \\boldsymbolå°†å­—ä½“æ–œä½“ä¸”åŠ ç²— 12345$E = mc^2 $$ \\boxed&#123;E=mc^2&#125; $$\\fbox&#123;E=mc^2&#125;$$\\mathbf&#123;E = mc^2&#125;$$\\boldsymbol&#123;E = mc^2&#125;$ å¸Œè…Šå­—æ¯ä¸ç‰¹æ®Šå­—ç¬¦ ä¸Šä¸‹æ ‡åŠå¸¸ç”¨ç¬¦å· ç”¨^æ¥è¡¨ç¤ºä¸Šæ ‡ ç”¨_æ¥è¡¨ç¤ºä¸‹æ ‡ æ ¹å·ç”¨\\sqrtè¡¨ç¤º æ³¨æ„ï¼šè¿™äº›æœ‰ç‰¹æ®Šå«ä¹‰çš„è¡¨ç¤ºä¸­ï¼ˆä¸é™äºè¿™ä¸‰ç§å†…å®¹ï¼‰ï¼Œå¦‚æœè¶…è¿‡ä¸€ä¸ªå­—ç¬¦æˆ–ç¬¦å·ï¼Œéœ€è¦ç”¨{}æ‹¬èµ·æ¥ã€‚ å¯¹è§’æ ‡çš„ä½¿ç”¨ä¸­ï¼Œå¦‚æœè§’æ ‡ä½ç½®çœ‹èµ·æ¥ä¸æ˜æ˜¾æ—¶ï¼Œå¯ä»¥å¼ºåˆ¶æ”¹å˜è§’æ ‡å¤§å°æˆ–å±‚æ¬¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1$y_N, y_&#123;_N&#125;,$ æ˜¾ç¤ºä¸ºï¼š ç¬¬ä¸€ç§è¾“å‡ºä¸ºæ­£å¸¸è¾“å‡ºï¼Œä½†è¾“å‡ºæ•ˆæœä¸æ˜æ˜¾ï¼›ç¬¬äºŒç§æ˜¯å°†ä¸€çº§è§’æ ‡æ”¹ä¸ºäºŒçº§è§’æ ‡ï¼Œå­—ä½“ä¹Ÿè‡ªåŠ¨å˜ä¸ºäºŒçº§è§’æ ‡å­—ä½“ å½“éœ€è¦åœ¨å·¦å³ä¸¤è¾¹éƒ½æœ‰ä¸Šä¸‹æ ‡ï¼Œå¯ä»¥ç”¨ \\sideset å‘½ä»¤ 1$$ \\sideset&#123;^1_2&#125;&#123;^3_4&#125;\\bigotimes $$ \\sqrt[å¼€æ–¹æ¬¡æ•°ï¼Œé»˜è®¤ä¸º2]{å¼€æ–¹å…¬å¼}ï¼Œ ä¾‹å¦‚ï¼š 1$$ x_&#123;k&#125;^2\\quad \\sqrt&#123;x&#125;\\quad \\sqrt[3]&#123;x+y&#125; $$ å…¬å¼ä¸­æ’å…¥æ–‡æœ¬\\text{}æˆ–\\mbox{}ï¼Œå»ºè®®ä½¿ç”¨å‰è€…ï¼Œå®ƒå¯¹äºlatexå†…ç½®çš„\\mbox{}çš„ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥æ ¹æ®å½“å‰ä½ç½®è‡ªåŠ¨è°ƒæ•´æ–‡æœ¬æ ·å¼ï¼ˆå°¤å…¶æ˜¯å¤§å°ï¼‰ï¼Œè€Œ\\mboxé‡‡ç”¨ç»Ÿä¸€çš„æ­£æ–‡æ ·å¼ã€‚è¿™ä¸€ç‚¹åœ¨ä½ çš„æ–‡æœ¬è¢«ç”¨ä½œä¸Šä¸‹æ ‡çš„æ—¶å€™éå¸¸é‡è¦ã€‚ %7D) å…¬å¼ä¸­æ’å…¥ç©ºæ ¼ï¼Œé—´éš”æ•ˆæœå¦‚ä¸‹è¡¨ï¼š è‹¥éœ€è¦æ˜¾ç¤ºæ›´å¤§æˆ–æ›´å°çš„å­—ç¬¦ï¼Œåœ¨ç¬¦å·å‰æ’å…¥ \\large æˆ– \\small å‘½ä»¤ 1$A\\large A \\small A$ çœç•¥å·\\dots, \\cdots,\\vdots \\ddotsè¡¨ç¤ºï¼Œ\\cdotå¸¸è¡¨ç¤ºç‚¹ä¹˜ï¼Œ\\votsæ˜¯ç«–ç›´æ–¹å‘çš„ï¼Œ\\ddotsæ˜¯æ–œçº¿æ–¹å‘çš„ 1$$ x_1, x_2, \\dots, x_n\\quad 1,2,\\cdots,n\\quad \\vdots\\quad \\ddots $$ å…³ç³»ç¬¦å¦‚ä¸‹è¡¨æ‰€ç¤º å…¶ä»–å¸¸ç”¨ç¬¦å· åˆ†æ•°ä¸ç»„åˆæ•° åˆ†æ•°ç”¨\\frac{åˆ†å­}{åˆ†æ¯}è¡¨ç¤ºï¼Œ\\cfracç”¨äºè¿åˆ†æ•°è¡¨ç¤º(è¿™æ ·ç›¸è¾ƒäº\\fracä¸ä¼šäº§ç”Ÿå­—ä½“è‡ªåŠ¨ç¼©å°çš„é—®é¢˜) 1234$x = a _ 0 + \\cfrac &#123;1&#125; &#123;a _ 1 + \\cfrac &#123;1&#125; &#123;a _ 2 + \\cfrac &#123;1&#125; &#123;a _ 3 + \\cfrac &#123;1&#125; &#123;a _ 4&#125; &#125; &#125; &#125; $ å­—å·å·¥å…·ç¯å¢ƒè®¾ç½®ï¼š \\dfracå‘½ä»¤æŠŠå­—å·è®¾ç½®ä¸ºç‹¬ç«‹å…¬å¼ä¸­çš„å¤§å°ï¼› \\tfracåˆ™æŠŠå­—å·è®¾ç½®ä¸ºè¡Œé—´å…¬å¼ä¸­çš„å¤§å°ã€‚ 1$ \\frac&#123;1&#125;&#123;2&#125; \\dfrac&#123;1&#125;&#123;2&#125; $ 1$$ \\frac&#123;1&#125;&#123;2&#125; \\tfrac&#123;1&#125;&#123;2&#125; $$ ç»„åˆæ•°ç”¨æ³•ä¸åˆ†æ•°ç±»ä¼¼ï¼Œåœ¨å‘½ä»¤å‰åŠ då’Œtä¹Ÿèƒ½è¾¾åˆ°åˆ†æ•°å­—å·è®¾ç½®åŒæ ·çš„åŠŸèƒ½ \\binom{233}{x^2} è¿ç®—ç¬¦ åŸºæœ¬åŠ å‡ä¹˜é™¤ç­‰äº +-*/= å¯ä»¥ç›´æ¥è¾“å…¥ ç‰¹æ®Šè¿ç®—åˆ™ç”¨ä»¥ä¸‹ç‰¹æ®Šå‘½ä»¤\\pm; \\times; \\div; \\cdot; \\cap; \\cup; \\geq; \\leq; \\neq; \\approx; \\equiv åœ¨æ­¤ä¹‹ä¸Šï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨å †ç§¯ç¬¦å·æœ‰ä»¥ä¸‹ä¸‰ç§å½¢å¼ \\stackrel{ä¸Šä½ç¬¦å·}{åŸºä½ç¬¦å·} åŸºä½ç¬¦å·å¤§ï¼Œä¸Šä½ç¬¦å·å° {ä¸Šä½å…¬å¼\\atop ä¸‹ä½å…¬å¼} ä¸Šä¸‹ç¬¦å·ä¸€æ ·å¤§ {ä¸Šä½å…¬å¼\\choose ä¸‹ä½å…¬å¼} ä¸Šä¸‹ç¬¦å·ä¸€æ ·å¤§ï¼›ä¸Šä¸‹ç¬¦å·è¢«åŒ…æ‹¬åœ¨åœ†å¼§å†… å’Œã€ç§¯ã€æé™ã€ç§¯åˆ†ç­‰è¿ç®—ç¬¦ç”¨\\sum, \\prod, \\lim, \\int,è¿™äº›å…¬å¼åœ¨è¡Œå†…å…¬å¼è¢«å‹ç¼©ï¼Œä»¥é€‚åº”è¡Œé«˜ï¼Œå¯ä»¥é€šè¿‡\\limitså’Œ\\nolimitså‘½ä»¤å…¶æ˜¯å¦å‹ç¼©ã€‚ 123456789101112$ \\sum_&#123;i=1&#125;^n i $$ \\prod_&#123;i=1&#125;^n i$$\\lim_&#123;x\\to0&#125;x^2 $$\\int_&#123;a&#125;^&#123;b&#125;x^2 dx $$\\sum\\nolimits_&#123;i=1&#125;^n i \\quad\\prod\\nolimits_&#123;i=1&#125;^n i\\quad\\lim\\nolimits_&#123;x\\to0&#125;x^2 \\quad\\int\\limits_&#123;a&#125;^&#123;b&#125;x^2 dx $ ç§¯åˆ†åŠç®­å¤´ ç§¯åˆ†ç¬¦å·ä½¿ç”¨å¦‚ä¸‹å½¢å¼ï¼š\\intã€\\iintã€\\iiintã€\\iiiintã€\\idotsint 1234$$ \\int \\int \\quad \\int \\int \\int \\quad \\int \\int \\int \\int \\quad \\int \\dotsï¼ˆè¡¨ç¤º...ï¼‰ \\int $$$$ \\iint \\quad \\iiint \\quad \\iiiint \\quad \\idotsint $$ ç®­å¤´çš„ç§ç±»è¿‡äºç¹å¤šï¼Œè¿™é‡Œä¸å°±ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œä½†æ˜¯ç®­å¤´ç¬¦å·çš„åå­—å¾ˆæœ‰è§„å¾‹ï¼Œä¸€èˆ¬å‘½åè§„åˆ™ä¸ºæ–¹å‘+ç®­å¤´ç§ç±»ï¼š ä»£ç  æ˜¾ç¤º \\leftarrow æˆ– \\gets \\rightarrow æˆ– \\to \\uparrow \\downarrow å››ä¸ªåŸºæœ¬æ–¹å‘ä¸Šä¸‹å·¦å³ä¸å¤šè¯´ï¼Œæ–œç€çš„ç®­å¤´çš„æ–¹å‘éƒ¨åˆ†ä¸º\\ne \\se \\nw \\swï¼Œä¸ºä¸œåŒ—ã€ä¸œå—ã€è¥¿åŒ—ã€è¥¿å—ç®€å†™ ç¤ºä¾‹ï¼š\\nearrow è¿˜æœ‰å·¦å³ã€ä¸Šä¸‹ä¸¤ä¸ªæ–¹å‘çš„ç®­å¤´ï¼š \\leftrightarrow \\updownarrow ä¸Šé¢çš„ç®­å¤´åªæœ‰ä¸€æ ¹çº¿ï¼Œå¯ä»¥é€šè¿‡å¤§å†™ç¬¬ä¸€ä¸ªå­—æ¯å˜æˆåŒçº¿ï¼š \\Leftrightarrow \\Uparrow åœ¨å‰é¢åŠ ä¸Šlongå¯ä»¥æŠŠç®­å¤´å˜é•¿ï¼Œä»…é€‚ç”¨äºå·¦å³ç®­å¤´ï¼Œæ³¨æ„åŒçº¿ç®­å¤´å¤§å†™å­—æ¯çš„ä½ç½®ï¼š \\longleftarrow \\longleftrightarrow \\Longleftrightarrow æˆ– \\iff è¿˜æœ‰åªæœ‰ä¸€è¾¹çš„ç®­å¤´ï¼Œåå­—ä¸ºharpoon+up/downï¼Œè¡¨ç¤ºé‚£ä¸€è¾¹çš„ä½ç½®ï¼Œè¿™ç§ç®­å¤´ä¼¼ä¹ä¸æ”¯æŒä¸Šé¢çš„buff buffbuffï¼Œä½†æ‹¥æœ‰å·¦å³åŒå‘ç®­å¤´ï¼š \\leftharpoonup \\rightleftharpoons æ„å›¾åœ¨ç®­å¤´ä¸Šä¸‹ä½ç½®æ·»åŠ è¯´æ˜æ—¶ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ 12345678910111213141516171.\\xleftarrowå’Œ\\xrightarrowå¯æ ¹æ®å†…å®¹è‡ªåŠ¨è°ƒæ•´ï¼ˆä¸Šä¸‹éƒ½å¯ä»¥æ·»åŠ å†…å®¹ï¼‰2.\\overset&#123;&#125;&#123;\\rightarrow&#125;åˆ™æ˜¯é•¿åº¦å›ºå®šçš„ç®­å¤´ï¼Œé€‚åˆå•ä¸ªå­—ç¬¦ï¼Œå†…å®¹åœ¨ä¸Š \\overrightarrow&#123;&#125;åˆ™æ˜¯é•¿åº¦å˜åŒ–çš„ç®­å¤´ï¼Œé€‚åˆå¤šä¸ªå­—ç¬¦ï¼Œç®­å¤´åœ¨ä¸Šæ³¨æ„2ä¸­çš„éƒ½åªé€‚ç”¨äºåªåœ¨ç®­å¤´ä¸Šæˆ–ä¸‹æ·»åŠ å†…å®¹ï¼Œæ”¹å˜ä½ç½®å°†overæ”¹ä¸ºunder$\\xleftarrow[x+y+z]&#123;x+y+z+1&#125;$$\\xrightarrow[x+y+z+1]&#123;x+y+z&#125;$$\\overset&#123;x+y+z&#125;&#123;\\rightarrow&#125;$ $\\underrightarrow&#123;x+y+z&#125;$$\\underset&#123;x+y+z&#125;&#123;\\leftarrow&#125;$ $\\overleftarrow&#123;x+y+z&#125;$ æ³¨éŸ³å’Œæ ‡æ³¨ 123å­—æ¯ä¸Šæ–¹æ¨ªçº¿\\overline&#123;&#125;, \\bar&#123;&#125;$ \\bar&#123;x&#125; $ å•ä¸ªå­—ç¬¦ $\\overline&#123;xyz&#125;$ å¤šä¸ªå­—ç¬¦ 12å­—æ¯ä¸‹æ–¹æ¨ªçº¿\\underline&#123;&#125;$\\underline&#123;xyz&#125;$ 123\\overbrace å’Œ\\underbrace åœ¨è¡¨è¾¾å¼çš„ä¸Šã€ä¸‹æ–¹ç»™å‡ºä¸€æ°´å¹³çš„å¤§æ‹¬å·$\\overbrace&#123;a\\dots a&#125;^&#123;nä¸ª&#125;$ $\\underbrace&#123;a\\dots a&#125;_&#123;nä¸ª&#125;$ 1234å‘é‡è¡¨ç¤ºæœ‰ä¸¤ç§ï¼Œå•ä¸ªå­—æ¯ç”¨\\vec&#123;x&#125;ï¼Œå¤šä¸ªå­—æ¯ç”¨\\overrightarrow å’Œ\\overleftarrow$ \\vec&#123;x&#125;$$\\overrightarrow&#123;AB&#125;$$\\overleftarrow&#123;ABC&#125;$ 123å­—æ¯ä¸Šæ–¹æ³¢æµªçº¿\\tilde&#123;&#125;, \\widetilde&#123;&#125;$ \\tilde&#123;x&#125;$$ \\widetilde&#123;xyz&#125;$ 1$ \\dot&#123;x&#125;$ 12$ \\hat&#123;x&#125;$ $ \\widehat&#123;xyz&#125;$ 1$ \\acute&#123;x&#125;$ 1$ \\grave&#123;x&#125; $ 1$ \\mathring&#123;x&#125;$ 1$ \\ddot&#123;x&#125;$ 1$ \\check&#123;x&#125; $ 1$ \\breve&#123;x&#125;$ 1$ \\dddot&#123;x&#125; $ ç¼–å· æ’å…¥ç¼–å·ï¼š ä½¿ç”¨\\tagæŒ‡ä»¤æŒ‡å®šå…¬å¼çš„å…·ä½“ç¼–å·ï¼Œå¹¶ä½¿ç”¨\\labelæŒ‡ä»¤åŸ‹ä¸‹é”šç‚¹ã€‚å¦‚y=x^2 \\tag{1.5a} å¼•ç”¨ç¼–å·ï¼š åœ¨markdownä¸­ä¸æ”¯æŒç¼–å·çš„é”šç‚¹è®¾ç½® \\labelä¸\\ref çš„ä½¿ç”¨ æ‹¬å·åŠåµŒå¥— å¸¸ç”¨æ‹¬å·æœ‰ä»¥ä¸‹å‡ ç§ æ‹¬å·çš„å¤§å°è°ƒæ•´ å¯¹æ‹¬å·çš„å¤§å°ï¼Œæ‰‹åŠ¨æ¨¡å¼å¯ä»¥ç”¨\\big, \\Big, \\bigg, \\Biggç­‰ä¸€ç³»åˆ—å‘½ä»¤(ä»å°åˆ°å¤§ï¼Œé»˜è®¤æ˜¯æœ€å°)æ”¾åœ¨ä¸Šè¿°æ‹¬å·å‰é¢è°ƒæ•´å¤§å°ã€‚ 12$\\Bigg( \\bigg( \\Big( \\big((x) \\big) \\Big) \\bigg) \\Bigg)$$\\Bigg\\&#123; \\bigg\\&#123; \\Big\\&#123; \\big\\&#123;\\&#123;x\\&#125; \\big\\&#125; \\Big\\&#125; \\bigg\\&#125; \\Bigg\\&#125;$ %20%5Cbig)%20%5CBig)%20%5Cbigg)%20%5CBigg)%5Cquad%20%5CBigg%5C%7B%20%5Cbigg%5C%7B%20%5CBig%5C%7B%20%5Cbig%5C%7B%5C%7Bx%5C%7D%20%5Cbig%5C%7D%20%5CBig%5C%7D%20%5Cbigg%5C%7D%20%5CBigg%5C%7D) è‡ªåŠ¨æ¨¡å¼ä¸‹è¦ç”¨ \\left å’Œ \\right å‘½ä»¤åé¢è·Ÿä¸Šæ‰€éœ€åˆ†éš”ç¬¦ï¼Œç”¨æ¥åˆ›å»ºè‡ªåŠ¨åŒ¹é…é«˜åº¦çš„ (åœ†æ‹¬å·)ï¼Œ[æ–¹æ‹¬å·] å’Œ {èŠ±æ‹¬å·} ç­‰åˆ†éš”ç¬¦ 1$$ f(x,y,z) = 3y^2z \\left( 3+\\frac&#123;7x+5&#125;&#123;1+y^2&#125; \\right) $$ %20%3D%203y%5E2z%20%5Cleft(%203%2B%5Cfrac%7B7x%2B5%7D%7B1%2By%5E2%7D%20%5Cright)) 123456789101112131415$$f\\left( \\left[ \\frac&#123; 1+\\left\\&#123;x,y\\right\\&#125; &#125;&#123; \\left( \\frac&#123;x&#125;&#123;y&#125;+\\frac&#123;y&#125;&#123;x&#125; \\right) \\left(u+1\\right) &#125;+a \\right]^&#123;3/2&#125;\\right)\\tag&#123;1.2&#125;$$ %20%5Cleft(u%2B1%5Cright)%20%7D%2Ba%20%5Cright%5D%5E%7B3%2F2%7D%20%5Cright)%20%5Ctag%7B%E8%A1%8C%E6%A0%87%7D) å¦‚æœä½ éœ€è¦åœ¨ä¸åŒçš„è¡Œæ˜¾ç¤ºå¯¹åº”æ‹¬å·ï¼Œå¯ä»¥åœ¨æ¯ä¸€è¡Œå¯¹åº”å¤„ä½¿ç”¨ \\left. æˆ– \\right. æ¥æ”¾ä¸€ä¸ªâ€å½±å­â€æ‹¬å·ï¼š 123456$$\\begin&#123;aligned&#125;a=&amp;\\left(1+2+3+ \\cdots \\right. \\\\&amp; \\cdots+ \\left. \\infty-2+\\infty-1+\\infty\\right)\\end&#123;aligned&#125;$$ %20%5Cend%7Baligned%7D) è€Œå¦‚æœåˆ†éš”ç¬¦ä¸åœ¨å·¦å³è€Œåœ¨ä¸­é—´ï¼Œä¸ºäº†èƒ½å¤Ÿæ ¼å¼å¯¹é½ï¼Œè¦ç”¨\\middleåŠ åˆ†éš”ç¬¦è¡¨ç¤º 1$P=\\left(A=2\\middle|\\frac&#123;A^2&#125;&#123;B&#125;&gt;4\\right)$ ) é¢œè‰²è®¾ç½® åŸæ–‡ç…§æ’ LATEX æä¾›äº† \\verb å‘½ä»¤(ä¸€èˆ¬ç”¨äºåœ¨æ­£æ–‡ä¸­æ’å…¥è¾ƒçŸ­çš„å‘½ä»¤)æ¥å®ç° 1$\\verb|x^2|\\quad x^2$ åˆ é™¤çº¿ åœ¨å…¬å¼å†…ä½¿ç”¨ \\require{cancel} æ¥å…è®¸ ç‰‡æ®µåˆ é™¤çº¿ çš„æ˜¾ç¤ºã€‚ å£°æ˜ç‰‡æ®µåˆ é™¤çº¿åï¼Œä½¿ç”¨ \\cancel{å­—ç¬¦}ã€\\bcancel{å­—ç¬¦}ã€\\xcancel{å­—ç¬¦} å’Œ \\cancelto{å­—ç¬¦} æ¥å®ç°å„ç§ç‰‡æ®µåˆ é™¤çº¿æ•ˆæœã€‚ 12345678\\require&#123;cancel&#125;\\begin&#123;array&#125;&#123;rl&#125;\\verb|y+\\cancel&#123;x&#125;| &amp; y+\\cancel&#123;x&#125;\\\\\\verb|\\cancel&#123;y+x&#125;| &amp; \\cancel&#123;y+x&#125;\\\\\\verb|y+\\bcancel&#123;x&#125;| &amp; y+\\bcancel&#123;x&#125;\\\\\\verb|y+\\xcancel&#123;x&#125;| &amp; y+\\xcancel&#123;x&#125;\\\\\\verb|y+\\cancelto&#123;0&#125;&#123;x&#125;| &amp; y+\\cancelto&#123;0&#125;&#123;x&#125;\\\\\\verb+\\frac&#123;1\\cancel9&#125;&#123;\\cancel95&#125; = \\frac15+&amp; \\frac&#123;1\\cancel9&#125;&#123;\\cancel95&#125; = \\frac15 \\\\\\end&#123;array&#125; æ•°å­¦å…¬å¼é«˜çº§è§„åˆ™ å…¬å¼ç¯å¢ƒä¸å¯¹é½ åœ¨ä¸‹æ–‡çš„å…¬å¼ç¯å¢ƒä¸­ï¼Œå½¢å¦‚ equationä¸­ï¼Œ å¸¦å·çš„ä¸å°†å…¬å¼æ ‡å·æ’å‡ºæ¥, è€Œä¸å¸¦*çš„è‡ªåŠ¨ç»™æ¯è¡Œå¼å­ç¼–æ’æ ‡å· latexçš„å…¬å¼ç¯å¢ƒæœ‰å¾ˆå¤šç§ï¼Œè¿™é‡Œåªåˆ—ä¸¾æˆ‘å¸¸ç”¨çš„ï¼Œæ›´å¤šè¯·æŸ¥é˜…latexå®˜æ–¹è¯´æ˜ å•è¡Œå…¬å¼ç¯å¢ƒ equation \\begin{equation} â€¦ \\end{equation} æ˜¯æœ€ä¸€èˆ¬çš„å…¬å¼ç¯å¢ƒï¼Œè¡¨ç¤ºä¸€ä¸ªå…¬å¼ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¹‹è¡¨ç¤ºä¸€ä¸ªå•è¡Œçš„å…¬å¼ï¼Œä½†æ˜¯å®ƒçš„åŠŸèƒ½å¯ä»¥é€šè¿‡å†…åµŒå„ç§å…¶ä»–ç¯å¢ƒè¿›è¡Œæ‰©å±•ï¼Œä¸å¯ä»¥ä½¿ç”¨\\ä¸&amp;åŠŸèƒ½ã€‚å®ƒå¯ä»¥å†…åµŒçš„ä¸€äº›å…³äºå¯¹é½çš„ç¯å¢ƒå°†åœ¨åé¢ä»‹ç»ã€‚ 123$\\begin&#123;equation&#125;f(x)=3x^&#123;2&#125;+6(x-2)-1\\end&#123;equation&#125;$ %3D3x%5E%7B2%7D%2B6(x-2)-1%20%5Cend%7Bequation%7D) alignï¼ˆå¤šä¸ªå…¬å¼ï¼‰ è¿™æ˜¯æœ€åŸºæœ¬çš„å¯¹é½ç¯å¢ƒï¼Œå…¶ä»–å¤šå…¬å¼ç¯å¢ƒéƒ½ä¸åŒç¨‹åº¦åœ°ä¾èµ–å®ƒã€‚å®ƒé‡‡ç”¨â€œ&amp;â€åˆ†å‰²å„ä¸ªå¯¹é½å•å…ƒï¼Œä½¿ç”¨â€œ\\â€æ¢è¡Œã€‚å®ƒçš„æ¯è¡Œæ˜¯ä¸€ä¸ªå…¬å¼ï¼Œéƒ½ä¼šç‹¬ç«‹ç¼–å·ã€‚åœ¨æ’ç‰ˆè¿‡ç¨‹ä¸­ï¼Œå®ƒå°†&amp;åˆ†å‡ºæ¥çš„åˆ—åˆåˆ†æˆç»„ï¼Œç»„é—´ç‰¹å®šæ–¹å¼æ’ç‰ˆï¼Œå…·ä½“æ–¹å¼åœ¨flalignç¯å¢ƒä¸­è®¨è®ºã€‚ é€šå¸¸æƒ…å†µä¸‹åœ¨å…¬å¼ä¸­å¯ä»¥é€šè¿‡\\tagè®¾ç½®æ ‡å·ï¼Œ\\labelè®¾ç½®å¼•ç”¨åç§°ï¼Œä½†å¥½åƒç®€ä¹¦çš„markdownä¸æ”¯æŒ\\labelï¼Œæ‰€ä»¥ç¼–å·çš„æ„ä¹‰å°±æ— æ‰€è°“äº†ã€‚ 1234$\\begin&#123;align&#125; f(x) &amp;= (x+a)(x+b) \\\\ &amp;= x^2 + (a+b)x + ab \\tag&#123;1.1&#125;\\end&#123;align&#125;$ %20%26%3D%20(x%2Ba)(x%2Bb)%20%5C%5C%20%26%3D%20x%5E2%20%2B%20(a%2Bb)x%20%2B%20ab%20%5Ctag%7B1.1%7D%20%5Cend%7Balign%7D) 1234$\\begin&#123;align&#125;A_&#123;1&#125;&amp;=B_&#123;1&#125;B_&#123;2&#125; &amp; A_&#123;3&#125; &amp; = B_&#123;1&#125;\\\\A_&#123;2&#125;&amp;=B_&#123;3&#125;&amp; A_&#123;3&#125;A_&#123;4&#125; &amp; = B_&#123;4&#125;\\end&#123;align&#125;$ å…¬å¼ç»„ç¯å¢ƒflalignä¸alignçš„åŠŸèƒ½åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€åŒºåˆ«æ˜¯åˆ—å¯¹ä¹‹é—´çš„è·ç¦»ä¸ºå¼¹æ€§å®½åº¦ï¼Œä»¥ä½¿å…¬å¼ç»„ä¸¤ç«¯å¯¹é½ã€‚ç„¶è€Œç®€ä¹¦ä¸æ”¯æŒã€‚ã€‚ã€‚ gatherç¯å¢ƒ å®ƒæ˜¯æœ€ç®€å•çš„å¤šè¡Œå…¬å¼ç¯å¢ƒï¼Œè‡ªå·±ä¸æä¾›ä»»ä½•å¯¹é½ã€‚å…¶ä¸­çš„å„è¡Œå…¬å¼æŒ‰ç…§å…¨å±€æ–¹å¼åˆ†åˆ«å¯¹é½ã€‚ åœ¨è®¾ç½®äº†å…¨å±€å·¦å¯¹é½ä¹‹åï¼Œå› ä¸ºä¸å­˜åœ¨å†…éƒ¨å„ä¸ªå…¬å¼ä¹‹é—´å¯¹æ’ç‰ˆçš„å¹²æ‰°ï¼Œè¿™ç§ç¯å¢ƒéå¸¸é€‚åˆå†™æ•°å­¦æ¨å¯¼æˆ–è€…è¯æ˜ã€‚è€Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯å±…ä¸­å¯¹é½ã€‚ 123456\\begin&#123;gather*&#125;E(X)=\\lambda \\qquad D(X)=\\lambda \\\\E(\\bar&#123;X&#125;)=\\lambda \\\\D(\\bar&#123;X&#125;)=\\frac&#123;\\lambda&#125;&#123;n&#125; \\\\E(S^2)=\\frac&#123;n-1&#125;&#123;n&#125;\\lambda \\\\\\end&#123;gather*&#125; %3D%5Clambda%20%5Cqquad%20D(X)%3D%5Clambda%20%5C%5C%20%5Ctherefore%20E(%5Cbar%7BX%7D)%3D%5Clambda%20%5C%5C%20D(%5Cbar%7BX%7D)%3D%5Cfrac%7B%5Clambda%7D%7Bn%7D%20%5C%5C%20E(S%5E2)%3D%5Cfrac%7Bn-1%7D%7Bn%7D%5Clambda%20%5C%5C%20%5Cend%7Bgather%7D) ä¸ä¸Šæ–‡ä¸­å…¬å¼ç»„ç±»ä¼¼çš„ï¼Œé•¿å…¬å¼ä¹Ÿæœ‰ä¸¤ç§multlineå’Œsplitä¸¤ç§ç¯å¢ƒï¼Œåˆ†åˆ«å¯¹åº”ä¸å¯¹é½ä¸å¯¹é½ã€‚ multlineä¸æ”¯æŒâ€œ&amp;â€åˆ†åˆ—ã€‚å…¶é¦–è¡Œå·¦å¯¹é½ï¼Œæœ«è¡Œå³å¯¹é½ï¼Œå…¶ä½™å„è¡Œåˆ†åˆ«æŒ‰ç…§å…¨å±€æ–¹å¼å¯¹é½ã€‚ splitä¹Ÿç”¨äºæ’ç‰ˆå¤šè¡Œå…¬å¼ï¼Œä½†å®ƒä¸å¤šè¡Œå…¬å¼ç¯å¢ƒmultlineçš„åŒºåˆ«ä¸»è¦æ˜¯ä»¥ä¸‹ä¸‰ç‚¹ï¼š ç”¨&amp;ä½œä¸ºåˆ†åˆ—ç¬¦ï¼Œä½†è‡³å¤šä¸¤åˆ—ï¼›å·¦åˆ—å³å¯¹é½ï¼Œå³åˆ—å·¦å¯¹é½ï¼Œå½¢æˆä¸€ä¸ªåˆ—å¯¹ï¼Œå¯ä½¿å¤šè¡Œå…¬å¼å…³äºæŸä¸ªç¬¦å·å‚ç›´å¯¹é½ã€‚å› æ­¤ç”¨å®ƒæ’ç‰ˆçš„å¤šè¡Œå…¬å¼æ›´ä¸ºæ•´é½ç¾è§‚ã€‚å¦‚æœä¸ç”¨åˆ†åˆ—ç¬¦&amp;,æ‰€æœ‰å…¬å¼è¡Œä¸ºä¸€åˆ—ï¼Œä¸”å…¨éƒ½ä¸é¦–è¡Œå…¬å¼çš„å³ç«¯å¯¹é½ã€‚ å¿…é¡»ç½®äºé™¤multlineç¯å¢ƒä¹‹å¤–çš„å…¶å®ƒå…¬å¼ç¯å¢ƒä¸­ã€‚ è‡ªèº«å¹¶ä¸ç”Ÿæˆå…¬å¼åºå·ï¼Œè€Œæ˜¯ç”±å¤–åœ¨å…¬å¼ç¯å¢ƒæä¾›ï¼Œåºå·å‚ç›´å±…ä¸­ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š 1234$$\\begin&#123;multline&#125;x=a+b+c+&#123;&#125; \\\\d+e+f+g\\end&#123;multline&#125;$$ 1234$$\\begin&#123;split&#125;x=&amp;a+b+c+&#123;&#125; \\\\&amp;d+e+f+g\\end&#123;split&#125;$$ /gatheredï¼Œ/alignedã€‚ä»¥ä¸Šå‡ ç§æ–¹ç¨‹ç»„ç¯å¢ƒï¼Œæ— è®ºæ¯ä¸ªå…¬å¼å¤šå°ï¼Œéƒ½ä¼šå æ»¡ä¸€è¡Œã€‚è€Œ/gatheredï¼Œ/alignedç¯å¢ƒï¼Œåˆ™åªå æ®å…¬å¼çš„å®é™…å®½åº¦ï¼Œæ•´ä½“ä½œä¸ºä¸€ä¸ªç‰¹å¤§çš„ç¬¦å·ä¸å…¶ä»–ç¬¦å·ä¸€åŒå¤„ç†ã€‚ è¿™ä¸ªç»“æ„è¿˜å¯ä»¥æ·»åŠ ä½ç½®å‚æ•°ï¼Œä»¥å†³å®šä¸å…¶ä»–ç¬¦å·çš„ç«–ç›´å¯¹é½æ–¹å¼(b,t)ã€‚è€Œä¸”è¿™ç§ç¯å¢ƒä¸å†å…·æœ‰è‡ªåŠ¨ç¼–å·åŠŸèƒ½ã€‚ 123456789$\\begin&#123;equation&#125; \\left.\\begin&#123;aligned&#125; B&#x27;&amp;=-\\partial \\times E,\\\\ E&#x27;&amp;=\\partial \\times B - 4\\pi j, \\end&#123;aligned&#125; \\right\\&#125; \\qquad \\text&#123;Maxwell&#x27;s equations&#125;\\end&#123;equation&#125;$ 12345678$\\begin&#123;equation&#125;\\left.\\begin&#123;aligned&#125;x+y &amp;&gt; 5 \\\\y-y &amp;&gt; 11\\end&#123;aligned&#125;\\ \\right\\&#125;\\Rightarrow x^2 - y^2 &gt; 55\\end&#123;equation&#125;$ casesç¯å¢ƒå¸¸ç”¨äºåˆ†æ®µå‡½æ•°ï¼Œä¸Šé¢çš„ç¯å¢ƒè™½ç„¶æ”¯æŒåˆ†æ®µå‡½æ•°å½¢å¼çš„è¡¨è¾¾ï¼Œä½†æ¯”è¾ƒç¹ç 1234567$$L(Y,f(X))=\\begin&#123;cases&#125;1,\\quad &amp;Y\\neq f(X)\\\\0,\\quad &amp;Y=f(X)\\end&#123;cases&#125;$$ )%3D%20%5Cbegin%7Bcases%7D%201%2C%5Cquad%20%26Y%5Cneq%20f(X)%5C%5C%200%2C%5Cquad%20%26Y%3Df(X)%20%5Cend%7Bcases%7D) é˜µåˆ—ç¯å¢ƒ arrayå¯ä»¥å¸®åŠ©æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªæ•°ç»„æˆ–è¡¨æ ¼ é€šå¸¸ï¼Œä¸€ä¸ªæ ¼å¼åŒ–åçš„è¡¨æ ¼æ¯”å•çº¯çš„æ–‡å­—æˆ–æ’ç‰ˆåçš„æ–‡å­—æ›´å…·æœ‰å¯è¯»æ€§ã€‚æ•°ç»„å’Œè¡¨æ ¼å‡ä»¥ begin{array} å¼€å¤´ï¼Œå¹¶åœ¨å…¶åå®šä¹‰åˆ—æ•°åŠæ¯ä¸€åˆ—çš„æ–‡æœ¬å¯¹é½å±æ€§ï¼Œå­—æ¯c l r åˆ†åˆ«ä»£è¡¨å±…ä¸­ã€å·¦å¯¹é½åŠå³å¯¹é½ã€‚è‹¥éœ€è¦æ’å…¥å‚ç›´åˆ†å‰²çº¿ï¼Œåœ¨å®šä¹‰å¼ä¸­æ’å…¥ | ï¼Œè‹¥è¦æ’å…¥æ°´å¹³åˆ†å‰²çº¿ï¼Œåœ¨ä¸‹ä¸€è¡Œè¾“å…¥å‰æ’å…¥ \\hline ã€‚ä¸çŸ©é˜µç›¸ä¼¼ï¼Œæ¯è¡Œå…ƒç´ é—´å‡é¡»è¦æ’å…¥ &amp; ï¼Œæ¯è¡Œå…ƒç´ ä»¥ \\ ç»“å°¾ï¼Œæœ€åä»¥ end{array} ç»“æŸæ•°ç»„ã€‚ä¸‹é¢æ˜¯å‡ ä¸ªç¤ºä¾‹ï¼š 123456789$\\begin&#123;array&#125;&#123;c|l|c|r&#125;n &amp; \\text&#123;å·¦å¯¹é½&#125; &amp; \\text&#123;å±…ä¸­å¯¹é½&#125; &amp; \\text&#123;å³å¯¹é½&#125; \\\\\\hline1 &amp; 0.24 &amp; 1 &amp; 125 \\\\\\hline2 &amp; -1 &amp; 189 &amp; -8 \\\\\\hline3 &amp; -20 &amp; 2000 &amp; 1+10i\\end&#123;array&#125;$ 12345$\\left(\\begin&#123;array&#125;&#123;ccc|c&#125; a11 &amp; a12 &amp; a13 &amp; b1 \\\\a21 &amp; a22 &amp; a23 &amp; b2 \\\\ a31 &amp; a32 &amp; a33 &amp; b3 \\\\ \\end&#123;array&#125;\\right)$ ) 123456789$$\\left\\&#123; \\begin&#123;array&#125;&#123;c&#125;a_1x+b_1y+c_1z=d_1 \\\\ a_2x+b_2y+c_2z=d_2 \\\\ a_3x+b_3y+c_3z=d_3\\end&#123;array&#125;\\right. $$ çŸ©é˜µ ç¬¬ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨matrixã€pmatrixã€bmatrixã€Bmatrixã€vmatrixæˆ–è€…Vmatrixï¼Œsmallmatrix ä¸€ä¸ªæœ€åŸºæœ¬çš„çŸ©é˜µ 1234$ \\begin&#123;matrix&#125;0 &amp; 1 \\\\1 &amp; 0 \\end&#123;matrix&#125; $ å¯ä»¥çœ‹åˆ°çŸ©é˜µä¸­ç”¨ &amp; åˆ†éš”åˆ—ï¼Œç”¨ \\ åˆ†éš”è¡Œï¼Œåœ¨çŸ©é˜µå¼€å§‹å’Œç»“æŸéƒ¨åˆ†\\beginå’Œ\\end+çŸ©é˜µç±»å‹ ä¸‹é¢ç»™å‡ºè¿™å‡ ç§çŸ©é˜µç±»å‹çš„å›¾ç¤º çŸ©é˜µç±»å‹ çŸ©é˜µå›¾ç¤º matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix smallmatrix ) åœ¨æ­¤ä¹‹ä¸Šï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å¯¹çŸ©é˜µèµ·å§‹å’Œç»“æŸéƒ¨åˆ†çš„æ‹¬å·è¿›è¡Œå˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨è¯¸å¦‚ 12345678$\\left\\&#123;\\begin&#123;matrix&#125; x_1&amp; x_2\\\\ y_1&amp; y_2\\end&#123;matrix&#125;\\right.$ (æ­¤å¤„.ä½œä¸ºå ä½ç¬¦è¡¨ç¤ºä¸éœ€è¦åˆ†éš”ç¬¦)$\\left.\\begin&#123;matrix&#125;x_1 &amp; x_2\\\\ y_1&amp; y_2\\end&#123;matrix&#125;\\right\\&#125;$ ç¬¬äºŒç§æ–¹å¼å°±æ˜¯ä½¿ç”¨arrayç¯å¢ƒï¼Œåœ¨å·¦å³ç«¯åŠ ä¸Šæ‰€éœ€æ‹¬å·å³å¯ è¾“å…¥å¸¦çœç•¥ç¬¦å·çš„çŸ©é˜µ 12345678$$ \\begin&#123;pmatrix&#125; 1 &amp; a_1 &amp; a_1^2 &amp; \\cdots &amp; a_1^n \\\\ 1 &amp; a_2 &amp; a_2^2 &amp; \\cdots &amp; a_2^n \\\\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ 1 &amp; a_m &amp; a_m^2 &amp; \\cdots &amp; a_m^n \\\\ \\end&#123;pmatrix&#125;$$ äº¤æ¢å›¾è¡¨ ä½¿ç”¨ä¸€è¡Œ \\require{AMScd} è¯­å¥æ¥å…è®¸äº¤æ¢å›¾è¡¨çš„æ˜¾ç¤ºã€‚ å£°æ˜äº¤æ¢å›¾è¡¨åï¼Œè¯­æ³•ä¸çŸ©é˜µç›¸ä¼¼ï¼Œåœ¨å¼€å¤´ä½¿ç”¨ begin{CD}ï¼Œåœ¨ç»“å°¾ä½¿ç”¨ end{CD}ï¼Œåœ¨ä¸­é—´æ’å…¥å›¾è¡¨å…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ ä¹‹é—´æ’å…¥ &amp; ï¼Œå¹¶åœ¨æ¯è¡Œç»“å°¾å¤„ä½¿ç”¨ \\ ã€‚ 123456$\\require&#123;AMScd&#125;\\begin&#123;CD&#125; A @&gt;a&gt;&gt; B\\\\ @V b V V\\# @VV c V\\\\ C @&gt;&gt;d&gt; D\\end&#123;CD&#125;$ å…¶ä¸­ï¼Œ@&gt;&gt;&gt; ä»£è¡¨å³ç®­å¤´ã€@&lt;&lt;&lt; ä»£è¡¨å·¦ç®­å¤´ã€@VVV ä»£è¡¨ä¸‹ç®­å¤´ã€@AAA ä»£è¡¨ä¸Šç®­å¤´ã€@= ä»£è¡¨æ°´å¹³åŒå®çº¿ã€@| ä»£è¡¨ç«–ç›´åŒå®çº¿ã€@.ä»£è¡¨æ²¡æœ‰ç®­å¤´ã€‚ åœ¨ @&gt;&gt;&gt; çš„ &gt;&gt;&gt; ä¹‹é—´ä»»æ„æ’å…¥æ–‡å­—å³ä»£è¡¨è¯¥ç®­å¤´çš„æ³¨é‡Šæ–‡å­—ã€‚ 12345$\\begin&#123;CD&#125; A @&gt;&gt;&gt; B @&gt;&#123;\\text&#123;very long label&#125;&#125;&gt;&gt; C \\\\ @. @AAA @| \\\\ D @= E @&lt;&lt;&lt; F\\end&#123;CD&#125;$ ä»¥ä¸Šå†…å®¹å¤§è‡´ä¸Šåº”è¯¥èƒ½æŠŠç»å¤§å¤šæ•°æ•°å­¦å…¬å¼ä¼˜ç¾çš„ä¹¦å†™ä¸‹æ¥äº†ï¼Œæ›´å¤šå†…å®¹è¿˜éœ€è¦è‡ªè¡ŒæŸ¥é˜…å®˜æ–¹è¯´æ˜~~","categories":[{"name":"æ•°å­¦","slug":"æ•°å­¦","permalink":"http://yoursite.com/categories/%E6%95%B0%E5%AD%A6/"}],"tags":[{"name":"LaTex","slug":"LaTex","permalink":"http://yoursite.com/tags/LaTex/"}]},{"title":"ç›®æ ‡æ£€æµ‹ä¹‹YOLOç†è§£ä¸æ€»ç»“","slug":"ç›®æ ‡æ£€æµ‹ä¹‹YOLOç†è§£ä¸æ€»ç»“","date":"2020-11-25T05:31:04.000Z","updated":"2022-06-06T03:22:14.526Z","comments":true,"path":"2020/11/25/ç›®æ ‡æ£€æµ‹ä¹‹YOLOç†è§£ä¸æ€»ç»“/","link":"","permalink":"http://yoursite.com/2020/11/25/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E4%B9%8BYOLO%E7%90%86%E8%A7%A3%E4%B8%8E%E6%80%BB%E7%BB%93/","excerpt":"","text":"1.èƒŒæ™¯ æˆ‘ä»¬çŸ¥é“ï¼Œç›®æ ‡æ£€æµ‹é€šå¸¸åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š ï¼ˆ1ï¼‰ç”Ÿæˆbounding boxï¼ˆè¾¹ç•Œæ¡†ï¼‰ï¼ˆ2ï¼‰å¯¹ç‰©ä½“åˆ†ç±»ã€‚å› æ­¤ç›®æ ‡æ£€æµ‹ç®—æ³•ä¹Ÿå› æ­¤åˆ†ä¸ºone-stageä¸two-stageä¸¤ä¸ªç®—æ³•ç³»åˆ—ã€‚ é¡¾åæ€ä¹‰ï¼Œtwo-stageç®—æ³•å°±æ˜¯æŠŠä¸¤ä¸ªæ­¥éª¤åˆ†åˆ«è¿›è¡Œï¼Œæ¯”å¦‚R-CNNæ–¹æ³•ä½¿ç”¨region proposalæ¥ç”Ÿæˆæ•´å¼ å›¾åƒä¸­å¯èƒ½åŒ…å«å¾…æ£€æµ‹ç‰©ä½“çš„potential bounding boxesï¼Œç„¶åç”¨åˆ†ç±»å™¨æ¥è¯„ä¼°è¿™äº›boxesï¼Œæ¥ç€é€šè¿‡post-processingæ¥æ”¹å–„bounding boxesï¼Œæ¶ˆé™¤é‡å¤çš„æ£€æµ‹ç›®æ ‡ï¼Œå¹¶åŸºäºæ•´ä¸ªåœºæ™¯ä¸­çš„å…¶ä»–ç‰©ä½“é‡æ–°å¯¹boxesè¿›è¡Œæ‰“åˆ†ã€‚æ•´ä¸ªæµç¨‹æ‰§è¡Œä¸‹æ¥å¾ˆæ…¢ï¼Œè€Œä¸”å› ä¸ºè¿™äº›ç¯èŠ‚éƒ½æ˜¯åˆ†å¼€è®­ç»ƒçš„ï¼Œæ£€æµ‹æ€§èƒ½å¾ˆéš¾è¿›è¡Œä¼˜åŒ–ã€‚ ä½œè€…æå‡ºçš„YOLOï¼ˆyou only look onceï¼‰å°±æ˜¯one-stageç®—æ³•ç³»åˆ—çš„ä»£è¡¨ã€‚å®ƒå°†ç›®æ ‡æ£€æµ‹ä»»åŠ¡å½“åšå›å½’é—®é¢˜ï¼ˆregression problemï¼‰æ¥å¤„ç†ï¼Œç›´æ¥é€šè¿‡æ•´å¼ å›¾ç‰‡çš„æ‰€æœ‰åƒç´ å¾—åˆ° çš„åæ ‡ã€boxä¸­åŒ…å«ç‰©ä½“çš„ç½®ä¿¡åº¦å’Œclass probabilitiesã€‚é¡¾åæ€ä¹‰ï¼Œé€šè¿‡YOLOï¼Œæ¯å¼ å›¾åƒåªéœ€è¦çœ‹ä¸€çœ¼å°±èƒ½å¾—å‡ºå›¾åƒä¸­éƒ½æœ‰å“ªäº›ç‰©ä½“å’Œè¿™äº›ç‰©ä½“çš„ä½ç½®ã€‚ 2.å†…å®¹ä»‹ç»æœ¬ç¯‡åšå®¢è®°å½•æˆ‘å¯¹YOLOçš„å­¦ä¹ ï¼Œæˆ‘ä¼šåˆ†åˆ«å¯¹YOLOV1ï¼ŒYOLOV2ï¼ŒYOLOV3çš„å†…å®¹è¿›è¡Œæ€»ç»“ï¼Œå¹¶è¿›è¡Œæ¯”è¾ƒã€‚ 3.YOLO V13.1 æµç¨‹ å°†ä¸€å¹…å›¾åƒåˆ†æˆSÃ—Sä¸ªç½‘æ ¼ï¼ˆgrid cellï¼‰ï¼Œå¦‚æœæŸä¸ªobjectçš„ä¸­å¿ƒè½åœ¨è¿™ä¸ªç½‘æ ¼ä¸­ï¼Œåˆ™è¿™ä¸ªç½‘æ ¼å°±è´Ÿè´£é¢„æµ‹è¿™ä¸ªobject æ¯ä¸ªç½‘æ ¼è¦é¢„æµ‹Bä¸ªbounding boxï¼Œæ¯ä¸ªbounding boxé™¤äº†è¦é¢„æµ‹ä½ç½®ä¹‹å¤–ï¼Œè¿˜è¦é™„å¸¦é¢„æµ‹ä¸€ä¸ªconfidence(ç½®ä¿¡åº¦)ã€‚æ¯ä¸ªç½‘æ ¼è¿˜è¦é¢„æµ‹Cä¸ªç±»åˆ«çš„åˆ†æ•° æ¯”å¦‚å°†ä¸Šå›¾åˆ†ä¸ºäº†7Ã—7ä¸ªç½‘æ ¼ï¼Œè¦è¯†åˆ«çš„ç›®æ ‡ç‹—çš„ä¸­å¿ƒç‚¹è½åœ¨ç¬¬5è¡Œï¼Œç¬¬2åˆ—çš„ç½‘æ ¼ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªç½‘æ ¼ç‚¹å°±è´Ÿè´£é¢„æµ‹ç‹—è¿™ä¸ªobject For evaluating YOLO on PASACL VOC, we use S = 7, B = 2, PASCAL VOC has 20 labelled classes so C = 20. Our final prediction is a 7 Ã— 7 Ã— 30 tensor ä»¥ä¸Šä¸ºæ‘˜è‡ªåŸè®ºæ–‡ï¼Œåœ¨PASCAL VOCæ•°æ®é›†ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡YOLOï¼Œæœ€ç»ˆè·å¾—äº†7 Ã— 7 Ã— 30çš„ç‰¹å¾çŸ©é˜µï¼Œç”±ä¸Šå›¾å¯çŸ¥ï¼Œæ²¿ç€æ·±åº¦æ–¹å‘æˆ‘ä»¬å‘ç°æœ‰30ä¸ªæ•°å€¼ï¼Œå› ä¸ºB = 2ï¼Œæ‰€ä»¥æœ‰2ä¸ªbounding boxï¼Œæ¯ä¸ªbounding boxæœ‰4+1ä¸ªæ•°å€¼ï¼Œåˆ†åˆ«ä¸ºç›®æ ‡çš„åæ ‡ä¿¡æ¯(ä¸­å¿ƒç‚¹ä½ç½®å’Œå®½é«˜)ä¸confidenceï¼Œæœ€å20ä¸ªä¸ºPASCAL VOC 20ä¸ªç±»åˆ«çš„åˆ†æ•°ã€‚æ‰€ä»¥æ€»å…±æ˜¯30 3.2 ç½‘ç»œç»“æ„YOLOå°†å›¾åƒresizeåˆ°448Ã—448ä½œä¸ºç¥ç»ç½‘ç»œçš„è¾“å…¥ ã€‚ YOLOæ£€æµ‹ç½‘ç»œåŒ…æ‹¬24ä¸ªå·ç§¯å±‚å’Œ2ä¸ªå…¨è¿æ¥å±‚ï¼ŒYOLOç½‘ç»œå€Ÿé‰´äº†GoogLeNetåˆ†ç±»ç½‘ç»œç»“æ„ã€‚ä¸åŒçš„æ˜¯ï¼ŒYOLOæœªä½¿ç”¨inception moduleï¼Œè€Œæ˜¯ä½¿ç”¨1x1å·ç§¯å±‚ï¼ˆæ­¤å¤„1x1å·ç§¯å±‚çš„å­˜åœ¨æ˜¯ä¸ºäº†è·¨é€šé“ä¿¡æ¯æ•´åˆï¼‰+3x3å·ç§¯å±‚ç®€å•æ›¿ä»£ã€‚ã€ 3.3 æŸå¤±å‡½æ•°YOLO V1çš„æŸå¤±å‡½æ•°åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ† è®¡ç®—æŸå¤±è¿‡ç¨‹ä¸­ï¼Œç”¨çš„éƒ½æ˜¯è¯¯å·®å¹³æ–¹å’Œï¼Œä½†æ˜¯å¯¹å®½é«˜å¤„ç†ï¼Œæ˜¯å…ˆå¯¹å…¶å¼€æ ¹å·å¤„ç†ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆåšå‘¢ï¼Œçœ‹åˆ°ä¸€ä¸ªå¾ˆæ£’çš„è§£é‡Šã€‚ ä»ä¸Šå›¾å³ä¾§æ‰€ç¤ºï¼Œå½“é¢„æµ‹è¾¹ç•Œæ¡†ç›¸å¯¹äºçœŸå®è¾¹ç•Œæ¡†ä¾¿å®œç›¸åŒçš„é«˜åº¦å’Œå®½åº¦æ—¶ï¼Œå°ç›®æ ‡æ”¹å˜çš„IoUä¸å¤§ç›®æ ‡ä¸åŒã€‚ç”»å‡ºy - xå’Œ$ \\sqrt{y} $ - $ \\sqrt{x} $å›¾ï¼Œå¦‚å·¦ä¾§æ‰€ç¤ºï¼Œæˆ‘ä»¬ä¼šå‘ç°,yä¸xçš„å·®å€¼ä¸€æ ·æ—¶,å°ç›®æ ‡åœ¨çºµåæ ‡ä¸Šçš„å·®å€¼å¤§äºå¤§ç›®æ ‡ 3.4 YOLO V1çš„ä¸è¶³ä¹‹å¤„ YOLO V1å¯¹å°ç›®æ ‡çš„é¢„æµ‹æ•ˆæœä¸ç†æƒ³,å› ä¸ºåœ¨YOLO V1çš„æ¯ä¸ªgrid cellåªé¢„æµ‹2ä¸ªbounding box,è€Œä¸”è¿™ä¸¤ä¸ªbounding boxå±äºåŒä¸ªç±»åˆ« å½“æ£€æµ‹ç›®æ ‡å‡ºç°äº†æ–°çš„å°ºå¯¸æ—¶,æ£€æµ‹æ•ˆæœä¼šå˜å·® ä¸»è¦çš„é”™è¯¯åŸå› ,éƒ½æ¥è‡ªäºå®šä½ä¸å‡†ç¡®,å› ä¸ºä¸åƒFaster RCNNå’ŒSSDä½¿ç”¨äº†anchor boxçš„å›å½’å‚æ•°æ¥è°ƒæ•´ä½ç½® 4.YOLO V24.1 å¯¹æ¯”YOLO V1ä½œè€…åœ¨YOLO v1çš„åŸºç¡€ä¸Šï¼Œå€Ÿé‰´äº†å¾ˆå¤štrickï¼Œæ¯”å¦‚Batch Normalizationã€High Resolution Classifierç­‰ï¼Œæå‡ºYOLO v2ï¼Œè®©é¢„æµ‹å˜å¾—æ›´å‡†ç¡®ï¼ˆBetterï¼‰ï¼Œæ›´å¿«é€Ÿï¼ˆFasterï¼‰ï¼Œä¸‹å›¾ä¸ºæ€§èƒ½å¯¹æ¯”ã€‚ 4.2 YOLO V2ä¸­çš„å„ç§å°è¯•1. Batch Normalizationï¼ˆæ‰¹é‡å½’ä¸€åŒ–ï¼‰ æ‰¹é‡å½’ä¸€åŒ–æœ‰åŠ©äºè§£å†³åå‘ä¼ æ’­è¿‡ç¨‹ä¸­å‡ºç°çš„æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œé™ä½å¯¹ä¸€äº›è¶…å‚æ•°çš„æ•æ„Ÿæ€§ï¼Œå¹¶ä¸”èµ·åˆ°ä¸€å®šçš„æ­£åˆ™åŒ–æ•ˆæœï¼ˆYOLO2ä¸å†ä½¿ç”¨dropoutï¼‰ï¼Œä»è€Œèƒ½å¤Ÿè·å¾—æ›´å¥½çš„æ”¶æ•›é€Ÿåº¦å’Œæ”¶æ•›æ•ˆæœï¼ŒåŠ äº†BNå±‚åmAPæé«˜äº†2% 2.High Resolution Classifierï¼ˆä½¿ç”¨é«˜åˆ†è¾¨ç‡å›¾åƒå¾®è°ƒåˆ†ç±»æ¨¡å‹ï¼‰ ç›®å‰å…ˆè¿›çš„ç›®æ ‡æ£€æµ‹æ–¹æ³•ä¸­ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šå…ˆåœ¨ImageNetä¸Šè¿›è¡Œé¢„è®­ç»ƒï¼Œè€ŒImageNetçš„è¾“å…¥é‡‡ç”¨çš„æ˜¯224Ã—224ï¼Œå¯¼è‡´åˆ†è¾¨ç‡ä¸å¤Ÿé«˜ï¼Œç»™æ£€æµ‹å¸¦æ¥å›°éš¾ã€‚YOLO v1ç½‘ç»œæŠŠåˆ†è¾¨ç‡ç›´æ¥æå‡åˆ°äº†448Ã—448ï¼Œä½†æ˜¯ç›´æ¥åˆ‡æ¢åˆ†è¾¨ç‡ï¼Œæ£€æµ‹æ¨¡å‹å¯èƒ½éš¾ä»¥å¿«é€Ÿé€‚åº”é«˜åˆ†è¾¨ç‡ï¼Œè¿™ä¹Ÿæ„å‘³ä¹‹åŸæœ‰çš„ç½‘ç»œæ¨¡å‹å¿…é¡»è¿›è¡ŒæŸç§è°ƒæ•´ä»¥é€‚åº”æ–°çš„åˆ†è¾¨ç‡è¾“å…¥ã€‚ æ‰€ä»¥YOLO v2å¢åŠ äº†åœ¨ImageNetæ•°æ®é›†ä¸Šä½¿ç”¨448Ã—448è¾“å…¥æ¥finetuneåˆ†ç±»ç½‘ç»œè¿™ä¸€ä¸­é—´è¿‡ç¨‹ï¼ˆ10 epochsï¼‰ï¼Œè¿™å¯ä»¥ä½¿å¾—æ¨¡å‹åœ¨æ£€æµ‹æ•°æ®é›†ï¼ˆeg:COCOï¼‰ä¸Šfinetuneä¹‹å‰å·²ç»é€‚åº”é«˜åˆ†è¾¨ç‡è¾“å…¥ã€‚ä½¿ç”¨é«˜åˆ†è¾¨ç‡åˆ†ç±»å™¨åï¼ŒYOLOv2çš„mAPæå‡äº†çº¦4%ã€‚ 3.Convolutional With Anchor Boxesï¼ˆä½¿ç”¨å…ˆéªŒæ¡†Anchor Boxæ›¿æ¢å…¨è¿æ¥å±‚ï¼‰åœ¨ä¹‹å‰çš„YOLO v1ä¸­ï¼Œç›´æ¥é‡‡ç”¨å…¨è¿æ¥å±‚æ¥é¢„æµ‹è¾¹ç•Œæ¡†ï¼Œæ•ˆæœä¸å¥½(ä¹‹å‰åˆ†æä¸­çš„å®šä½æ•ˆæœè¾ƒå·®)ã€‚ä½œè€…å€Ÿé‰´äº†Faster R-CNNä¸­ä½¿ç”¨RPNé¢„æµ‹åç§»é‡offsetså’Œç½®ä¿¡åº¦confidencesçš„æ€æƒ³ï¼Œé¢„æµ‹bounding boxä¸Anchoræ¡†çš„åç§»ï¼ˆoffsetï¼‰è€Œä¸æ˜¯ç›´æ¥é¢„æµ‹bounding boxçš„åæ ‡ã€‚ é¦–å…ˆä½œè€…å»é™¤äº†ä¸€ä¸ªæ± åŒ–å±‚ï¼Œæ¥ä½¿å¾—è¾“å‡ºçš„å·ç§¯ç‰¹å¾å›¾æœ‰æ›´é«˜çš„åˆ†è¾¨ç‡ã€‚ å…¶æ¬¡ä½œè€…ç¼©å‡äº†ç½‘ç»œï¼ŒæŠŠåŸæœ¬ç½‘ç»œçš„è¾“å…¥448Ã—448 ç¼©å‡æˆ416Ã—416ã€‚å› ä¸ºYOLO v2æ¨¡å‹ä¸‹é‡‡æ ·çš„æ€»æ­¥é•¿ä¸º32ï¼Œå¯¹äº416Ã—416 å¤§å°çš„å›¾ç‰‡ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç‰¹å¾å›¾å¤§å°ä¸º13Ã—13ï¼Œç»´åº¦æ˜¯å¥‡æ•°ï¼Œè¿™æ ·ç‰¹å¾å›¾æ°å¥½åªæœ‰ä¸€ä¸ªä¸­å¿ƒä½ç½®ã€‚ä½œè€…å‘ç°å¯¹äºä¸€äº›å¤§ç‰©ä½“ï¼Œå®ƒä»¬ä¸­å¿ƒç‚¹å¾€å¾€è½å…¥å›¾ç‰‡ä¸­å¿ƒä½ç½®ï¼Œæ­¤æ—¶ä½¿ç”¨ç‰¹å¾å›¾çš„ä¸€ä¸ªä¸­å¿ƒç‚¹è€Œä¸æ˜¯å››ä¸ªä¸­å¿ƒç‚¹å»é¢„æµ‹è¿™äº›ç‰©ä½“çš„è¾¹ç•Œæ¡†ç›¸å¯¹å®¹æ˜“äº›ã€‚æ‰€ä»¥åœ¨YOLOv2è®¾è®¡ä¸­è¦ä¿è¯è¾“å…¥å¯¹åº”çš„æœ€ç»ˆçš„ç‰¹å¾å›¾æœ‰å¥‡æ•°ä¸ªä½ç½® ä½¿ç”¨anchor boxesä¹‹åï¼ŒmAPä¸‹é™äº†0.3ï¼Œä½†å¬å›ç‡æé«˜äº†7%ã€‚è¿™æ˜¯å› ä¸ºYOLOv1åªèƒ½é¢„æµ‹98ä¸ªè¾¹ç•Œæ¡†(7Ã—7Ã—2)ï¼Œè€ŒYOLO v2ä½¿ç”¨anchor boxesä¹‹åå¯ä»¥é¢„æµ‹ä¸Šåƒä¸ªè¾¹ç•Œæ¡†ï¼ˆ13Ã—13Ã—num_anchorï¼‰,å¬å›ç‡çš„æå‡ä½¿å¾—æ¨¡å‹æ‹¥æœ‰è¿›ä¸€æ­¥çš„æ”¹è¿›ç©ºé—´ã€‚ 4.Dimension Clusters(ä½¿ç”¨èšç±»ç®—æ³•è·å–anchor box) ä¹‹å‰anchor boxeséƒ½æ˜¯æ‰‹å·¥è®¾å®šçš„(å¦‚Faster RCNN,ä½œè€…æ²¡æœ‰ç»™å‡ºå…·ä½“è·å–anchor boxesçš„æ–¹æ³•,åªæ˜¯æ ¹æ®ç»éªŒæ‰€å¾—)ï¼Œç½‘ç»œå¾®è°ƒanchor boxesåˆ°å®é™…ä½ç½®çš„éš¾åº¦ä¸å°ã€‚è€ŒYOLO v2çš„åšæ³•æ˜¯å¯¹è®­ç»ƒé›†ä¸­æ ‡æ³¨çš„è¾¹æ¡†è¿›è¡Œèšç±»åˆ†æï¼Œä»¥è‡ªåŠ¨æ‰¾åˆ°æ›´å¥½çš„å°ºå¯¸ã€‚ èšç±»ç®—æ³•æœ€é‡è¦çš„æ˜¯é€‰æ‹©å¦‚ä½•è®¡ç®—ä¸¤ä¸ªè¾¹æ¡†ä¹‹é—´çš„â€œè·ç¦»â€ï¼Œå¯¹äºå¸¸ç”¨çš„æ¬§å¼è·ç¦»ï¼Œå¤§è¾¹æ¡†ä¼šäº§ç”Ÿæ›´å¤§çš„è¯¯å·®ï¼Œä½†æˆ‘ä»¬å…³å¿ƒçš„æ˜¯anchor boxeså’Œground truthçš„IOUã€‚æ‰€ä»¥ï¼ŒYOLO2åœ¨èšç±»æ—¶å·§å¦™åœ°é‡‡ç”¨ä»¥ä¸‹å…¬å¼æ¥è®¡ç®—ä¸¤ä¸ªè¾¹æ¡†ä¹‹é—´çš„è·ç¦»ï¼š d(box, centroid) = 1 - IoU(box, centroid) centroidæ˜¯èšç±»æ—¶è¢«é€‰ä½œä¸­å¿ƒçš„è¾¹æ¡†ï¼Œboxå°±æ˜¯å…¶å®ƒanchor boxesã€‚IOUè¶Šå¤§ï¼Œè·ç¦»è¶Šè¿‘ã€‚YOLO2ç»™å‡ºçš„èšç±»åˆ†æç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š éšç€èšç±»ä¸­å¿ƒæ•°ç›®çš„å¢åŠ ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¹³å‡IOUå€¼æ˜¯å¢åŠ çš„ï¼Œä½†æ˜¯ç»¼åˆè€ƒè™‘æ¨¡å‹å¤æ‚åº¦å’Œå¬å›ç‡ï¼Œä½œè€…æœ€ç»ˆé€‰å–5ä¸ªèšç±»ä¸­å¿ƒä½œä¸ºå…ˆéªŒæ¡†ï¼Œå…¶ç›¸å¯¹äºå›¾ç‰‡çš„å¤§å°å¦‚å³è¾¹å›¾æ‰€ç¤ºã€‚ 5.Direct location prediction(ç›´æ¥ä½ç½®é¢„æµ‹) ä½œè€…å‘ç°ä½¿ç”¨anchor boxesçš„æ—¶å€™æ¨¡å‹ä¸ç¨³å®šï¼Œå°¤å…¶æ˜¯åœ¨æ—©æœŸè¿­ä»£çš„æ—¶å€™ã€‚è€Œå¤§éƒ¨åˆ†çš„ä¸ç¨³å®šç°è±¡å‡ºç°åœ¨é¢„æµ‹boxçš„(x, y)åæ ‡ä¸Šäº†ï¼Œè€Œä»¥å¾€è®¡ç®—çš„å…¬å¼å¦‚ä¸‹ï¼ˆå›¾ä¸­çš„ä¸¤ä¸ªå‡å·åº”æ˜¯åŠ å·ï¼Œä½œè€…å†™é”™ï¼‰ï¼š è¿™ä¸ªå…¬å¼æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œä½¿å¾—æ— è®ºåœ¨ä»€ä¹ˆä½ç½®è¿›è¡Œé¢„æµ‹ï¼Œä»»ä½•anchor boxeså¯ä»¥åœ¨å›¾åƒä¸­ä»»æ„ä¸€ç‚¹ç»“æŸï¼ˆè¿™æ˜¯å› ä¸ºåç§»é‡tx, tyæ²¡æœ‰å¤§å°é™åˆ¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‡ºç°anchoråç¦»ground truthå¾ˆè¿œçš„æƒ…å†µã€‚æ­£ç¡®åšæ³•åº”è¯¥æ˜¯æ¯ä¸€ä¸ªanchoråªè´Ÿè´£æ£€æµ‹å‘¨å›´æ­£è´Ÿä¸€ä¸ªå•ä½ä»¥å†…çš„ç›®æ ‡boxï¼‰ã€‚YOLO v2è°ƒæ•´äº†é¢„æµ‹å…¬å¼ï¼Œå°†é¢„æµ‹è¾¹æ¡†çš„ä¸­å¿ƒçº¦æŸåœ¨ç½‘æ ¼å†…: å…¶ä¸­ï¼Œbx, by, bw, bhæ˜¯é¢„æµ‹è¾¹æ¡†çš„ä¸­å¿ƒå’Œå®½é«˜ã€‚Pr(object) * IoU(b, object) = Ïƒ(to) æ˜¯é¢„æµ‹è¾¹æ¡†çš„ç½®ä¿¡åº¦ï¼ŒYOLO v1æ˜¯ç›´æ¥é¢„æµ‹ç½®ä¿¡åº¦çš„å€¼ï¼Œè¿™é‡Œå¯¹é¢„æµ‹å‚æ•°toè¿›è¡ŒÏƒå˜æ¢åä½œä¸ºç½®ä¿¡åº¦çš„å€¼ã€‚cx, cyæ˜¯å½“å‰ç½‘æ ¼å·¦ä¸Šè§’åˆ°å›¾åƒå·¦ä¸Šè§’çš„è·ç¦»ï¼Œè¦å…ˆå°†ç½‘æ ¼å¤§å°å½’ä¸€åŒ–ï¼Œå³ä»¤ä¸€ä¸ªç½‘æ ¼çš„å®½=1ï¼Œé«˜=1ã€‚$ p^w $, $ p^h $ æ˜¯å…ˆéªŒæ¡†çš„å®½å’Œé«˜ã€‚ Ïƒæ˜¯sigmoidå‡½æ•°ã€‚tx, ty, tw, th, toæ˜¯è¦å­¦ä¹ çš„å‚æ•°ï¼Œåˆ†åˆ«ç”¨äºé¢„æµ‹è¾¹æ¡†çš„ä¸­å¿ƒå’Œå®½é«˜ï¼Œä»¥åŠç½®ä¿¡åº¦ã€‚ ä½œè€…ä½¿ç”¨Dimension Clusterså’ŒDirect location predictionè¿™ä¸¤é¡¹anchor boxesæ”¹è¿›æ–¹æ³•ï¼ŒmAPè·å¾—äº†5%çš„æå‡ã€‚ 6.Fine-Grained Featuresï¼ˆç»†ç²’åº¦ç‰¹å¾ï¼‰ ä½œè€…å‘ç°YOLOä½¿ç”¨13Ã—13çš„ç‰¹å¾å›¾è¿›è¡Œé¢„æµ‹å¤§ç‰©ä½“æ‹¥æœ‰å¾ˆå¥½çš„æ•ˆæœï¼Œè€Œç›¸å¯¹æ¯”è¾ƒå°çš„ç‰©ä½“åˆ™æ•ˆæœä¸€èˆ¬ã€‚YOLO v2å¼•å…¥ä¸€ç§ç§°ä¸ºpassthroughå±‚çš„æ–¹æ³•åœ¨ç‰¹å¾å›¾ä¸­ä¿ç•™ä¸€äº›ç»†èŠ‚ä¿¡æ¯ã€‚ YOLO v2æ‰€åˆ©ç”¨çš„Fine-Grained Featuresæ˜¯26Ã—26å¤§å°çš„ç‰¹å¾å›¾ï¼ˆæœ€åä¸€ä¸ªmaxpoolingå±‚çš„è¾“å…¥ï¼‰ã€‚passthroughå±‚ä¸ResNetç½‘ç»œçš„identity mappingsç±»ä¼¼ï¼Œä»¥å‰é¢æ›´é«˜åˆ†è¾¨ç‡çš„ç‰¹å¾å›¾ä¸ºè¾“å…¥ï¼Œç„¶åå°†å…¶è¿æ¥åˆ°åé¢çš„ä½åˆ†è¾¨ç‡ç‰¹å¾å›¾ä¸Šã€‚å‰é¢çš„ç‰¹å¾å›¾ç»´åº¦æ˜¯åé¢çš„ç‰¹å¾å›¾çš„2å€ï¼Œpassthroughå±‚æŠ½å–å‰é¢å±‚çš„æ¯ä¸ª2Ã—2ï¼Œç„¶åå°†å…¶è½¬åŒ–ä¸ºchannelçš„ç»´åº¦ï¼Œå¯¹äº26Ã—26Ã—512çš„ç‰¹å¾å›¾ï¼Œç»passthroughå±‚å¤„ç†ä¹‹åå°±å˜æˆäº† 13Ã—13Ã—256çš„æ–°ç‰¹å¾å›¾ï¼ˆç‰¹å¾å›¾å¤§å°é™ä½4å€ï¼Œè€Œchannleså¢åŠ 4å€ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ä¸åé¢çš„13Ã—13Ã—256 ç‰¹å¾å›¾è¿æ¥åœ¨ä¸€èµ·å½¢æˆ13Ã—13Ã—1280å¤§å°çš„ç‰¹å¾å›¾ã€‚ 7.Multi-Scale Trainingï¼ˆå¤šå°ºå¯¸è®­ç»ƒï¼‰ å› ä¸ºYolo v2å»æ‰äº†å…¨è¿æ¥å±‚ï¼Œåªæœ‰å·ç§¯å±‚ä¸æ± åŒ–å±‚ï¼Œæ‰€ä»¥å¯¹äºç½‘ç»œçš„è¾“å…¥å¤§å°ï¼Œå¹¶æ²¡æœ‰é™åˆ¶ï¼Œæ•´ä¸ªç½‘ç»œçš„é™é‡‡æ ·å€æ•°ä¸º32ï¼Œåªè¦è¾“å…¥çš„ç‰¹å¾å›¾å°ºå¯¸ä¸º32çš„å€æ•°å³å¯ã€‚æ‰€ä»¥Yolo v2å¯ä»¥ä½¿ç”¨ä¸åŒå°ºå¯¸çš„è¾“å…¥å›¾ç‰‡è®­ç»ƒï¼Œæ¥ä½¿æ¨¡å‹é€‚åº”ä¸åŒåˆ†è¾¨ç‡çš„å›¾ç‰‡ï¼Œè®©æ¨¡å‹æ›´é²æ£’ã€‚ å…·ä½“æ¥è¯´å°±æ˜¯åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ¯é—´éš”ä¸€å®šçš„iterationsï¼ˆè®ºæ–‡ä¸­æ˜¯10ï¼‰ä¹‹åæ”¹å˜æ¨¡å‹çš„è¾“å…¥å›¾ç‰‡å¤§å°ã€‚ç”±äºYOLOv2çš„ä¸‹é‡‡æ ·æ€»æ­¥é•¿ä¸º32ï¼Œè¾“å…¥å›¾ç‰‡å¤§å°é€‰æ‹©ä¸€ç³»åˆ—ä¸º32å€æ•°çš„å€¼ï¼š{320, 352, â€¦â€¦, 608}ï¼Œè¾“å…¥å›¾ç‰‡æœ€å°ä¸º320Ã—320ï¼Œæ­¤æ—¶å¯¹åº”çš„ç‰¹å¾å›¾å¤§å°ä¸º10Ã—10ï¼ˆå’ŒConvolutional With Anchor Boxesä¸­æåˆ°è¦æ˜¯å¥‡æ•°ç›¸æ‚–ï¼Œä½†æ˜¯é—®é¢˜ä¹Ÿä¸æ˜¯å¾ˆå¤§ï¼‰ï¼Œè€Œè¾“å…¥å›¾ç‰‡æœ€å¤§ä¸º608Ã—608ï¼Œå¯¹åº”çš„ç‰¹å¾å›¾å¤§å°ä¸º19Ã—19ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ï¼Œæ¯éš”10ä¸ªiterationséšæœºé€‰æ‹©ä¸€ç§è¾“å…¥å›¾ç‰‡å¤§å°ï¼Œç„¶ååªéœ€è¦ä¿®æ”¹å¯¹æœ€åæ£€æµ‹å±‚çš„å¤„ç†å°±å¯ä»¥é‡æ–°è®­ç»ƒã€‚ åœ¨å°å°ºå¯¸å›¾ç‰‡æ£€æµ‹ä¸­ï¼ŒYOLO v2æ•ˆæœå¾ˆå¥½ï¼Œè¾“å…¥ä¸º228Ã—228çš„æ—¶å€™ï¼Œå¸§ç‡è¾¾åˆ°91FPSï¼ŒmAPå‡ ä¹å’ŒFaster R-CNNçš„æ°´å‡†ç›¸åŒã€‚åœ¨å¤§å°ºå¯¸å›¾ç‰‡æ£€æµ‹ä¸­ï¼ŒYOLO v2ä¹Ÿè¾¾åˆ°äº†å…ˆè¿›æ°´å¹³ï¼Œåœ¨VOC2007æ•°æ®é›†ä¸ŠmAPä¸º78.6%ï¼Œä»ç„¶é«˜äºå¹³å‡æ°´å‡†ï¼Œä¸‹å›¾æ˜¯YOLO v2å’Œå…¶ä»–ç½‘ç»œçš„æ•ˆæœå¯¹æ¯”ï¼š 8.BackBone: Darknet-19 YOLOv2é‡‡ç”¨äº†ä¸€ä¸ªæ–°çš„ç½‘ç»œï¼Œç§°ä¸ºDarknet-19ï¼ŒåŒ…æ‹¬19ä¸ªå·ç§¯å±‚å’Œ5ä¸ªmaxpoolingå±‚ï¼Œåœ¨ImageNetæ•°æ®é›†ä¸Šï¼ŒDarknet-19çš„top-1å‡†ç¡®åº¦ä¸º72.9%ï¼Œtop-5å‡†ç¡®åº¦ä¸º91.2%ï¼Œä½†æ˜¯æ¨¡å‹å‚æ•°ç›¸å¯¹å°ä¸€äº›ã€‚ä½¿ç”¨Darknet-19ä¹‹åï¼ŒYOLOv2çš„mAPå€¼æ²¡æœ‰æ˜¾è‘—æå‡ï¼Œä½†æ˜¯è®¡ç®—é‡å´å¯ä»¥å‡å°‘çº¦33%ã€‚ 4.3 ç½‘ç»œç»“æ„ 4.4 å…³äºç½‘ç»œçš„è®­ç»ƒç»†èŠ‚ We use a weight decay of 0.0005 and momentum of 0.9. We use a weight decay of 0.0005 and momentum of 0.9.We use a similar data augmentation to YOLO and SSD withrandom crops, color shifting, etC. We use the same trainingstrategy on COCO and VOC. è¿™æ˜¯è®ºæ–‡ç»™å‡ºçš„åŸè¯,è‡³äºå¦‚ä½•åŒ¹é…æ­£è´Ÿæ ·æœ¬,å¦‚ä½•è®¡ç®—è¯¯å·®ç­‰ç»†èŠ‚å¹¶æ²¡æœ‰å¤šè®²,æˆ‘å°†ä¼šåœ¨YOLO V3éƒ¨åˆ†å…·ä½“åˆ†æã€‚ 5.YOLO V35.1 ç½‘ç»œç»“æ„æ”¹è¿›1. BackBone: Darknet-53 ä½œè€…å¯¹YOLO v2æ—¶æœŸçš„Darknet-19è¿›è¡Œäº†å‡çº§,å€Ÿé‰´äº†ResNetçš„æ®‹å·®å•å…ƒï¼Œåœ¨åŠ æ·±ç½‘ç»œå±‚æ•°æé«˜ç²¾åº¦çš„åŒæ—¶å¤§å¤§é™ä½è®¡ç®—é‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å…·ä½“å‰–æï¼Œå…ˆä¸Šbackboneçš„ç»“æ„å›¾ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨Darknet-53ä¸­)ï¼Œä¸Darknet-19æœ€å¤§çš„ä¸åŒæ˜¯æ²¡æœ‰æ± åŒ–å±‚å’Œå…¨è¿æ¥å±‚,å¼ é‡æ˜¯é€šè¿‡å·ç§¯å±‚æ¥å®ç°ä¸‹é‡‡æ ·çš„ã€‚æ¯”å¦‚stride=(2, 2)ï¼Œè¿™å°±ç­‰äºå°†å›¾åƒè¾¹é•¿ç¼©å°äº†ä¸€åŠï¼Œæ•´ä¸ªç‰¹å¾å›¾ç¼©å°$ 2^2 $ å€ã€‚åœ¨YOLO v3ä¸­ï¼Œæœ€ç»ˆè¦ç»å†5æ¬¡ç¼©å°ï¼Œä¼šå°†ç‰¹å¾å›¾ç¼©å°åˆ°åŸè¾“å…¥å°ºå¯¸çš„$ \\frac {1} {2^5} $ ï¼Œå³$ \\frac {1} {32} $ã€‚è¾“å…¥ä¸º416Ã—416 ï¼Œåˆ™è¾“å‡ºä¸º13Ã—13(416/32 = 13) ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ€åä¸‰å±‚Avgpoolã€Connectedå’Œ softmax layeræ˜¯ç”¨äºåœ¨ Imagenetæ•°æ®é›†ä¸Šä½œåˆ†ç±»è®­ç»ƒç”¨çš„ã€‚å½“æˆ‘ä»¬ç”¨ Darknet-53 å±‚å¯¹å›¾ç‰‡æå–ç‰¹å¾æ—¶ï¼Œæ˜¯ä¸ä¼šç”¨åˆ°è¿™ä¸‰å±‚çš„ã€‚ è¿™ä¸ªbackboneçš„æ•ˆæœä¹Ÿéå¸¸å¥½ï¼Œæ¯”èµ·åŒç²¾åº¦çš„ResNet-152é€Ÿåº¦ä¹Ÿæ˜¯å®ƒçš„ä¸¤å€ï¼Œå…·ä½“è§ä¸‹å›¾ï¼š 2.æ•´ä½“ç½‘ç»œæ¶æ„ 5.2 ç›®æ ‡è¾¹ç•Œæ¡†çš„é¢„æµ‹YOLO V3çš„è¾¹ç•Œæ¡†é¢„æµ‹ä¸YOLO V2ä¸€æ ·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º å°†txï¼Œtyä¼ å…¥sigmoidå‡½æ•°èƒ½å¤Ÿé™åˆ¶èŒƒå›´åœ¨0-1å†…ï¼Œé¿å…ä¸­å¿ƒç‚¹è¶…å‡ºç½‘æ ¼ 5.3 æ­£è´Ÿæ ·æœ¬çš„åŒ¹é… YOLOv3 predicts an objectness score for each boundingbox using logistic regression. This should be 1 if the bound-ing box prior overlaps a ground truth object by more thanany other bounding box prior. If the bounding box prioris not the best but does overlap a ground truth object bymore than some threshold we ignore the prediction, follow-ing [17]. We use the threshold of .5. Unlike [17] our systemonly assigns one bounding box prior for each ground truthobject. If a bounding box prior is not assigned to a groundtruth object it incurs no loss for coordinate or class predic-tions, only objectness. ä»åŸè®ºæ–‡å¯çŸ¥ï¼ŒYOLO V3ä¼šä¸ºæ¯ä¸ªground truthåˆ†é…ä¸€ä¸ªæ­£æ ·æœ¬ï¼Œä¹Ÿå°±æ˜¯ä¸€å¼ å›¾ç‰‡æœ‰å‡ ä¸ªground truthï¼Œå°±ä¼šæœ‰å‡ ä¸ªæ­£æ ·æœ¬ã€‚å¯¹äºæ¯ä¸ªground truthï¼Œä¼šå°†ä¸å®ƒé‡å æœ€å¤§ï¼Œä¹Ÿå°±æ˜¯IoUæœ€å¤§çš„bounding boxä½œä¸ºæ­£æ ·æœ¬ã€‚å¯¹äºIoUå¤§äºè®¾å®šçš„é˜ˆå€¼,ä½†ä¸æ˜¯æœ€å¤§çš„bounding boxï¼Œå°†ä¼šç›´æ¥ä¸¢å¼ƒã€‚å¦‚æœ æŸä¸ªbounding boxæ²¡æœ‰è¢«åˆ†é…ä¸ºæ­£æ ·æœ¬ï¼Œé‚£ä¹ˆå®ƒæ²¡æœ‰å®šä½æŸå¤±ï¼Œç±»åˆ«æŸå¤±ï¼Œä»…ä»…æœ‰objectness loss(ç½®ä¿¡åº¦çš„æŸå¤±)ã€‚ 5.4 æŸå¤±å‡½æ•°çš„è®¡ç®—YOLO V3æŸå¤±å‡½æ•°è®¡ç®—å¦‚ä¸‹å›¾æ‰€ç¤º 5.4.1 ç›®æ ‡ç½®ä¿¡åº¦æŸå¤± ç½®ä¿¡åº¦æŸå¤±ç”¨çš„æ˜¯äºŒå€¼äº¤å‰ç†µæŸå¤±(BCE)ï¼Œå…¶ä¸­o$ {i} $âˆˆ[0,1]ï¼Œè¡¨ç¤ºé¢„æµ‹ç›®æ ‡è¾¹ç•Œæ¡†ä¸çœŸå®ç›®æ ‡è¾¹ç•Œæ¡†çš„IoUï¼Œcä¸ºé¢„æµ‹å€¼ï¼Œ$ \\hat{C}{i} $ä¸ºcé€šè¿‡Sigmoidå‡½æ•°å¾—åˆ°çš„é¢„æµ‹ç½®ä¿¡åº¦ï¼ŒNä¸ºæ­£è´Ÿæ ·æœ¬ä¸ªæ•°ã€‚ 5.4.2 ç›®æ ‡ç±»åˆ«æŸå¤±ç±»åˆ«æŸå¤±ç”¨çš„ä¹Ÿæ˜¯äºŒå€¼äº¤å‰ç†µæŸå¤±(BCE)ï¼Œå…¶ä¸­O$ {ij} $âˆˆ{0, 1}ï¼Œè¡¨ç¤ºé¢„æµ‹ç›®æ ‡è¾¹ç•Œæ¡†iä¸­æ˜¯å¦å­˜åœ¨ç¬¬jç±»ç›®æ ‡ï¼ŒC$ {ij} $ä¸ºé¢„æµ‹å€¼ï¼Œ$ \\hat{C}{ij} $ä¸ºC$ {ij} $é€šè¿‡Sigmoidå‡½æ•°å¾—åˆ°çš„ç›®æ ‡æ¦‚ç‡ï¼ŒN$ _{pos} $ä¸ºæ­£æ ·æœ¬ä¸ªæ•° 5.4.3 ç›®æ ‡å®šä½æŸå¤± å…¶ä¸­å·¦ä¸‹è§’çš„gå°±æ˜¯å³å›¾ä¸­çš„b","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"ç›®æ ‡æ£€æµ‹","permalink":"http://yoursite.com/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"},{"name":"YOLO","slug":"YOLO","permalink":"http://yoursite.com/tags/YOLO/"}]},{"title":"ç›®æ ‡æ£€æµ‹mAPè®¡ç®—ä»¥åŠcocoè¯„ä»·æ ‡å‡†","slug":"ç›®æ ‡æ£€æµ‹mAPè®¡ç®—ä»¥åŠcocoè¯„ä»·æ ‡å‡†","date":"2020-11-24T03:39:05.000Z","updated":"2022-06-06T03:22:14.526Z","comments":true,"path":"2020/11/24/ç›®æ ‡æ£€æµ‹mAPè®¡ç®—ä»¥åŠcocoè¯„ä»·æ ‡å‡†/","link":"","permalink":"http://yoursite.com/2020/11/24/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8BmAP%E8%AE%A1%E7%AE%97%E4%BB%A5%E5%8F%8Acoco%E8%AF%84%E4%BB%B7%E6%A0%87%E5%87%86/","excerpt":"","text":"1.å‰è¨€å½“æˆ‘ä»¬ä½¿ç”¨ç›®æ ‡æ£€æµ‹æ•°æ®é›†ï¼ˆå¦‚COCOï¼‰è¿›è¡Œè¯„ä¼°æ—¶ï¼Œæœ€åä¼šå¾—åˆ°ä¸€ä¸ªè¯„ä¼°åˆ—è¡¨ï¼Œå¦‚ä¸‹å›¾ 2.ç›®æ ‡æ£€æµ‹ä¸­å¸¸è§æŒ‡æ ‡2.1ç²¾ç¡®ç‡ä¸å¬å›ç‡ä¸‹é¢å…ˆå¼•å…¥ç›®æ ‡æ£€æµ‹ä¸­å¸¸è§çš„ä¸€äº›æŒ‡æ ‡ TP(True Positive)ï¼šIoU &gt; 0.5çš„æ£€æµ‹æ¡†æ•°ï¼ˆåŒä¸€GTåªè®¡ç®—ä¸€æ¬¡ï¼‰ FP(False Positive)ï¼šIoU &lt;= 0.5çš„æ£€æµ‹æ¡†ï¼ˆæˆ–è€…æ˜¯æ£€æµ‹åˆ°åŒä¸€ä¸ªGTçš„å¤šä½™æ£€æµ‹æ¡†æ•°é‡ï¼‰ FN(False Negative)ï¼šæ²¡æœ‰æ£€æµ‹åˆ°çš„GTçš„æ•°é‡ Precision(ç²¾ç¡®ç‡)ï¼š TP / (TP + FP)æ¨¡å‹é¢„æµ‹çš„æ‰€æœ‰ç›®æ ‡ä¸­ï¼Œé¢„æµ‹æ­£ç¡®çš„æ¯”ä¾‹ Recall(å¬å›ç‡)ï¼šTP / (TP + FN)æ‰€æœ‰çœŸå®ç›®æ ‡ä¸­ï¼Œæ¨¡å‹é¢„æµ‹æ­£ç¡®çš„ç›®æ ‡æ¯”ä¾‹ ç²¾ç¡®ç‡ä¸å¬å›ç‡ç¼ºä¸€ä¸å¯ï¼Œä¸¾ä¾‹è¯´æ˜ï¼šå½“ä¸€å¼ å›¾ç‰‡ä¸­æœ‰5ä¸ªæ£€æµ‹å¯¹è±¡æ—¶ï¼Œå‡å¦‚ç®—æ³•æ£€æµ‹åˆ°äº†10ä¸ªä¸ªç›®æ ‡ï¼ˆå…¶ä¸­5ä¸ªæ­£ç¡®ï¼Œ5ä¸ªé”™è¯¯ï¼‰ï¼Œé‚£ä¹ˆTP=5ï¼ŒFP=5ï¼ŒFN=0ï¼Œç²¾ç¡®ç‡=0.5ï¼Œå¬å›ç‡=1ã€‚å‡å¦‚ç®—æ³•æ£€æµ‹åˆ°äº†3ä¸ªç›®æ ‡ï¼ˆéƒ½æ­£ç¡®ï¼‰ï¼Œé‚£ä¹ˆTP=3ï¼ŒFP=0ï¼ŒFN=2ï¼Œç²¾ç¡®ç‡=1ï¼Œå¬å›ç‡=0.6ã€‚ç”±æ­¤å¯ä»¥è¯´æ˜ï¼Œå•ä¸€çš„ç²¾ç¡®ç‡ä¸å¬å›ç‡ï¼Œæ— æ³•å®Œå…¨è¡¡é‡ç»“æœçš„å¥½åã€‚ 2.2 APAPå®šä¹‰ä¸ºP-Ræ›²çº¿ä¸‹çš„é¢ç§¯P-Ræ›²çº¿ï¼šPrecision-Recallæ›²çº¿ ä¸¾ä¾‹å¦‚ä¸‹å›¾ æœ¬å›¾ä¸ºç›®æ ‡æ£€æµ‹ä¸­æŸä¸ªç±»åˆ«ï¼ˆæ¯”å¦‚æ£€æµ‹çŒ«ï¼‰ç½®ä¿¡åº¦å–ä¸åŒé˜ˆå€¼å¾—åˆ°çš„ç²¾ç¡®ç‡ä¸å¬å›ç‡ç»˜åˆ¶æˆçš„P-Ræ›²çº¿ï¼Œå…¶é¢ç§¯ä¸ºï¼š S = (0.14-0)Ã—(0.28-0.14)Ã—1.0+(0.42-0.28)Ã—1.0+(0.57-0.42)Ã—1.0+(0.71-0.57)Ã—0.71=0.6694 å› æ­¤AP=0.6694 2.3 mAPmAPå³ä¸ºå„ä¸ªç±»åˆ«è®¡ç®—çš„APå–å‡å€¼ï¼Œæ¯”å¦‚ç›®æ ‡æ£€æµ‹çš„ç›®æ ‡æœ‰çŒ«ã€ç‹—ã€å…”å­ï¼Œå°†ä¸‰ä¸ªç±»åˆ«æ±‚å¾—çš„APç›¸åŠ é™¤ä»¥ä¸‰å³å¯ã€‚ 3.COCOè¯„ä»·æŒ‡æ ‡å†å›è¿‡æ¥çœ‹ä¸Šé¢é‚£å¼ å›¾ IoUä»£è¡¨äº¤å¹¶æ¯”ï¼Œå¯ä»¥è§‚å¯Ÿç®—æ³•åœ¨å®šä½æ–¹é¢çš„æŒ‡æ ‡ areaä»£è¡¨æ£€æµ‹é¢ç§¯çš„å¤§å°ï¼Œå¯ä»¥è§‚å¯Ÿç®—æ³•åœ¨æ£€æµ‹å¤§ç›®æ ‡ä¸å°ç›®æ ‡æ–¹é¢çš„æŒ‡æ ‡ maxDetsä»£è¡¨æ£€æµ‹ç›®æ ‡æ•°ï¼Œå¯ä»¥è§‚å¯Ÿç®—æ³•åœ¨å¯¹å¤šç›®æ ‡æ£€æµ‹æ–¹é¢çš„æŒ‡æ ‡","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"ç›®æ ‡æ£€æµ‹","slug":"ç›®æ ‡æ£€æµ‹","permalink":"http://yoursite.com/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"},{"name":"è¯„ä¼°æŒ‡æ ‡","slug":"è¯„ä¼°æŒ‡æ ‡","permalink":"http://yoursite.com/tags/%E8%AF%84%E4%BC%B0%E6%8C%87%E6%A0%87/"}]},{"title":"kaggleå®æˆ˜ï¼šDog Breed Identification","slug":"kaggleå®æˆ˜ï¼šDog Breed Identification","date":"2020-11-11T13:26:20.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2020/11/11/kaggleå®æˆ˜ï¼šDog Breed Identification/","link":"","permalink":"http://yoursite.com/2020/11/11/kaggle%E5%AE%9E%E6%88%98%EF%BC%9ADog%20Breed%20Identification/","excerpt":"","text":"å‰è¨€æœ¬æ–‡å°†ä½¿ç”¨pytorchæ¡†æ¶è§£å†³kaggleç«èµ›ä¸­çŠ¬ç§è¯†åˆ«æŒ‘æˆ˜çš„é—®é¢˜ï¼Œè¯¥æ¯”èµ›çš„æ•°æ®é›†ä¸ºImageNetæ•°æ®é›†çš„å­é›†ï¼Œåœ¨æœ¬æ¬¡æŒ‘æˆ˜ä¸­ï¼Œæˆ‘ä»¬å°†å°è¯•åˆ†ç±»120ç§ä¸åŒçš„çŠ¬ç§ ç«èµ›ç½‘å€ï¼šhttps://www.kaggle.com/c/dog-breed-identificationæ•°æ®é›†å¯åœ¨è¯¥ç½‘å€è·å– å¯¼å…¥ç›¸å…³æ¨¡å—1234567891011import torchimport torch.nn as nnimport torch.optim as optimimport torchvisionimport torchvision.transforms as transformsimport torchvision.models as modelsimport osimport shutilimport timeimport pandas as pdimport random è®¾ç½®éšæœºæ•°ç§å­123random.seed(0)torch.manual_seed(0)torch.cuda.manual_seed(0) æ•´ç†æ•°æ®é›†1234data_dir = &#x27;./dog-breed-identification&#x27; # æ•°æ®é›†ç›®å½•label_file, train_dir, test_dir = &#x27;labels.csv&#x27;, &#x27;train&#x27;, &#x27;test&#x27; # data_dirä¸­çš„æ–‡ä»¶å¤¹ã€æ–‡ä»¶new_data_dir = &#x27;./train_valid_test&#x27; # æ•´ç†ä¹‹åçš„æ•°æ®å­˜æ”¾çš„ç›®å½•valid_ratio = 0.1 # éªŒè¯é›†æ‰€å æ¯”ä¾‹ 123456789101112131415161718192021222324252627282930313233343536def mkdir_if_not_exist(path): # è‹¥ç›®å½•pathä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºç›®å½• if not os.path.exists(os.path.join(*path)): os.makedirs(os.path.join(*path)) def reorg_dog_data(data_dir, label_file, train_dir, test_dir, new_data_dir, valid_ratio): # è¯»å–è®­ç»ƒæ•°æ®æ ‡ç­¾ labels = pd.read_csv(os.path.join(data_dir, label_file)) id2label = &#123;Id: label for Id, label in labels.values&#125; # (key: value): (id: label) # éšæœºæ‰“ä¹±è®­ç»ƒæ•°æ® train_files = os.listdir(os.path.join(data_dir, train_dir)) random.shuffle(train_files) # åŸè®­ç»ƒé›† valid_ds_size = int(len(train_files) * valid_ratio) # éªŒè¯é›†å¤§å° for i, file in enumerate(train_files): img_id = file.split(&#x27;.&#x27;)[0] # fileæ˜¯å½¢å¼ä¸ºid.jpgçš„å­—ç¬¦ä¸² img_label = id2label[img_id] if i &lt; valid_ds_size: mkdir_if_not_exist([new_data_dir, &#x27;valid&#x27;, img_label]) shutil.copy(os.path.join(data_dir, train_dir, file), os.path.join(new_data_dir, &#x27;valid&#x27;, img_label)) else: mkdir_if_not_exist([new_data_dir, &#x27;train&#x27;, img_label]) shutil.copy(os.path.join(data_dir, train_dir, file), os.path.join(new_data_dir, &#x27;train&#x27;, img_label)) mkdir_if_not_exist([new_data_dir, &#x27;train_valid&#x27;, img_label]) shutil.copy(os.path.join(data_dir, train_dir, file), os.path.join(new_data_dir, &#x27;train_valid&#x27;, img_label)) # æµ‹è¯•é›† mkdir_if_not_exist([new_data_dir, &#x27;test&#x27;, &#x27;unknown&#x27;]) for test_file in os.listdir(os.path.join(data_dir, test_dir)): shutil.copy(os.path.join(data_dir, test_dir, test_file), os.path.join(new_data_dir, &#x27;test&#x27;, &#x27;unknown&#x27;)) 1reorg_dog_data(data_dir, label_file, train_dir, test_dir, new_data_dir, valid_ratio) å›¾åƒå¢å¹¿1234567891011transform_train = transforms.Compose([ # éšæœºå¯¹å›¾åƒè£å‰ªå‡ºé¢ç§¯ä¸ºåŸå›¾åƒé¢ç§¯0.08~1å€ã€ä¸”é«˜å’Œå®½ä¹‹æ¯”åœ¨3/4~4/3çš„å›¾åƒï¼Œå†æ”¾ç¼©ä¸ºé«˜å’Œå®½å‡ä¸º224åƒç´ çš„æ–°å›¾åƒ transforms.RandomResizedCrop(224, scale=(0.08, 1.0), ratio=(3.0/4.0, 4.0/3.0)), # ä»¥0.5çš„æ¦‚ç‡éšæœºæ°´å¹³ç¿»è½¬ transforms.RandomHorizontalFlip(), # éšæœºæ›´æ”¹äº®åº¦ã€å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦ transforms.ColorJitter(brightness=0.4, contrast=0.4, saturation=0.4), transforms.ToTensor(), # å¯¹å„ä¸ªé€šé“åšæ ‡å‡†åŒ–ï¼Œ(0.485, 0.456, 0.406)å’Œ(0.229, 0.224, 0.225)æ˜¯åœ¨ImageNetä¸Šè®¡ç®—å¾—çš„å„é€šé“å‡å€¼ä¸æ–¹å·® transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225]) # ImageNetä¸Šçš„å‡å€¼å’Œæ–¹å·®]) 123456789# åœ¨æµ‹è¯•é›†ä¸Šçš„å›¾åƒå¢å¼ºåªåšç¡®å®šæ€§çš„æ“ä½œtransform_test = transforms.Compose([ transforms.Resize(256), # å°†å›¾åƒä¸­å¤®çš„é«˜å’Œå®½å‡ä¸º224çš„æ­£æ–¹å½¢åŒºåŸŸè£å‰ªå‡ºæ¥ transforms.CenterCrop(224), transforms.ToTensor(), transforms.Normalize([0.485, 0.456, 0.406], [0.229, 0.224, 0.225])]) æ•°æ®é›†å¯¼å…¥1234567891011121314train_ds = torchvision.datasets.ImageFolder(root=os.path.join(new_data_dir, &#x27;train&#x27;), transform=transform_train)valid_ds = torchvision.datasets.ImageFolder(root=os.path.join(new_data_dir, &#x27;valid&#x27;), transform=transform_test)train_valid_ds = torchvision.datasets.ImageFolder(root=os.path.join(new_data_dir, &#x27;train_valid&#x27;), transform=transform_train)test_ds = torchvision.datasets.ImageFolder(root=os.path.join(new_data_dir, &#x27;test&#x27;), transform=transform_test)batch_size = 128train_iter = torch.utils.data.DataLoader(train_ds, batch_size=batch_size, shuffle=True)valid_iter = torch.utils.data.DataLoader(valid_ds, batch_size=batch_size, shuffle=True)train_valid_iter = torch.utils.data.DataLoader(train_valid_ds, batch_size=batch_size, shuffle=True)test_iter = torch.utils.data.DataLoader(test_ds, batch_size=batch_size, shuffle=False) å®šä¹‰æ¨¡å‹ç”±äºæ­¤ç«èµ›ä½¿ç”¨äº†ImageNetæ•°æ®é›†çš„å­é›†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿ç§»å­¦ä¹ çš„æ–¹æ³•ï¼Œä½¿ç”¨åœ¨ImageNetå®Œæ•´æ•°æ®é›†ä¸Šé¢„è®­ç»ƒçš„æ¨¡å‹æ¥æŠ½å–å›¾åƒç‰¹å¾ã€‚ æ­¤å¤„æˆ‘ä»¬ä½¿ç”¨é¢„è®­ç»ƒçš„ResNet-34æ¨¡å‹ï¼Œç›´æ¥å¤ç”¨é¢„è®­ç»ƒæ¨¡å‹åœ¨è¾“å‡ºå±‚çš„è¾“å…¥ï¼Œå³æŠ½å–çš„ç‰¹å¾ï¼Œç„¶åæˆ‘ä»¬é‡æ–°å®šä¹‰è¾“å‡ºå±‚ï¼Œæœ¬æ¬¡æˆ‘ä»¬ä»…å¯¹é‡å®šä¹‰çš„è¾“å‡ºå±‚çš„å‚æ•°è¿›è¡Œè®­ç»ƒï¼Œè€Œå¯¹äºç”¨äºæŠ½å–ç‰¹å¾çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¿ç•™é¢„è®­ç»ƒæ¨¡å‹çš„å‚æ•°ã€‚ 12345678910111213def get_net(device): finetune_net = models.resnet34(pretrained=False) # é¢„è®­ç»ƒçš„resnet34ç½‘ç»œ finetune_net.load_state_dict(torch.load(&#x27;./dog-breed-identification/resnet34-333f7ec4.pth&#x27;)) for param in finetune_net.parameters(): # å†»ç»“å‚æ•° param.requires_grad = False # åŸfinetune_net.fcæ˜¯ä¸€ä¸ªè¾“å…¥å•å…ƒæ•°ä¸º512ï¼Œè¾“å‡ºå•å…ƒæ•°ä¸º1000çš„å…¨è¿æ¥å±‚ # æ›¿æ¢æ‰åŸfinetune_net.fcï¼Œæ–°finetuen_net.fcä¸­çš„æ¨¡å‹å‚æ•°ä¼šè®°å½•æ¢¯åº¦ finetune_net.fc = nn.Sequential( nn.Linear(in_features=512, out_features=256), nn.ReLU(), nn.Linear(in_features=256, out_features=120) # 120æ˜¯è¾“å‡ºç±»åˆ«æ•° ) return finetune_net è‹¥å°†pretrainedè®¾ä¸ºtrueï¼Œä¼šè‡ªåŠ¨ä¸‹è½½é¢„è®­ç»ƒå¥½çš„resnet34ç½‘ç»œï¼Œä½†æ˜¯é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸”å®¹æ˜“æ–­ï¼Œè¿˜æ²¡æ–­ç‚¹ç»­ä¼ åŠŸèƒ½ resnet34-333f7ec4.pthå¯åœ¨ç½‘ç»œä¸­æœç´ ä¸‹è½½ å®šä¹‰è®­ç»ƒå‡½æ•°123456789101112131415def evaluate_loss_acc(data_iter, net, device): loss = nn.CrossEntropyLoss() is_training = net.training net.eval() l_sum, acc_sum, n = 0, 0, 0 with torch.no_grad(): for X, y in data_iter: X, y = X.to(device), y.to(device) y_hat = net(X) l = loss(y_hat, y) l_sum += l.item() * y.shape[0] acc_sum += (y_hat.argmax(dim=1) == y).sum().item() n += y.shape[0] net.train(is_training) return l_sum / n, acc_sum / n 1234567891011121314151617181920212223242526272829def train(net, train_iter, valid_iter, num_epochs, lr, wd, device, lr_period, lr_decay): loss = nn.CrossEntropyLoss() optimizer = optim.SGD(net.fc.parameters(), lr=lr, momentum=0.9, weight_decay=wd) net = net.to(device) for epoch in range(num_epochs): train_l_sum, n, start = 0.0, 0, time.time() if epoch &gt; 0 and epoch % lr_period == 0: # æ¯lr_periodä¸ªepochï¼Œå­¦ä¹ ç‡è¡°å‡ä¸€æ¬¡ lr = lr * lr_decay for param_group in optimizer.param_groups: param_group[&#x27;lr&#x27;] = lr for X, y in train_iter: X, y = X.to(device), y.to(device) optimizer.zero_grad() y_hat = net(X) l = loss(y_hat, y) l.backward() optimizer.step() train_l_sum += l.item() * y.shape[0] n += y.shape[0] time_s = &quot;time %.2f sec&quot; % (time.time() - start) if valid_iter is not None: valid_loss, valid_acc = evaluate_loss_acc(valid_iter, net, device) epoch_s = (&quot;epoch %d, train loss %f, valid loss %f, valid acc %f, &quot; % (epoch + 1, train_l_sum / n, valid_loss, valid_acc)) else: epoch_s = (&quot;epoch %d, train loss %f, &quot; % (epoch + 1, train_l_sum / n)) print(epoch_s + time_s + &#x27;, lr &#x27; + str(lr)) æœ€ç»ˆè¶…å‚æ•°é€‰æ‹©12345num_epochs, lr_period, lr_decay = 20, 10, 0.1lr, wd = 0.03, 1e-4device = torch.device(&#x27;cuda&#x27; if torch.cuda.is_available() else &#x27;cpu&#x27;)net = get_net(device)train(net, train_iter, valid_iter, num_epochs, lr, wd, device, lr_period, lr_decay) è®­ç»ƒ12net = get_net(device)train(net, train_valid_iter, None, num_epochs, lr, wd, device, lr_period, lr_decay) æµ‹è¯•ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹é˜Ÿæµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å†™å…¥submission.csv","categories":[{"name":"è®¡ç®—æœºè§†è§‰","slug":"è®¡ç®—æœºè§†è§‰","permalink":"http://yoursite.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89/"}],"tags":[{"name":"pytorch","slug":"pytorch","permalink":"http://yoursite.com/tags/pytorch/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"kaggle","slug":"kaggle","permalink":"http://yoursite.com/tags/kaggle/"},{"name":"è¿ç§»å­¦ä¹ ","slug":"è¿ç§»å­¦ä¹ ","permalink":"http://yoursite.com/tags/%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0/"}]},{"title":"å½»åº•è§£å†³git cloneå¤ªæ…¢çš„å¤´ç–¼é—®é¢˜","slug":"å½»åº•è§£å†³git cloneå¤ªæ…¢çš„å¤´ç–¼é—®é¢˜","date":"2020-03-15T08:14:03.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2020/03/15/å½»åº•è§£å†³git cloneå¤ªæ…¢çš„å¤´ç–¼é—®é¢˜/","link":"","permalink":"http://yoursite.com/2020/03/15/%E5%BD%BB%E5%BA%95%E8%A7%A3%E5%86%B3git%20clone%E5%A4%AA%E6%85%A2%E7%9A%84%E5%A4%B4%E7%96%BC%E9%97%AE%E9%A2%98/","excerpt":"","text":"è¿™æ®µæ—¶é—´æˆ‘ç”µè„‘git cloneçš„é€Ÿåº¦ä¸€ç›´æ¯”è¾ƒæ…¢ï¼Œåœ¨ç½‘ä¸Šæœäº†è®¸å¤šæ¯”è¾ƒå‘çš„ç»éªŒè´´ï¼Œéƒ½æ²¡æœ‰è§£å†³ã€‚ æœ€è¿‘ç”±äºç»å¸¸éœ€è¦ç”¨åˆ°git cloneï¼Œæˆ‘å°±åˆé™ä¸‹å¿ƒåœ¨ç½‘ä¸Šå¼€å§‹æ‰¾è§£å†³æ–¹æ¡ˆï¼Œæœ€åç»ˆäºè§£å†³äº† æˆ‘è§£å†³çš„æ–¹æ³•å¦‚ä¸‹ï¼š é¦–å…ˆæŸ¥æ‰¾åŸŸåå¯¹åº”çš„ipåœ°å€ï¼Œå¹¶ä¿®æ”¹hostsæ–‡ä»¶ 12nslookup github.global.ssl.fastly.Netnslookup github.com å°†ä¸‹åˆ—å†…å®¹åŠ å…¥ /etc/hostsæ–‡ä»¶ä¸­: 1231.13.97.245 github.global-ssl.fastly.net13.229.188.59 github.com æˆ‘ä¸å¤ªæ‡‚è®¡ç®—æœºç½‘ç»œï¼Œä½†æ˜¯æˆ‘å‘ç°ç½‘ç»œä¸Šè®¸å¤šç±»ä¼¼æ•™ç¨‹ä¸­ç»™çš„ipåœ°å€å’Œæˆ‘åœ¨ç»ˆç«¯è·å–åˆ°çš„æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™ä¹Ÿæ˜¯è·Ÿç€è®¸å¤šæ•™ç¨‹èµ°æ— æ•ˆçš„åŸå› ï¼Œæ‰€ä»¥å¾—è‡ªè¡Œè·å– åˆ·æ–°DNSç¼“å­˜ 123sudo /etc/init.d/networking restart // linuxipconfig /flushdns // windowssudo dscacheutil -flushcache // macos ç»è¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘çš„git cloneé€Ÿåº¦ä»å¯æ€œçš„å‡ kbåˆ°äº†åä½™MB","categories":[{"name":"git","slug":"git","permalink":"http://yoursite.com/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"http://yoursite.com/tags/git/"}]},{"title":"å¿«é€Ÿå¹‚ç®—æ³•è¯¦è§£","slug":"å¿«é€Ÿå¹‚ç®—æ³•è¯¦è§£","date":"2020-03-03T13:31:05.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2020/03/03/å¿«é€Ÿå¹‚ç®—æ³•è¯¦è§£/","link":"","permalink":"http://yoursite.com/2020/03/03/%E5%BF%AB%E9%80%9F%E5%B9%82%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3/","excerpt":"","text":"ä¸€ã€é—®é¢˜å¦‚æœæœ‰ä¸‰ä¸ªæ•´æ•°aï¼Œnï¼Œkï¼Œè¦è®©æˆ‘ä»¬æ±‚å‡ºa^nçš„åkä½ï¼Œä½ ä¼šæ€ä¹ˆæ±‚ï¼Ÿ ä¹Ÿè®¸æœ‰äººå¯èƒ½ä¼šæƒ³åˆ°ç›´æ¥å°†a^næ¬¡æ±‚å‡ºï¼Œç„¶åé€šè¿‡å–ä½™æ±‚å‡ºåkä½ ä½†æ˜¾ç„¶ï¼Œè¿™æ ·æ˜¯ä¸ç°å®çš„ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å½“è¿™ä¸ªæ•°å¾ˆå¤§æ—¶ï¼Œå³ä½¿æ˜¯long longå‹çš„å˜é‡ä¹Ÿå­˜æ”¾ä¸ä¸‹ã€‚ äºŒã€å‰ç½®çŸ¥è¯†å½“æˆ‘ä»¬è§£å†³é—®é¢˜ä¹‹å‰ï¼Œé¦–å…ˆæ¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£çš„ä¸€äº›çŸ¥è¯†ã€‚ ä¸‰ã€è§£å†³é—®é¢˜è§£å†³ä¸€ä¸ªé—®é¢˜çš„æœ€å¥½æ–¹æ³•ï¼Œå¾€å¾€æ˜¯ä»å®ä¾‹ä¸­åº”ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¦¨å‡è®¾a = 3, n = 45æ­¤å¤–ï¼Œå¦‚æœè®¡ç®—æœºåŸºç¡€è¾ƒå¥½çš„è¯»è€…å¾ˆå®¹æ˜“å¾—åˆ°45 = (101101)2 äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹æ¨å¯¼ æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå¦‚æœæœ€åä¸€æ­¥ä¸­æ¯ä¸€é¡¹å»æ‰*åé¢çš„ä¹˜æ•°ï¼Œåˆ™æ¯ä¸€é¡¹çš„å€¼éƒ½ä¸ºåä¸€é¡¹çš„å¹³æ–¹ å››ã€ä»£ç å®ç°123456789101112131415161718192021#include &lt;iostream&gt;#include &lt;cmath&gt;using namespace std;int main() &#123; int a, n, k; while(cin &gt;&gt; a &gt;&gt; n &gt;&gt; k) &#123; int mod = pow(10, k); int ans = 1; // å…ˆå®šä¹‰æœ€ç»ˆç»“æœä¸º1 while (n) &#123; if (n &amp; 1) &#123; // åˆ¤æ–­nçš„äºŒè¿›åˆ¶æœ€åä¸€ä½æ˜¯0è¿˜æ˜¯1 ans = (ans * a) % mod; // åªæœ‰å½“äºŒè¿›åˆ¶æœ€å1ä½ä¸º1æ—¶ï¼Œè¿™ä¸€é¡¹åº•æ•°æ‰ä¸ºaï¼Œå¦åˆ™ä¸º1 &#125; n &gt;&gt;= 1; // äºŒè¿›åˆ¶å³ç§»ä¸€ä½ a = (a * a) % mod; // å¦‚ä¹‹å‰æ¨å¯¼ï¼Œå‰ä¸€é¡¹ä¸ºåä¸€é¡¹å¹³æ–¹ &#125; cout &lt;&lt; ans &lt;&lt; endl; &#125; return 0;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://yoursite.com/categories/%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"},{"name":"c++","slug":"c","permalink":"http://yoursite.com/tags/c/"}]},{"title":"åŸºäºvueç†è§£å‰ç«¯æ¡†æ¶å¼€å‘webåº”ç”¨","slug":"åŸºäºvueç†è§£å‰ç«¯æ¡†æ¶å¼€å‘webåº”ç”¨","date":"2020-03-02T03:47:58.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2020/03/02/åŸºäºvueç†è§£å‰ç«¯æ¡†æ¶å¼€å‘webåº”ç”¨/","link":"","permalink":"http://yoursite.com/2020/03/02/%E5%9F%BA%E4%BA%8Evue%E7%90%86%E8%A7%A3%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91web%E5%BA%94%E7%94%A8/","excerpt":"","text":"ä¸€ã€æˆ‘ä¸ºä»€ä¹ˆå†™è¿™ç¯‡åšå®¢ï¼Ÿæˆ‘å·²ç»å…¥é—¨å‰ç«¯å¼€å‘å¤§çº¦æœ‰äº†3å¹´æ—¶é—´ï¼Œä»æœ€å¼€å§‹çš„é™æ€é¡µé¢ç¼–å†™ï¼Œåˆ°åæ¥çš„ä½¿ç”¨ajaxå¼€å‘åŠ¨æ€é¡µé¢ï¼Œåˆ°ç°åœ¨çš„ä½¿ç”¨Vueã€Reactã€Angularç­‰å‰ç«¯æ¡†æ¶å¼€å‘Webåº”ç”¨ï¼Œæˆ‘å†™è¿‡è®¸è®¸å¤šå¤šé¡¹ç›®ï¼Œè™½ç„¶æˆ‘çš„æ°´å¹³ä¾ç„¶å¾ˆä¸€èˆ¬ï¼Œä½†æ˜¯åœ¨ä¸ä¹…çš„å°†æ¥æˆ‘å¯èƒ½ä¼šå‘Šåˆ«è¿™æ®µè·¯ï¼Œè¿™å¯èƒ½ä¼šæ˜¯æˆ‘å†™çš„æœ€åä¸€ç¯‡å‰ç«¯æœ‰å…³çš„æ–‡ç« ã€‚ è¿™ç¯‡æ–‡ç« çš„ç›®çš„åœ¨äºå¸®åŠ©åªæ¥è§¦è¿‡æ™®é€šçš„html+css+jså¼€å‘ç½‘é¡µï¼Œç”šè‡³æ˜¯Javascripté›¶åŸºç¡€çš„æœ‹å‹å¯¹ç›®å‰æµè¡Œçš„å‰ç«¯æ¡†æ¶å¦‚ä½•å¼€å‘Webåº”ç”¨æœ‰æ‰€äº†è§£ã€‚ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä¼šä»¥ä¸€ä¸ªVueå¼€å‘åŸºäºç½‘æ˜“äº‘Apiçš„éŸ³ä¹æ’­æ”¾å™¨åº”ç”¨ä¸ºä¾‹ï¼Œè®²è§£Vueå¼€å‘ä¸­çš„ä¸€äº›å†…å®¹ï¼Œå› ä¸ºæˆ‘ä¸‰å¤§æ¡†æ¶éƒ½æœ‰æ‰€ä½¿ç”¨ï¼Œæ‰€ä»¥æœ¬ç¯‡æ–‡ç« è®²è§£çš„å¤§å¤šæ•°ä¸œè¥¿éƒ½æ˜¯ä¸‰å¤§æ¡†æ¶ç›¸åŒçš„åœ°æ–¹ã€‚ æœ¬ç¯‡æ–‡ç« ä¸æ˜¯Vueçš„åŸºç¡€æ•™ç¨‹ï¼Œå¯èƒ½ç•¥æœ‰æ¶‰åŠï¼Œä½†ä¼šç”¨é€šä¿—çš„è¯­è¨€è®²è§£ã€‚ äºŒã€åˆæ­¥çš„äº†è§£å› ä¸ºæœ¬ç¯‡æ•™ç¨‹ä¸æ˜¯è®²è§£Vueï¼Œæ‰€ä»¥å¯¹Vueçš„ä¸€äº›ä¿¡æ¯ä¸ä½œèµ˜è¿°ã€‚ 2.1 ä½¿ç”¨vueå¼€å‘å’Œæˆ‘ä»¬ä¸Šè¯¾æ—¶ç”¨çš„html+css+jså¼€å‘å‰ç«¯æœ‰ä»€ä¹ˆä¸åŒï¼Ÿé¦–å…ˆç†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰å¸‚é¢ä¸Šæµè¡Œçš„å¤§å¤šæ•°å‰ç«¯æ¡†æ¶éƒ½æœ‰çš„æ¦‚å¿µâ€”â€”â€œç»„ä»¶â€œ æˆ‘ä»¬å¯ä»¥ç”¨æˆ‘ä»¬è½¯ä»¶å·¥ç¨‹é‡Œâ€œæ¨¡å—â€çš„æ¦‚å¿µæ¥ç†è§£ç»„ä»¶ã€‚ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå®ç°æŸä¸€ç§åŠŸèƒ½çš„ä»£ç ï¼Œé‡ç‚¹æ˜¯åŠŸèƒ½ã€‚åŒç†ï¼Œå›æƒ³ä¸€ä¸‹å¹³æ—¶æˆ‘ä»¬å¼€å‘é¡µé¢æ—¶ï¼Œæ˜¯å¦æ˜¯å°†ä¸€æ•´ä¸ªé¡µé¢ï¼Œæ”¾åœ¨åŒä¸€ä¸ªhtmlæ–‡ä»¶é‡Œï¼Œè¿™æ ·ä¼šå¯¼è‡´æ•´ä¸ªæ–‡ä»¶éå¸¸åºå¤§ã€‚ä½†ç»†æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠé¡µé¢ä¸­ä¸åŒçš„éƒ¨åˆ†ï¼Œå°è£…æˆä¸€ä¸ªä¸€ä¸ªç»„ä»¶ï¼Œæ¯”å¦‚å¯¼èˆªæ ï¼Œæˆ‘å°è£…æˆä¸€ä¸ªNavç»„ä»¶ï¼Œç„¶åNavç»„ä»¶ä¸­ï¼Œå¯ä»¥æœ‰å­ç»„ä»¶ï¼ˆè¿™ä¸ªåº”è¯¥å¥½ç†è§£å§ï¼‰Searchç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æœç´¢ç»„ä»¶ã€‚è¿™æ ·ä¸‹æ¥ï¼Œæ•´ä¸ªé¡µé¢è¢«æˆ‘ä»¬åˆ‡å‰²æˆäº†å„ä¸ªç»„ä»¶ï¼Œå½“æˆ‘ä»¬å¼€å‘æ—¶ï¼Œç›®å½•ç»“æ„ååˆ†æ¸…æ™°ï¼Œä»£ç å¯è¯»æ€§ä¹Ÿå¾ˆå¥½ã€‚ 2.2 Vueå¼€å‘çš„ä¼˜åŠ¿å›æƒ³ä¸€ä¸‹æˆ‘ä»¬ä¸Šè¯¾æ—¶å¼€å‘çš„ç½‘é¡µï¼Œæˆ–è€…ä½ å¹³æ—¶åœ¨ä½¿ç”¨å¤§å¤šæ•°ç½‘ç«™ï¼Œæ˜¯ä¸æ˜¯åœ¨åŒä¸€ä¸ªç½‘ç«™é‡Œï¼Œç‚¹å‡»æŸä¸ªè·³è½¬æŒ‰é’®ï¼Œæ¯”å¦‚è¯´æˆ‘ç‚¹å‡»äº†æœç´¢æŒ‰é’®ï¼Œä»–æ˜¯ä¸æ˜¯è·³è½¬åˆ°äº†ä¸€ä¸ªæœç´¢é¡µé¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­æµè§ˆå™¨é‡æ–°åŠ è½½äº†é¡µé¢ã€‚ Vueå¼€å‘å‡ºæ¥çš„webåº”ç”¨ï¼Œæ˜¯ä¸€ç§å•é¡µåº”ç”¨ï¼Œæˆ‘ä»¬å…ˆä¸ç€æ€¥ç†è§£ä»€ä¹ˆæ˜¯å•é¡µåº”ç”¨ï¼Œæˆ‘å…ˆæ¥è®²è®²åœ¨æˆ‘ä»¬ä½¿ç”¨vueåº”ç”¨ä¸­ï¼Œé¡µé¢ä¸­åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬å¾—çŸ¥é“æœ‰ä¸ªæ¦‚å¿µï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œå› ä¸ºæœ¬ç¯‡æ–‡ç« ä¸æ˜¯Vueæ•™ç¨‹ï¼Œæ‰€ä»¥æˆ‘å°±ç®€å•è®²ä¸€ä¸‹ï¼Œæ¯”å¦‚æ¯ä¸ªäººéƒ½æœ‰å‡ºç”Ÿå’Œæ­»äº¡ï¼Œç»„ä»¶ä¹Ÿæ˜¯ï¼Œæ¯”å¦‚è¯´å½“é¡µé¢åˆšåŠ è½½æ—¶ï¼ŒæŸäº›ç»„ä»¶å‡ºç°ï¼Œè¿™æ˜¯è¿™äº›ç»„ä»¶çš„â€œè¯ç”Ÿé˜¶æ®µâ€ï¼Œå½“è¿™äº›ç»„ä»¶ä»é¡µé¢ä¸­æ¶ˆå¤±ï¼ˆæ¯”å¦‚ç‚¹å‡»å…³é—­é”®å…³é—­æŸä¸ªå¼¹å‡ºæ¡†ï¼‰ï¼Œè¿™å°±æ˜¯ç»„ä»¶çš„â€œæ­»äº¡é˜¶æ®µâ€œï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™äº›é˜¶æ®µï¼Œç®€å•ç†è§£ä¸ºç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸçš„é˜¶æ®µï¼Œå½“ç„¶ï¼Œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé˜¶æ®µä¸æ­¢â€œè¯ç”Ÿâ€å’Œâ€œæ­»äº¡â€ï¼Œå°±å¥½æ¯”ä½ çš„ä¸€ç”Ÿä¼šæœ‰è®¸å¤šé‡è¦çš„é˜¶æ®µã€‚è¯´äº†é‚£ä¹ˆå¤šåºŸè¯çŸ¥è¯†ï¼Œæˆ‘ä»¬å†æ¥ç†è§£ä¸‹ä»€ä¹ˆæ˜¯å•é¡µåº”ç”¨ã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œå½“æˆ‘ä»¬åœ¨Vueåº”ç”¨ä¸­ç‚¹å‡»å¯¼èˆªæ çš„èœå•åˆ‡æ¢é¡µé¢æ—¶ï¼Œé¡µé¢ä¸­å‘ç”Ÿçš„äº‹æƒ…æ—¶ï¼ŒåŸæ¥çš„ç»„ä»¶éƒ½è¢«é”€æ¯äº†ï¼Œè€Œå–è€Œä»£ä¹‹çš„æ˜¯æ–°çš„ç»„ä»¶è¢«åˆ›å»ºäº†å‡ºæ¥ï¼Œè€Œä¸åƒæˆ‘ä»¬ä¹‹å‰å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè·³è½¬åˆ°äº†å¦ä¸€ä¸ªhtmlæ–‡ä»¶ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯æå¤§çš„å¢åŠ äº†ç”¨æˆ·ä½“éªŒï¼Œå› ä¸ºç”¨æˆ·å¹¶ä¸ç”¨ç­‰å¾…ç½‘é¡µåŠ è½½äº†ï¼Œæ•´ä¸ªä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šæ„Ÿè§‰ååˆ†æµç•…ã€‚ 2.3 Vueçš„ä¸€äº›åŸç†ä½¿ç”¨vueä¼šè®©äººæ„Ÿåˆ°èº«å¿ƒæ„‰æ‚¦,å®ƒåŒæ—¶å…·å¤‡angularå’Œreactçš„ä¼˜ç‚¹,è½»é‡çº§,apiç®€å•,æ–‡æ¡£é½å…¨,ç®€å•å¼ºå¤§,éº»é›€è™½å°äº”è„ä¿±å…¨ã€‚æŒ‰å®˜æ–¹çš„è¯æ¥è¯´Vueæ˜¯ä¸€å¥—æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼æ¡†æ¶ã€‚ é‚£ä¹ˆ,æ€æ ·ç†è§£ä»€ä¹ˆæ˜¯æ¸è¿›å¼æ¡†æ¶ï¼Ÿåœ¨è¿™ä¹‹å‰,æˆ‘ä»¬é¦–å…ˆè¦ç†è§£ä»€ä¹ˆæ˜¯æ¡†æ¶ã€‚åœ¨æœ€åˆçš„å‰ç«¯å¼€å‘ä¸­ï¼Œä¸ºäº†å®ŒæˆæŸä¸ªåŠŸèƒ½,æˆ‘ä»¬éœ€è¦é€šè¿‡jsåœ¨HTMLé¡µé¢ä¸­è·å¾—domèŠ‚ç‚¹ï¼Œéšåè·å¾—domèŠ‚ç‚¹ä¸­çš„æ–‡æœ¬å†…å®¹æˆ–è€…åœ¨domèŠ‚ç‚¹ä¸Šæ·»åŠ äº‹ä»¶,è¿›è¡Œä¸€ç³»åˆ—çš„ç¨‹åºæ“ä½œï¼Œä½†æ˜¯,å¦‚æœä»»åŠ¡é‡å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œä»£ç ä¼šéšç€ä¸šåŠ¡çš„å¢åŠ è€Œå˜å¾—è‡ƒè‚¿å’Œæ··ä¹±,åœ¨ç°å®çš„å¼€å‘ä¸­,è´Ÿè´£çš„é€»è¾‘å’Œå·¨å¤§çš„å¼€å‘é‡ï¼Œæ˜¯åŸç”Ÿjsæ— æ³•å®Œæˆçš„ã€‚ è¿™ä¸ªæ—¶å€™,å¼€å‘äººå‘˜å°†jsä»£ç åˆ†ä¸ºäº†ä¸‰ä¸ªæ¿å—,æ•°æ®(Model),é€»è¾‘æ§åˆ¶(*),è§†å›¾(View),æ•°æ®æ¿å—åªè´Ÿè´£æ•°æ®éƒ¨åˆ†,è§†å›¾æ¿å—è´Ÿè´£æ›´æ”¹æ ·å¼,é€»è¾‘æ§åˆ¶è´Ÿè´£è”ç³»è§†å›¾æ¿å—å’Œæ•°æ®æ¿å—,è¿™æ ·å­æœ‰å¾ˆå¤§çš„å¥½å¤„,å½“éœ€æ±‚å‘ç”Ÿå˜åŠ¨æ—¶,åªéœ€è¦ä¿®æ”¹å¯¹åº”çš„æ¿å—å°±å¥½ è¿™ç§å¼€å‘æ¨¡å¼ï¼Œå°±æ˜¯æ‰€è°“çš„MVç»“æ„ï¼Œæˆ‘ä»¬ç°åœ¨äº†è§£çš„MVCï¼ŒMVPï¼ŒMVVMéƒ½æ˜¯MVçš„è¡ç”Ÿç‰©ï¼Œå¯¹æ¯”è¿™å‡ ç§æ¡†æ¶æ¨¡å¼ï¼Œæˆ‘ä»¬ä¼šæ€»ç»“å‡ºæ¥ä¸€ä¸ªæœ¬è´¨çš„ç‰¹ç‚¹ï¼Œé‚£å°±æ˜¯è¿™äº›å¼€å‘æ¨¡å¼éƒ½æ˜¯è®©è§†å›¾å’Œæ•°æ®é—´ä¸ä¼šå‘ç”Ÿç›´æ¥è”ç³»ï¼å¯¹æ¯”ç”¨åŸç”ŸJSè·å¾—domçš„æ“ä½œï¼Œä½ ä¼šå‘ç°åŸç”Ÿdomæµå…¶å®æ˜¯å°†domä½œä¸ºæ•°æ®ï¼Œä»domä¸­è·å¾—Modelï¼Œéšååˆæ›´æ”¹domæ¥å®ç°æ›´æ–°è§†å›¾ï¼Œè§†å›¾å’Œæ¨¡å‹å…¶å®æ··åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ä»£ç è‡ªç„¶æ··ä¹±ï¼Œä¸æ˜“ç»´æŠ¤ã€‚ ä¸‰ã€é¡¹ç›®è§£æé¦–å…ˆï¼Œæˆ‘å…ˆæ¥å¸¦ä½ çœ‹ä¸‹é¡¹ç›®å¤§è‡´çš„ç»“æ„ç›®å½• æˆ‘ä»¬å¤§è‡´çœ‹ä¸€ä¸‹ï¼Œå„éƒ¨åˆ†åˆ†åˆ«æ˜¯å¹²ä»€ä¹ˆçš„ â”œâ”€â”€ build // æ„å»ºæœåŠ¡å’Œ webpack é…ç½® â”œâ”€â”€ config // é¡¹ç›®ä¸åŒç¯å¢ƒçš„é…ç½® â”œâ”€â”€ index.html // é¡¹ç›®å…¥å£æ–‡ä»¶ â”œâ”€â”€ package.json // é¡¹ç›®é…ç½®æ–‡ä»¶ â”œâ”€â”€ static // æ”¾ç½®é™æ€èµ„æº â”œâ”€â”€ src // ç”Ÿäº§ç›®å½• â”‚ â”œâ”€â”€ api // apiè¯·æ±‚ â”‚ â”œâ”€â”€ assets // å…¬å…±çš„images, fontsï¼Œ jsèµ„æº â”‚ â”œâ”€â”€ components // å„ç§ç»„ä»¶ â”‚ â”œâ”€â”€ store // vuexçŠ¶æ€ç®¡ç† â”‚ â”œâ”€â”€ App.vue // ä¸»é¡µé¢ â”‚ â”œâ”€â”€ router // è·¯ç”±é…ç½® â”‚ â””â”€â”€ main.js // Webpack é¢„ç¼–è¯‘å…¥å£ æœ¬æ–‡ä¸»è¦ä»¥ä»‹ç»srcç›®å½•ä¸‹çš„çš„ç›®å½•ä¸ºä¸» 3.1 apiè¿™é‡Œæˆ‘åªè¿›è¡Œç®€å•çš„æ–‡å­—è¯´æ˜ï¼Œå…·ä½“çš„ä»£ç è¯·è‡ªè¡Œé˜…è¯»é¡¹ç›®ã€‚ å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œapiä¸­æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œconfig.jsä¸index.js config.jså¯ä»¥ç†è§£ä¸ºå°†apiå®šä¹‰ä¸ºå¸¸é‡ï¼Œè¿™æ ·å½“æˆ‘ä»¬è°ƒç”¨apiçš„æ—¶å€™ï¼Œå°±ä¸ç”¨ç¹ççš„å°†ä¸€ä¸²urlè¾“å…¥ï¼Œè€Œæ˜¯è°ƒç”¨å¯¹åº”çš„å˜é‡åã€‚è¿™æ ·åšä¸ä»…ç®€ä¾¿è€Œä¸”ä»£ç å…·æœ‰ç›¸å½“é«˜çš„å¯è¯»æ€§ Index.jsé‡Œå­˜æ”¾ç€ä¸€ä¸ªä¸ªè°ƒç”¨apiè¯·æ±‚çš„å‡½æ•°ï¼Œæœ¬é¡¹ç›®ä½¿ç”¨npmä¸Šçš„axiosè¿›è¡Œhttpè¯·æ±‚ã€‚å¦‚æœå¯¹æ­¤æ²¡æœ‰åŸºç¡€ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºæœ¬æ–‡ä»¶ä¸­çš„ä¸€ä¸ªä¸ªå‡½æ•°é€šè¿‡config.jsé‡Œçš„apiå¸¸é‡ï¼Œé€šè¿‡httpè¯·æ±‚è·å–åˆ°ç›¸åº”çš„æ•°æ®ã€‚ 3.2 assetsassetsä¸­å­˜æ”¾äº†å¯ä»¥é€šç”¨çš„ä¸€äº›èµ„æºï¼Œæ¯”å¦‚å­—ä½“ï¼Œå›¾ç‰‡ï¼ˆå¦‚ç½‘ç«™logoï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ä¼šç”¨åˆ°ï¼‰ï¼Œè¿˜æœ‰ä¸€äº›utilå‡½æ•° 3.3 componentsComponentå³ä¸ºç»„ä»¶ï¼Œè¿™ä¸ªæ¦‚å¿µåœ¨å‰æ–‡å·²ç»è¯´çš„å¾ˆè¯¦ç»†äº†ï¼Œå°±ä¸å†è¿‡å¤šèµ˜è¿°ã€‚ å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œé‡Œé¢æ”¾ç€å„ä¸ªæ¿å—ç›¸åº”çš„ç»„ä»¶ï¼Œå…¶ä¸­commonæ˜¯å¯ä»¥ç”¨æ¥é€šç”¨çš„ç»„ä»¶ï¼Œå³ä¸åŒé¡µé¢ä¸­ç›¸åŒçš„ç»„ä»¶ï¼Œæ”¾åœ¨commonä¸­ä¾¿äºé‡ç”¨ã€‚ 3.4 routerå¦‚æœä½ æœ‰javaå¼€å‘åç«¯çš„åŸºç¡€ï¼Œé‚£å¯¹routeråº”è¯¥ä¸ä¼šé™Œç”Ÿ routerï¼ˆè·¯ç”±ï¼‰ï¼Œå…¶å®å°±æ˜¯æŒ‡å‘çš„æ„æ€ï¼Œå½“æˆ‘ç‚¹å‡»é¡µé¢ä¸Šçš„homeæŒ‰é’®æ—¶ï¼Œé¡µé¢ä¸­å°±è¦æ˜¾ç¤ºhomeçš„å†…å®¹ï¼Œå¦‚æœç‚¹å‡»é¡µé¢ä¸Šçš„about æŒ‰é’®ï¼Œé¡µé¢ä¸­å°±è¦æ˜¾ç¤ºabout çš„å†…å®¹ã€‚HomeæŒ‰é’® =&gt; home å†…å®¹ï¼Œ aboutæŒ‰é’® =&gt; about å†…å®¹ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ç§æ˜ å°„. æ‰€ä»¥åœ¨é¡µé¢ä¸Šæœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ç‚¹å‡»éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯ç‚¹å‡»ä¹‹åï¼Œæ˜¾ç¤ºå†…å®¹çš„éƒ¨åˆ†ã€‚ è¿™æ˜¯æˆ‘ä»¬è®¿é—®homeé¡µé¢æ˜¯ï¼Œåœ°å€æ çš„url å¯ä»¥çœ‹åˆ°ï¼Œè®¿é—®æ—¶çš„urlï¼Œä¸html+css+jså¼€å‘ç½‘é¡µæ—¶æœ‰æ‰€ä¸åŒï¼Œå½“æˆ‘ä»¬ä½¿ç”¨html+css+jså¼€å‘ç½‘é¡µæ—¶ï¼Œåœ°å€æ æ˜¯localhost:3000/home.htmlè¿™ç§å½¢å¼(å¦‚æœä½ ç”¨è¿‡jspå¼€å‘ï¼Œé‚£åé¢ä¼šæ˜¯.jsp)ï¼Œå› ä¸ºæˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œå½“é¡µé¢è·³è½¬æ—¶ï¼Œå®ƒçš„æœ¬è´¨æ˜¯åŠ è½½ä¸åŒçš„htmlæ–‡ä»¶ï¼Œè€Œä¸æ˜¯åƒvueè¿™æ ·ï¼Œé€šè¿‡è·¯ç”±æ¥æ§åˆ¶ä¸åŒçš„ç»„ä»¶åˆ›å»ºä¸é”€æ¯ 3.5 storeè¿™åº”è¯¥æ˜¯æ¯”è¾ƒéš¾çš„ä¸€å—ï¼Œæ¶‰åŠåˆ°æ•°æ®ç®¡ç†æ¡†æ¶ï¼Œvueä¸­ä½¿ç”¨vuexæ¥è¿›è¡Œæ•°æ®ç®¡ç†ï¼Œå¦‚æœè¦ç»†è®²vuexï¼Œé‚£å¯èƒ½ä¼šéœ€è¦æå¤§çš„ç¯‡å¹…ã€‚ è¿™é‡Œæˆ‘åªä¼šå¸®åŠ©ä½ å¤§è‡´çš„ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªstoreç†è§£ä¸ºvuexåœ¨æµè§ˆå™¨ä¸­åˆ›å»ºçš„ä¸€ä¸ªæ•°æ®ä»“åº“ã€‚ è¿™æ ·åšçš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çš„webåº”ç”¨ï¼Œå†…å®¹æ¯”è¾ƒä¸°å¯Œçš„æ—¶å€™ï¼Œè®¸å¤šåœ°æ–¹å¯èƒ½ä¼šç”¨åˆ°é‡å¤çš„æ•°æ®ï¼Œé‚£å¦‚æœæ²¡æœ‰æ•°æ®ç®¡ç†ï¼Œæˆ‘ä»¬ä¼šéœ€è¦åœ¨æ¯ä¸€æ¬¡éœ€è¦æ•°æ®çš„æ—¶å€™ï¼Œéƒ½è¿›è¡Œhttpè¯·æ±‚è·å–æ•°æ®ï¼ˆå› ä¸ºè®¸å¤šç»„ä»¶æ˜¯ä¸ä¼šäº’é€šçš„ï¼‰ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä¼šå¤§å¤§å¢åŠ æ€§èƒ½å¼€é”€ å½“æˆ‘ä»¬ä½¿ç”¨vuexåï¼Œåªéœ€è¦å°†è·å–åˆ°å¯èƒ½ä¼šé‡ç”¨çš„æ•°æ®å­˜å…¥vuexå»ºç«‹çš„storeä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡ä½¿ç”¨ï¼Œè€Œä¸”åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡chromeçš„æ’ä»¶çœ‹åˆ°å®ƒçš„å†…å®¹ï¼Œä¹Ÿä¸ºå¼€å‘å¸¦æ¥è®¸å¤šä¾¿åˆ©ã€‚ æ€»ç»“ä»¥ä¸Šä¸ºæˆ‘å¯¹å‰ç«¯æ¡†æ¶çš„ä¸€äº›ç†è§£ï¼Œåç»­å¯èƒ½ä¼šæœ‰è¡¥å……ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"Node.jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ","slug":"Node-jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ","date":"2019-01-12T12:37:13.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2019/01/12/Node-jsé¡¹ç›®çº¿ä¸ŠæœåŠ¡å™¨éƒ¨ç½²ä¸å‘å¸ƒ/","link":"","permalink":"http://yoursite.com/2019/01/12/Node-js%E9%A1%B9%E7%9B%AE%E7%BA%BF%E4%B8%8A%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2%E4%B8%8E%E5%8F%91%E5%B8%83/","excerpt":"","text":"ssh é…ç½®å…¬é’¥ å’Œå¯†é’¥ å¯ä»¥ç™»å½•æœåŠ¡å™¨ä¸éœ€è¦å¯†ç çœ‹æ˜¯å¦å·²ç»å­˜åœ¨å…¬é’¥å’Œå¯†é’¥çœ‹ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ˜¯å¦å­˜åœ¨ ctrl +d é€€å‡ºç”¨æˆ·sudo rm -f xxx åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ 12//è¿æ¥ssh ubuntu@ipåœ°å€ 123// å…ˆç»™rootä¸€ä¸ªå¯†ç sudo passwd root// ç„¶ååˆ‡æ¢åˆ°root su root 12345678910//åœ¨rootä¸‹sudo adduser lizhihaoå¢åŠ ä¸€ä¸ªç”¨æˆ·//ç„¶ååœ¨rootä¸‹ç»™skl sudo æƒé™ gpasswd -a lizhihao sudo // sudo visudo å¢åŠ ä¸‹é¢çš„lizhihao ctrl +Xä¿å­˜ ä¹‹åshift+Y enter é€€å‡º å¯ä»¥åœ¨root ä¸‹è¿›å…¥skl ç”¨æˆ· su sklæˆ–è€… sudo su lizhihao 12//é‡å¯æœåŠ¡ sudo service ssh restart 12//ç”Ÿæˆå…¬é’¥å’Œç§é’¥ ssh-keygen -t rsa -C &quot;lizhihao@qq.com&quot; 12//é…ç½®æ–‡ä»¶ ä¿®æ”¹é»˜è®¤ç«¯å£sudo vi /etc/ssh/sshd_config æ”¹è¿‡ç«¯å£å è¿æ¥æœåŠ¡å™¨ä¼šè¿ä¸ä¸Šå‡ºç° : ssh: connect to host ipåœ°å€ port 22: Connection refused è¿™æ—¶å€™å°±è¦è™šå…¥è¾“å…¥ç«¯å£å·äº† ssh -p 8888 ubuntu@ipåœ°å€(8888æ˜¯åˆšåˆšæ”¹è¿‡çš„ç«¯å£) 123456789//æ›´æ–°sudo apt-get update//å®‰è£…ä¸€äº›sudo apt-get install vim openssl build-essential libssl-dev wget curl git//æ‰¾åˆ°githubä¸Šçš„nvm https://github.com/creationix/nvmæ‰¾åˆ°å®‰è£…è„šæœ¬ curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.8/install.sh | bash è£…å®Œåè‹¥å‘ç°nvm ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ åœ¨æ¥ä¸€ä¸ªå‘½ä»¤çª—å£ å®‰è£…å¥½nvm å°±å¯ä»¥å®‰è£…nodejsäº† nvm install v8.2.1 æŒ‡å®šä¸€ä¸‹nodeç‰ˆæœ¬nvm use v8.2.2 è®¾ç½®ä¸€ä¸‹é»˜è®¤nvm alias default v8.2.1 è®¾ç½®æˆæ·˜å®ç”¨ä¸€ä¸ªnrm åŒ…npm â€”registry=http://registry.npm.taobao.org install -g nrm nrm use taobao å®‰è£…ä¸€äº›åŒ… npm i pm2 webpack gulp grunt-cli -g æŸ¥çœ‹å…¨å±€å®‰è£…è¿‡çš„åŒ… npm list -g -depth 0 åˆ›å»º app.js å¦‚ä¸‹ åˆ›å»º sudo vi app.js12345678var http=require(&#x27;http&#x27;);var server=http.createServer(function (req,res) &#123; res.writeHead(200,&#123;&#x27;Content-Type&#x27;:&#x27;text/plain&#x27;&#125;) res.end(&#x27;Hello SKL\\n&#x27;);&#125;)server.listen(8081);console.log(&#x27;Server running at http://ipåœ°å€:8081&#x27;); ä¹‹å node app.jså°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—® 127.0.0.1:8081 ä½¿ç”¨nginx 80ç«¯å£ åœæ­¢apache æœåŠ¡ sudo service apache2 stop 12345ç§»é™¤Apache 2sudo update-rc.d -f apache2 removesudo apt-get remove apache2 12ä¸‹è½½ nginx sudo apt-get install nginx é…ç½® cd /etc/nginx/ cd conf.d sudo vi lizhihao-cn-8081.confå†™å…¥123456789101112131415161718192021upstream blog&#123; server 127.0.0.1:8081;&#125;# NGINX Server Instance,PORT 80server &#123; listen 80; server_name ipåœ°å€; # Proxy to the Node instance location / &#123; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; proxy_pass http://blog; proxy_redirect off; &#125; &#125; 4.sudo nginx -t æµ‹è¯•æ˜¯å¦æˆåŠŸ sudo nginx -s reload é‡å¯ nginx ä¹‹åè¾“å…¥ipåœ°å€ å°±å¯ä»¥çœ‹åˆ°äº† æŠŠ8081 çš„æœåŠ¡éƒ½å¯¼å‘åˆ°Nginxçš„80ç«¯å£ è®© Nginxçš„ç‰ˆæœ¬ä¿¡æ¯åœ¨æµè§ˆå™¨çš„å¤´ä¿¡æ¯ä¸­ä¸é‚£ä¹ˆæ˜æ˜¾ 123cd /etc/nginxsudo vi nginx.confå»æ‰ä¸‹é¢é…ç½®æ–‡ä»¶å‰çš„# ä¿å­˜ å»æ‰ç„¶å sudo service nginx reload MongoDB ubuntu16.04https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/ 1234567891011121314å‘½ä»¤ï¼šxxxxsudo apt-get install -y mongodb-orgå…¶ä¸­è¿™ä¸€æ­¥é€Ÿåº¦å¾ˆæ…¢ï¼Œæ”¹æˆé˜¿é‡Œäº‘çš„è¿æ¥cd /etc/apt/sources.list.dvi mongodb-org-3.4.list (æ³¨æ„çœ‹å®‰è£…æ—¶çš„ç‰ˆæœ¬)æ”¹æˆï¼šdeb [ arch=amd64,arm64 ] http://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.6 multiverseå‘½ä»¤ï¼š// æ”¹è¿‡é•œåƒåè¦upadteä¸€ä¸‹xxxxxxxxxx 12sudo service mongod startä¹‹å mongoå°±å¯åŠ¨äº† 123è‹¥é‡åˆ°æ— æ³•å†™å…¥ã€‚åŠ sudo mongodb é»˜è®¤è·‘åœ¨27017 ç«¯å£ä¸Š 123//ä¿®æ”¹sudo vi /etc/mongod.confport æ”¹æˆäº†19997 æ–‡ä»¶ä¸Šä¼ 12scp ./test.html lizhihao@ipåœ°å€0:/home/lizhihao/testscp -P 8888 ant-mobile-recruit-app.tar lizhihao@ipåœ°å€:/home/lizhihao/ æ‰“åŒ… tar12345678910-c ï¼š æ‰“åŒ…-v ï¼š æ˜¾ç¤ºè¿‡ç¨‹-f ï¼š æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶å-x : è§£æ‰“åŒ…-zï¼šå‹ç¼©ä¸º.tar.gzæ ¼å¼ 1234567//å‹ç¼©tar -cvf japan.tar japantar -zcvf japan.tar.gz japan//è§£å‹tar -xvf japan.tartar -zxvf japan.tar é…ç½®å¯ä»¥è®©åŸŸåè®¿é—®æœåŠ¡å™¨1234567891011121314151617181920212223cd /etc/nginx/conf.dsudo mv lizhihao-cn-8081.conf www-lizhihao-cn-3000.confä¿®æ”¹é…ç½®æ–‡ä»¶upstream blog&#123; server 127.0.0.1:3000; &#125; # NGINX Server Instance,PORT 80 server &#123; listen 80; server_name www.lizhihao.cn; # Proxy to the Node instance location / &#123; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; proxy_pass http://blog; proxy_redirect off; &#125; &#125; // é‡å¯nginxsudo nginx -s reload é…ä¸€ä¸‹é˜²ç«å¢™123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354sudo apt-get update &amp;&amp; sudo apt-get upgradesudo iptables -F //å…ˆæ¸…æ‰æ‰€æœ‰çš„è§„åˆ™sudo vi /etc/iptables.up.rules------------------------------------------ *filter# å…è®¸æ‰€æœ‰å»ºç«‹èµ·æ¥çš„è¿æ¥-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT# å…è®¸æ‰€æœ‰å‡ºå»çš„æµé‡-A OUTPUT -j ACCEPT-A INPUT -p tcp --dport 443 -j ACCEPT-A INPUT -p tcp --dport 80 -j ACCEPT# ping-A INPUT -p icmp -m icmp --icmp-type 8 -j ACCEPT# allow ssh port login-A INPUT -p tcp -m state --state NEW --dport 8888 -j ACCEPT# MongoDB connection-A INPUT -s 127.0.0.1 -p tcp --destination-port 27017 -m state --state NEW,ESTABLISHED -j ACCEPT-A OUTPUT -d 127.0.0.1 -p tcp --source-port 27017 -m state --state ESTABLISHED -j ACCEPT# 3000ç«¯å£-A INPUT -s 127.0.0.1 -p tcp --destination-port 3000 -m state --state NEW,ESTABLISHED -j ACCEPT-A OUTPUT -d 127.0.0.1 -p tcp --source-port 3000 -m state --state ESTABLISHED -j ACCEPT# 9093ç«¯å£-A INPUT -s 127.0.0.1 -p tcp --destination-port 9093 -m state --state NEW,ESTABLISHED -j ACCEPT-A OUTPUT -d 127.0.0.1 -p tcp --source-port 9093 -m state --state ESTABLISHED -j ACCEPT# è®°å½•è¢«æ‹’ç»çš„è¯·æ±‚-A INPUT -m limit --limit 5/min -j LOG --log-prefix &quot;iptables denied:&quot; --log-level 7# drop incoming sensitive connections-A INPUT -p tcp --dport 80 -i eth0 -m state --state NEW -m recent --set-A INPUT -p tcp --dport 80 -i eth0 -m state --state NEW -m recent --update --seconds 60 --hitcount 150 -j DROP# reject all other inbound-A INPUT -j REJECT-A FORWARD -j REJECTCOMMIT -------------------------------------------sudo iptables-restore &lt;/etc/iptables.up.rules //è½½å…¥è§„åˆ™sudo ufw status //æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€sudo ufw enable //æ¿€æ´»sudo vi /etc/network/if-up.d/iptables //è®©ä»–å¼€æœºè‡ªåŠ¨å¯åŠ¨Â·-----------------------------------#!/bin/shiptables-restore /etc/iptables.up.rulea-----------------------------------------------------sudo chmod +x /etc/network/if-up.d/iptables### å‡ºç°invalid host headerçš„é—®é¢˜ 123// reactçš„è¯åœ¨configé‡Œé¢çš„webpackDevServer.config.jsé‡Œé¢åŠ ä¸€ä¸ªdisableHostCheck: true httpsé…ç½®123456789101112131415161718192021222324252627282930313233343536373839// åœ¨è…¾è®¯äº‘ä¸Šç”³è¯·è¯ä¹¦(å…·ä½“è¯¦è§æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/product/400/4143)// æŠŠè¯ä¹¦ä¸‹è½½ä¸‹æ¥ä¸Šä¼ åˆ°æœåŠ¡å™¨// ä¿®æ”¹é…ç½®æ–‡ä»¶upstream blog&#123; server 127.0.0.1:3000;&#125;# NGINX Server Instance,PORT 80server &#123; listen 80; server_name www.lizhihao.cn; # rewrite ^(.*) https://$host$1 permanent; return 301 https://www.lizhihao.cn$request_uri;&#125;server &#123; listen 443; server_name www.lizhihao.cn; #å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå ssl on; ssl_certificate /home/lizhihao/https-key/1_www.lizhihao.cn_bundle.crt; ssl_certificate_key /home/lizhihao/https-key/2_www.lizhihao.cn.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #æŒ‰ç…§è¿™ä¸ªåè®®é…ç½® ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE; #æŒ‰ç…§è¿™ä¸ªå¥—ä»¶é…ç½® ssl_prefer_server_ciphers on; # if($ssl_protocol = &quot;&quot;)&#123; # rewrite ^(.*) https://$host$1 permanent; # &#125;# Proxy to the Node instancelocation / &#123; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-NginX-Proxy true; proxy_pass http://blog; proxy_redirect off; &#125;&#125;æµ‹è¯•nginx é‡å¯nginx node åç«¯å¯åŠ¨123nohup npm start &amp;https://segmentfault.com/q/1010000004455598lsof -i æŸ¥çœ‹ç«¯å£","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yoursite.com/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"},{"name":"node","slug":"node","permalink":"http://yoursite.com/tags/node/"},{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yoursite.com/tags/%E8%BF%90%E7%BB%B4/"}]},{"title":"pythonä¹‹å‡½æ•°ä½¿ç”¨","slug":"pythonä¹‹å‡½æ•°ä½¿ç”¨","date":"2018-10-11T07:25:23.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2018/10/11/pythonä¹‹å‡½æ•°ä½¿ç”¨/","link":"","permalink":"http://yoursite.com/2018/10/11/python%E4%B9%8B%E5%87%BD%E6%95%B0%E4%BD%BF%E7%94%A8/","excerpt":"","text":"ä¸€ã€Pythonè‡ªå®šä¹‰å‡½æ•°çš„ç®€å•ä½¿ç”¨ä¸å…¶ä»–è®¸å¤šè¯­è¨€ç›¸ä¼¼ï¼Œå‡½æ•°æ˜¯ç»„ç»‡å¥½çš„ï¼Œå¯é‡å¤ä½¿ç”¨çš„ï¼Œç”¨æ¥å®ç°å•ä¸€ï¼Œæˆ–ç›¸å…³è”åŠŸèƒ½çš„ä»£ç æ®µã€‚ pythonä¸­å‡½æ•°å®šä¹‰çš„è§„åˆ™ï¼ŒåŸºæœ¬ç”±ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ç»„æˆï¼š å‡½æ•°ä»£ç å—ä»¥ def å…³é”®è¯å¼€å¤´ï¼Œåæ¥å‡½æ•°æ ‡è¯†ç¬¦åç§°å’Œåœ†æ‹¬å·() ä»»ä½•ä¼ å…¥å‚æ•°å’Œè‡ªå˜é‡å¿…é¡»æ”¾åœ¨åœ†æ‹¬å·ä¸­é—´ã€‚åœ†æ‹¬å·ä¹‹é—´å¯ä»¥ç”¨äºå®šä¹‰å‚æ•° å‡½æ•°çš„ç¬¬ä¸€è¡Œè¯­å¥å¯ä»¥é€‰æ‹©æ€§åœ°ä½¿ç”¨æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆç”¨äºå­˜æ”¾å‡½æ•°è¯´æ˜ï¼‰ return [è¡¨è¾¾å¼] ç»“æŸå‡½æ•°ï¼Œé€‰æ‹©æ€§åœ°è¿”å›ä¸€ä¸ªå€¼ç»™è°ƒç”¨æ–¹ã€‚ä¸å¸¦è¡¨è¾¾å¼çš„ return ç›¸å½“äºè¿”å› Noneã€‚ è¯­æ³•ç¤ºä¾‹ï¼š 1234def fn( parameters ): &#x27;&#x27;&#x27;å‡½æ•°_æ–‡æ¡£å­—ç¬¦ä¸²&#x27;&#x27;&#x27; function_suite return [expression] å®ä¾‹ï¼š 123456def sum(num1,num2): &quot;ä¸¤æ•°ä¹‹å’Œ&quot; return num1+num2# è°ƒç”¨å‡½æ•°print(sum(1,2)) è¾“å‡ºç»“æœï¼š 13 äºŒã€å‡½æ•°çš„ä¼ å€¼ä¸ä¼ åœ°å€å‡½æ•°çš„ä¼ å€¼ä¸ä¼ åœ°å€ä»å­—é¢æ„æ€æ¥çœ‹å¾ˆå¥½ç†è§£ï¼Œä¼ å€¼å°±æ˜¯ä¼ å…¥ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œä¼ å€å°±æ˜¯ä¼ å…¥ä¸€ä¸ªå‚æ•°çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯å†…å­˜çš„åœ°å€ï¼ˆç›¸å½“äºæŒ‡é’ˆï¼‰ã€‚ä»–ä»¬çš„åŒºåˆ«æ˜¯å¦‚æœå‡½æ•°é‡Œé¢å¯¹ä¼ å…¥çš„å‚æ•°é‡æ–°èµ‹å€¼ï¼Œå‡½æ•°å¤–çš„å…¨å±€å˜é‡æ˜¯å¦ç›¸åº”æ”¹å˜ï¼Œç”¨ä¼ å€¼ä¼ å…¥çš„å‚æ•°æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œç”¨ä¼ å€ä¼ å…¥å°±ä¼šå‘ç”Ÿæ”¹å˜ã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„ä¾‹å­ï¼š 1234567891011121314def afferentValue(num): num = 2def afferentAddress(list): list.append(2)num = 1list = [1]# æ‰§è¡Œå‡½æ•°afferentValue(num)afferentAddress(list)print(num)print(list) è¾“å‡ºç»“æœï¼š 121[1, 2] ä»ä»¥ä¸Šçš„å®ä¾‹çœ‹å‡ºï¼Œå½“å°†å˜é‡ä¼ å…¥å‡½æ•°æ—¶ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹åï¼Œåœ¨å‡½æ•°ä½œç”¨åŸŸå¤–æ‰“å°ä¼ å…¥å‡½æ•°çš„å˜é‡ï¼ŒNumberç±»å‹çš„å˜é‡å¹¶æ²¡æœ‰ä¿®æ”¹æˆåŠŸï¼ŒListç±»å‹çš„å˜é‡ä¿®æ”¹æˆåŠŸï¼Œè¿™å°±æ˜¯ï¼Œä¼ å€¼ä¸ä¼ åœ°å€çš„åŒºåˆ« pythonçš„ä¼ å€¼å’Œä¼ å€æ˜¯æ ¹æ®ä¼ å…¥å‚æ•°çš„ç±»å‹æ¥é€‰æ‹©çš„ï¼Œä¼ å€¼çš„å‚æ•°ç±»å‹ï¼šæ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œå…ƒç»„ï¼Œä¼ å€çš„å‚æ•°ç±»å‹ï¼šåˆ—è¡¨ï¼Œå­—å…¸ ä¸‰ã€å‡½æ•°çš„è¿”å›å€¼ä¸è®¸å¤šè¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒPythonçš„å‡½æ•°è¿”å›å€¼å¯ä»¥æœ‰å¤šä¸ªï¼Œå½“è¿”å›å€¼ä¸ºå¤šä¸ªæ—¶ï¼Œè¿”å›çš„ç»“æœä¸º1ä¸ªå…ƒç»„ ç¤ºä¾‹ï¼š 1234def returnTest(num1, num2): return num1, num2print(returnTest(1, 2)) è¾“å‡ºç»“æœï¼š 1(1, 2) å››ã€å‡½æ•°çš„å‚æ•°1ã€ä½ç½®å‚æ•°å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯ä½ç½®å‚æ•°ï¼Œä¾‹å­å¦‚ä¸‹ï¼š 1234def userInfo(name, age, sex): print(&#x27;å§“å:%s, å¹´é¾„: %d, æ€§åˆ«: sex: %s&#x27; % (name, age, sex))userInfo(&#x27;æXX&#x27;, 18, &#x27;ç”·&#x27;) è¾“å‡ºç»“æœï¼š 1å§“å:æXX, å¹´é¾„: 18, æ€§åˆ«: sex: ç”· æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ä½ç½®å‚æ•°ï¼ŒåŸå› æ˜¾è€Œæ˜“è§ï¼Œæœ‰æ—¶æˆ‘ä»¬åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¿…é¡»æŒ‰ç…§é¡ºåºè¾“å…¥å‚æ•°ï¼Œå¦åˆ™è¾“å‡ºçš„ä¿¡æ¯ä¸é¢„æ–™ä¸­ä¼šæœ‰å‡ºå…¥ã€‚ 2ã€å…³é”®å­—å‚æ•°å‰é¢è¯´äº†ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬ç”¨çš„æ˜¯ä½ç½®å‚æ•°ï¼Œä½†æ˜¯å¦‚æœå‚æ•°å¾ˆå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨æ—¶å¯èƒ½å¾ˆéš¾è®°ä½å‚æ•°çš„é¡ºåºï¼Œæˆ‘ä»¬å¼•å…¥å…³é”®å­—å‚æ•°å³ä½¿ç”¨å‚æ•°åæä¾›çš„å‚æ•°ï¼Œåœ¨äºæ˜ç¡®æ¯ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œä½¿å¾—å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œå‚æ•°çš„å«ä¹‰å˜å¾—æ›´åŠ æ¸…æ™°ã€‚ å®ä¾‹ï¼š 1234def userInfo(name, age, sex): print(&#x27;å§“å:%s, å¹´é¾„: %d, æ€§åˆ«: sex: %s&#x27; % (name, age, sex))userInfo(name=&#x27;æXX&#x27;, sex=&#x27;ç”·&#x27;, age=18) è¾“å‡ºç»“æœï¼š 1å§“å:æXX, å¹´é¾„: 18, æ€§åˆ«: sex: ç”· å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬ä½¿ç”¨å…³é”®å­—å‚æ•°åï¼Œä¼ å‚çš„é¡ºåºæ‰“ä¹±ï¼Œä½†æ˜¯è¾“å‡ºçš„ç»“æœä¸ä½¿ç”¨ä½ç½®å‚æ•°æ—¶ä¸€æ ·ï¼Œè¿™å°±æ˜¯å…³é”®å­—å‚æ•°çš„å¥‡å¦™ä¹‹å¤„ 3ã€é»˜è®¤å€¼å‚æ•°æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°ä¸­ï¼Œå¦‚æœè°ƒç”¨çš„æ—¶å€™æ²¡æœ‰è®¾ç½®å‚æ•°ï¼Œéœ€è¦ç»™ä¸ªé»˜è®¤å€¼ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°é»˜è®¤å€¼å‚æ•°äº†ã€‚ ç¤ºä¾‹: 1234def userInfo(name, age, sex=&#x27;ç”·&#x27;): print(&#x27;å§“å:%s, å¹´é¾„: %d, æ€§åˆ«: sex: %s&#x27; % (name, age, sex))userInfo(&#x27;æXX&#x27;, 18) è¾“å‡ºç»“æœï¼š 1å§“å:æXX, å¹´é¾„: 18, æ€§åˆ«: sex: ç”· ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œå½“ä½ è®¾ç½®äº†é»˜è®¤å‚æ•°çš„æ—¶å€™ï¼Œåœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œä¸ä¼ è¯¥å‚æ•°ï¼Œå°±ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåªæœ‰åœ¨å½¢å‚è¡¨æœ«å°¾çš„é‚£äº›å‚æ•°å¯ä»¥æœ‰é»˜è®¤å‚æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸èƒ½åœ¨å£°æ˜å‡½æ•°å½¢å‚çš„æ—¶å€™ï¼Œå…ˆå£°æ˜æœ‰é»˜è®¤å€¼çš„å½¢å‚è€Œåå£°æ˜æ²¡æœ‰é»˜è®¤å€¼çš„å½¢å‚ã€‚è¿™æ˜¯å› ä¸ºèµ‹ç»™å½¢å‚çš„å€¼æ˜¯æ ¹æ®å®å‚ä¼ é€’çš„é¡ºåºè€Œèµ‹å€¼çš„ã€‚ä¾‹å¦‚ï¼Œdef func(a, b=1) æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯ def func(a=1, b) æ˜¯ æ— æ•ˆ çš„ã€‚ 4ã€å¯å˜å‚æ•°å¯å˜å‚æ•°æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯argsï¼Œç¬¬äºŒç§æ˜¯kwargsã€‚ å…ˆæ¥çœ‹ç¬¬ä¸€ç§ï¼Œç”¨è€å¸ˆå¸ƒç½®çš„ä½œä¸šä¸¾ä¾‹ï¼š 1234567def multi(*numbers): result = 1 for num in numbers: result = num * result return resultprint(multi(1, 2, 3, 4)) è¾“å‡ºç»“æœï¼š 124 åœ¨ä¸Šé¢å®šä¹‰çš„å‡½æ•°ä¸­ï¼Œ*numbersæ˜¯ä¸€ä¸ªå¯å˜å‚æ•°ï¼Œè€Œä¸”å®ƒçš„æœ¬è´¨å…¶å®å°±æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œä½¿ç”¨äº†å¯å˜å‚æ•°åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼ å…¥è‹¥å¹²ä¸ªå‚æ•°ã€‚ 12345def userInfo(name, age, sex, **hobby): print(&#x27;å§“å:%s, å¹´é¾„: %d, æ€§åˆ«: sex: %s&#x27; % (name, age, sex)) print(&#x27;çˆ±å¥½ï¼š&#123;&#125;&#x27;.format(hobby)) userInfo(&#x27;æXX&#x27;, 18, &#x27;ç”·&#x27;, hobby1 = &#x27;ç¼–ç¨‹&#x27;, hobby2 = &#x27;ç¼–ç¨‹&#x27;, hobby3 = &#x27;ç¼–ç¨‹&#x27;) è¾“å‡ºç»“æœï¼š 12å§“å:æXX, å¹´é¾„: 18, æ€§åˆ«: sex: ç”·çˆ±å¥½ï¼š&#123;&#x27;hobby1&#x27;: &#x27;ç¼–ç¨‹&#x27;, &#x27;hobby2&#x27;: &#x27;ç¼–ç¨‹&#x27;, &#x27;hobby3&#x27;: &#x27;ç¼–ç¨‹&#x27;&#125; å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§å¯å˜å‚æ•°ï¼Œåœ¨è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥å®å‚éœ€ç”¨å…³é”®å­—å‚æ•°ï¼Œå› ä¸ºå®ƒçš„æœ¬è´¨æ˜¯ä¸€ä¸ªå­—å…¸ã€‚ åŒ¿åå‡½æ•°lambdaè¡¨è¾¾å¼ï¼Œé€šå¸¸æ˜¯åœ¨éœ€è¦ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åˆä¸æƒ³è´¹ç¥å»å‘½åä¸€ä¸ªå‡½æ•°çš„åœºåˆä¸‹ä½¿ç”¨ï¼Œè¢«ç§°ä¸ºåŒ¿åå‡½æ•°.lambdaæ‰€è¡¨ç¤ºçš„åŒ¿åå‡½æ•°å†…å®¹åº”è¯¥æ¯”è¾ƒç®€å•ï¼Œå¦‚æœå‡½æ•°å†…å®¹å¤æ‚çš„è¯ï¼Œåº”è¯¥é‡æ–°å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚ å®ä¾‹ï¼š 123add = lambda x, y : x+yprint(add(1, 2)) è¾“å‡ºç»“æœï¼š 13 ä»å®ä¾‹çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå†’å·å·¦è¾¹çš„è¡¨è¾¾å¼ï¼Œå†’å·å³è¾¹çš„è¡¨è¾¾å¼ç†è§£ä¸ºå‡½æ•°è¿”å›å€¼ã€‚ Pythonæä¾›äº†å¾ˆå¤šå‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹æ€§ï¼Œå¦‚ï¼šmapã€reduceã€filterã€sortedç­‰è¿™äº›å‡½æ•°éƒ½æ”¯æŒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚lambdaå‡½æ•°å°±å¯ä»¥åº”ç”¨åœ¨å‡½æ•°å¼ç¼–ç¨‹ä¸­ã€‚ å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„å‡½æ•°è¿™ä¸ªæœ¯è¯­ä¸æ˜¯æŒ‡è®¡ç®—æœºä¸­çš„å‡½æ•°ï¼ˆå®é™…ä¸Šæ˜¯Subroutineï¼‰ï¼Œè€Œæ˜¯æŒ‡æ•°å­¦ä¸­çš„å‡½æ•°ï¼Œå³è‡ªå˜é‡çš„æ˜ å°„ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå‡½æ•°çš„å€¼ä»…å†³å®šäºå‡½æ•°å‚æ•°çš„å€¼ï¼Œä¸ä¾èµ–å…¶ä»–çŠ¶æ€ã€‚æ¯”å¦‚sqrt(x)å‡½æ•°è®¡ç®—xçš„å¹³æ–¹æ ¹ï¼Œåªè¦xä¸å˜ï¼Œä¸è®ºä»€ä¹ˆæ—¶å€™è°ƒç”¨ï¼Œè°ƒç”¨å‡ æ¬¡ï¼Œå€¼éƒ½æ˜¯ä¸å˜çš„ã€‚ æ¯”å¦‚å°†åˆ—è¡¨ä¸­çš„å…ƒç´ æŒ‰ç…§ç»å¯¹å€¼å¤§å°è¿›è¡Œå‡åºæ’åˆ—ï¼š 12345list = [3, 5, -4, -1, 0, -2, -6]list = sorted(list, key=lambda x: abs(x))print(list) è¾“å‡ºç»“æœï¼š 1[0, -1, -2, 3, -4, 5, -6] æ‹“å±•ä¸Šé¢æˆ‘ä»¬æåˆ°äº†mapã€reduceã€filterã€sortedè¿™äº›å‡½æ•°ï¼Œé‚£å®ƒä»¬åˆ°åº•æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼Œè®©æˆ‘ä»¬æ¥ä»‹ç»ä¸€ä¸‹ 1ã€mapmapå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡½æ•°çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ã€‚mapå‡½æ•°å°±æ˜¯å°†å…·ä½“æ•°å€¼æ ¹æ®ç®—æ³•è¿›è¡Œè®¡ç®—ï¼Œï¼Œå¹¶å°†ç»“æœä¿å­˜ä¸ºä¸€ä¸ªè¿­ä»£å™¨ã€‚ å®ä¾‹ï¼š 12345678910def add(x): x += 1 return xlist = [1, 2, 3]newList = map(add, list)for i in newList: print(i) è¾“å‡ºç»“æœï¼š 123234 2ã€reduce reduceåŒmapå‡½æ•°ä¸€æ ·ï¼Œä¹Ÿæ˜¯æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä½†ä¸åŒçš„æ˜¯ï¼Œreduceå‡½æ•°å°†å½“å‰æ•°å€¼çš„è®¡ç®—ç»“æœä¸ä¸‹ä¸€ä¸ªæ•°å€¼çš„è®¡ç®—ç»“æœè¿›è¡Œç´¯ç§¯è®¡ç®—ã€‚reduce()å‡½æ•°ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ä¼šå°†å¯è¿­ä»£å¯¹è±¡çš„ç¬¬ä¸€é¡¹ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¬¬äºŒé¡¹ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å‡½æ•°ã€‚ç¬¬äºŒæ¬¡è¿è¡Œåˆ™ä¼šå°†å‡½æ•°ç¬¬ä¸€æ¬¡è¿è¡Œæ‰€è¿”å›çš„ç»“æœä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯è¿­ä»£å¯¹è±¡çš„ç¬¬ä¸‰é¡¹ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å‡½æ•°â€¦â€¦ å®ä¾‹ï¼š 12345678910from functools import reducedef accumulate(x, y): return x + ylist = [1, 2, 3, 4]result = reduce(accumulate, list)print(result) è¾“å‡ºç»“æœï¼š 110 3ã€filteråŒä¸Šä¸¤ä¸ªå‡½æ•°ä¸€æ ·ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‡½æ•°åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºåºåˆ—ã€‚ä½†filteræ ¹æ®åºåˆ—ä¸­å„ä¸ªå…ƒç´ ä½œç”¨ä¸å‡½æ•°æ—¶ï¼Œå‡½æ•°è¿”å›ç»“æœ(True/False)æ¥å†³å®šè¯¥å…ƒç´ æ˜¯å¦ä¿ç•™ã€‚ å®ä¾‹ï¼š 123456789101112def fetchEven(num): if num % 2 == 0: return True else: return Falselist = [1, 2, 3, 4, 5]newList = filter(fetchEven, list)for i in newList: print(i) è¾“å‡ºç»“æœï¼š 1224 4ã€sortedsortedé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥æ’åºçš„ï¼Œsortedå¯ä»¥æ¥å—ä¸€ä¸ªkeyå‡½æ•°(å¯é€‰å‚æ•°)ï¼Œå®ç°è‡ªå®šä¹‰æ’åºã€‚ å®ä¾‹ï¼š 12345list = [3, 5, -4, -1, 0, -2, -6]newList = sorted(list, key=abs)print(newList) è¾“å‡ºç»“æœï¼š 1[0, -1, -2, 3, -4, 5, -6] ä»¥ä¸Šå‡ ä¸ªå‡½æ•°çš„ä¼˜ç‚¹æ˜¯ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰å‰¯ä½œç”¨ã€‚ä¾‹å¦‚å½“æˆ‘ä»¬ä½¿ç”¨mapå¤„ç†listæ—¶ï¼Œå¹¶ä¸ä¼šæ”¹å˜ä¼ å…¥çš„listï¼Œè€Œæ—¶è¿”å›äº†ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨å¯¹è±¡ã€‚","categories":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/categories/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}]},{"title":"è¶å¹´è½»ï¼Œèµ¶å¿«å­¦ä¸€æ³¢vim","slug":"è¶å¹´è½»ï¼Œèµ¶å¿«å­¦ä¸€æ³¢vim","date":"2018-05-05T12:15:37.000Z","updated":"2022-06-06T03:22:14.527Z","comments":true,"path":"2018/05/05/è¶å¹´è½»ï¼Œèµ¶å¿«å­¦ä¸€æ³¢vim/","link":"","permalink":"http://yoursite.com/2018/05/05/%E8%B6%81%E5%B9%B4%E8%BD%BB%EF%BC%8C%E8%B5%B6%E5%BF%AB%E5%AD%A6%E4%B8%80%E6%B3%A2vim/","excerpt":"","text":"ä»‹ç»Vimæ˜¯ä¸€ä¸ªç±»ä¼¼äºViçš„è‘—åçš„åŠŸèƒ½å¼ºå¤§ã€é«˜åº¦å¯å®šåˆ¶çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨Viçš„åŸºç¡€ä¸Šæ”¹è¿›å’Œå¢åŠ äº†å¾ˆå¤šç‰¹æ€§ã€‚ VIMæ˜¯è‡ªç”±è½¯ä»¶ã€‚Vimæ™®éè¢«æ¨å´‡ä¸ºç±»Viç¼–è¾‘å™¨ä¸­æœ€å¥½çš„ä¸€ä¸ªï¼Œäº‹å®ä¸ŠçœŸæ­£çš„åŠ²æ•Œæ¥è‡ªEmacsçš„ä¸åŒå˜ä½“ã€‚1999 å¹´Emacsè¢«é€‰ä¸ºLinuxworldæ–‡æœ¬ç¼–è¾‘åˆ†ç±»çš„ä¼˜èƒœè€…ï¼ŒVimå±ˆå±…ç¬¬äºŒã€‚ä½†åœ¨2000å¹´2æœˆVimèµ¢å¾—äº†Slashdot Beanieçš„æœ€ä½³å¼€æ”¾æºä»£ç æ–‡æœ¬ç¼–è¾‘å™¨å¤§å¥–ï¼Œåˆå°†Emacsæ¨è‡³äºŒçº¿ï¼Œ æ€»çš„æ¥çœ‹ï¼Œ Vimå’ŒEmacsåœ¨æ–‡æœ¬ç¼–è¾‘æ–¹é¢éƒ½æ˜¯éå¸¸ä¼˜ç§€çš„ã€‚ ä½¿ç”¨é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆå®‰è£…vim 12brew install vim // macå®‰è£…vimapt-get install vim // ubuntuå®‰è£…vim windowsç”¨æˆ·è¯·å‰å¾€æœç´¢å¼•æ“æœç´¢vimä¸‹è½½å®‰è£… æœ¬æ–‡é€šè¿‡vimtutorè¿›è¡Œvimçš„å­¦ä¹ ï¼Œå®‰è£…å®Œvimååœ¨ç»ˆç«¯è¾“å…¥vimtutorå³å¯ vimæ¨¡å¼å‘½ä»¤æ¨¡å¼: ç”¨äºè¾“å…¥æŒ‡ä»¤ï¼Œå¦‚ï¼šä¿å­˜ã€è¿è¡Œã€åˆ‡æ¢æ ‡ç­¾ã€åˆ‡å‰²å±å¹•ç­‰æ’å…¥æ¨¡å¼: ä¹Ÿå³ç¼–è¾‘æ¨¡å¼ï¼Œç”¨äºç¼–è¾‘æ–‡æœ¬å¯è§†æ¨¡å¼: ç›¸å½“äºé«˜äº®é€‰å–æ–‡æœ¬åçš„æ­£å¸¸æ¨¡å¼æ­£å¸¸æ¨¡å¼: ç”¨äºæŸ¥çœ‹æ–‡æœ¬ï¼Œä¹Ÿå¯å¤åˆ¶ã€ç²˜è´´ã€æ’¤é”€ã€é‡åšç­‰ ç§»åŠ¨å…‰æ ‡åœ¨æ­£å¸¸æ¨¡å¼é”®å¯ç”¨hã€jã€kã€læ¥åˆ†åˆ«ä»£æ›¿â†ã€â†“ã€â†‘ã€â†’é”®æ¥ç§»åŠ¨å…‰æ ‡,å¯¹äºåˆå­¦è€…æ¥è¯´,è¿™ç§ç§»åŠ¨å…‰æ ‡çš„æ–¹å¼ååˆ†ä¸ä¹ æƒ¯,ä½†æ˜¯ç”¨è¿™ç§æ–¹å¼ç§»åŠ¨å…‰æ ‡åœ¨ç¼–ç¨‹çš„è¿‡ç¨‹ä¸­å¯ä»¥ä¸ç”¨é¢‘ç¹çš„ç§»åŠ¨å³æ‰‹ æ³¨æ„ï¼šå½“æŸä¸€è¡Œä¸ºç©ºæ—¶ï¼Œhã€læ— æ³•è¿›è¡Œå·¦å³çš„ç§»åŠ¨ å¦‚æœæ‚¨ä¸æ•¢ç¡®å®šæ‚¨æ‰€æŒ‰ä¸‹çš„å­—æ¯ï¼Œè¯·æŒ‰ä¸‹é”®å›åˆ°æ­£å¸¸(Normal)æ¨¡å¼ã€‚ç„¶åå†æ¬¡ä»é”®ç›˜è¾“å…¥æ‚¨æƒ³è¦çš„å‘½ä»¤ã€‚ vimçš„è¿›å…¥å’Œé€€å‡ºæ©,æˆ‘å·²ç»ç©ç†Ÿäº†å…‰æ ‡æ“ä½œï¼Œè¿™ä¸ªç©æ„å„¿å¤ªæ–¹ä¾¿å•¦ï¼Œå’¦ï¼Œä½†æ˜¯æˆ‘æ€ä¹ˆé€€å‡ºvimå‘¢ 1ã€æŒ‰&lt;ESC&gt;é”®ï¼Œç¡®å®šä½ å¤„äºæ­£å¸¸æ¨¡å¼ã€‚ 2ã€ç„¶åé”®å…¥:qï¼Œ ç„¶åæŒ‰å›è½¦ï¼Œä½†è¿™æ ·åšå¹¶ä¸ä¼šå°†ä½ ä¿®æ”¹çš„å†…å®¹ä¿å­˜ã€‚ 3ã€é”®å…¥:wqï¼Œå¯ä»¥åœ¨é€€å‡ºçš„åŒæ—¶ä¿å­˜ä½ æ‰€ä¿®æ”¹çš„å†…å®¹ã€‚ 4ã€å¯¹ï¼Œä½ æ²¡çŒœé”™ï¼Œå¦‚æœæƒ³åªä¿å­˜ä¸é€€å‡ºï¼Œé”®å…¥:wå°±è¡Œäº† æ–‡æœ¬ç¼–è¾‘ä¹‹åˆ é™¤é‚£ä¹ˆæˆ‘æƒ³è¦åœ¨æ­£å¸¸æ¨¡å¼ä¸‹åˆ é™¤æŸä¸ªå†…å®¹æ€ä¹ˆåŠå‘¢ï¼Œå¾ˆç®€å•ï¼Œä½ åªéœ€è¦ç”¨æˆ‘ä»¬æ‰€å­¦çš„ç§»åŠ¨å…‰æ ‡æ–¹å¼å°†å…‰æ ‡ç§»åŠ¨åˆ°ä½ æƒ³è¦åˆ é™¤çš„æ–‡æœ¬ä½ç½®ï¼ŒæŒ‰ä¸‹xé”®å³å¯ æç¤ºï¼šå½“æˆ‘å¯¹æŸä¸ªæ“ä½œä¸æ»¡æ„ï¼Œæƒ³è¦æ’¤å›çš„æ—¶å€™ï¼Œåªè¦é”®å…¥uå³å¯ æ–‡æœ¬ç¼–è¾‘ä¹‹æ’å…¥å“‡ï¼Œæˆ‘å‘ç°æ–‡æœ¬çš„å†…å®¹ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘è¦ä¿®æ”¹ä»–ï¼Œå¯æ˜¯åœ¨æ­£å¸¸æ¨¡å¼ä¸‹æˆ‘å¥½åƒæ— æ³•ç¼–è¾‘å®ƒè¯¶ï¼Œæ€ä¹ˆåŠã€‚ æŒ‰iè¿›å…¥æ’å…¥æ¨¡å¼ï¼Œåœ¨è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥éšæ„çš„ä¿®æ”¹æ–‡æœ¬äº†ï¼Œä½†æ˜¯ä½ ä¸èƒ½å†ç”¨hã€jã€kã€lçš„æ–¹å¼æ¥ç§»åŠ¨å…‰æ ‡äº†ï¼Œå½“ä½ ä¿®æ”¹å®Œæˆåï¼Œå¯ä»¥æŒ‰&lt;ESC&gt;è¿”å›æ­£å¸¸æ¨¡å¼ æ–‡æœ¬ç¼–è¾‘ä¹‹æ·»åŠ å•Šï¼Ÿè¿™ä¸ªæ’å…¥æ¨¡å¼æ˜¯ä»€ä¹ˆé¬¼ï¼Œæˆ‘æ€ä¹ˆåªèƒ½å¾€å…‰æ ‡å‰æ·»åŠ å†…å®¹ï¼Œå¦‚æœæˆ‘æƒ³åœ¨åŸæœ¬çš„å†…å®¹åæ·»åŠ æ–°çš„å†…å®¹æ€ä¹ˆåŠï¼Ÿ ä½ å¯ä»¥åœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼ŒæŒ‰aé”®ï¼Œç„¶åè¾“å…¥ä½ è¦æ·»åŠ çš„å†…å®¹ï¼ŒåŒæ ·çš„ï¼Œåœ¨è¾“å…¥å®ŒæˆåæŒ‰&lt;ESC&gt;è¿”å›æ­£å¸¸æ¨¡å¼ã€‚ åˆ é™¤ç±»å‘½ä»¤ä¹‹å‰çš„åˆ é™¤æ–¹æ³•å¥½éº»çƒ¦å•Šï¼Œéš¾é“æˆ‘åˆ é™¤ä¸€å¤§ä¸²å†…å®¹è¦ä¸€ä¸ªä¸€ä¸ªç§»åŠ¨å…‰æ ‡ï¼Œç„¶åæŒ‰ä¸€æ¬¡åˆä¸€æ¬¡çš„xå—ã€‚å½“ç„¶ä¸æ˜¯ è®¸å¤šæ”¹å˜æ–‡æœ¬çš„å‘½ä»¤éƒ½ç”±ä¸€ä¸ªæ“ä½œç¬¦å’Œä¸€ä¸ªåŠ¨ä½œæ„æˆã€‚ ä½¿ç”¨åˆ é™¤æ“ä½œç¬¦ d çš„åˆ é™¤å‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ï¼š â€‹ d motion ä¸€ä¸ªç®€çŸ­çš„åŠ¨ä½œåˆ—è¡¨ï¼š â€‹ w - ä»å½“å‰å…‰æ ‡å½“å‰ä½ç½®ç›´åˆ°ä¸‹ä¸€ä¸ªå•è¯èµ·å§‹å¤„ï¼Œä¸åŒ…æ‹¬å®ƒçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚ e - ä»å½“å‰å…‰æ ‡å½“å‰ä½ç½®ç›´åˆ°å•è¯æœ«å°¾ï¼ŒåŒ…æ‹¬æœ€åä¸€ä¸ªå­—ç¬¦ã€‚ $ - ä»å½“å‰å…‰æ ‡å½“å‰ä½ç½®ç›´åˆ°å½“å‰è¡Œæœ«ã€‚ ç®€å•æ¥è¯´ï¼Œå¦‚æœæˆ‘æƒ³è¦åˆ é™¤ä¸€ä¸ªå•è¯åªéœ€è¦é”®å…¥dwï¼Œå¦‚æœæˆ‘é”®å…¥d$ï¼Œé‚£ä¹ˆè¿™ä¸€æ•´è¡Œçš„å†…å®¹éƒ½è¢«æˆ‘åˆ äº† ä½¿ç”¨è®¡æ•°æŒ‡å®šåŠ¨ä½œå‡å¦‚vimæ‰“å¼€çš„æ–‡ä»¶ä¸­æŸä¸€ä¸ªè¡Œæœ‰è¿™æ ·ä¸€å¥çš„å†…å®¹ This is just a line with words you can move around in. æˆ‘çš„å…‰æ ‡åœ¨å¼€å¤´çš„Tä½ç½® é”®å…¥ä¸€æ¬¡eï¼Œæˆ‘çš„å…‰æ ‡ä½ç½®å°±ä¼šå‡ºç°åœ¨Thisè¿™ä¸ªå•è¯çš„æœ«å°¾så¤„ï¼Œé”®å…¥ä¸¤æ¬¡ï¼Œå°±ä¼šå‡ºç°åœ¨ä¸‹ä¸€ä¸ªå•è¯çš„æœ«å°¾ã€‚ é”®å…¥wï¼Œå°±ä¼šå‡ºç°åœ¨ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ï¼Œå¤šæ¬¡é”®å…¥ä¸eçš„æ•ˆæœé›·åŒã€‚ é”®å…¥0ï¼Œèƒ½ä½¿æˆ‘çš„å…‰æ ‡å‡ºç°åœ¨è¡Œé¦–ã€‚ é”®å…¥$ï¼Œèƒ½ä½¿æˆ‘çš„å…‰æ ‡å‡ºç°åœ¨è¡Œæœ«ã€‚ ä½¿ç”¨è®¡æ•°å·²åˆ é™¤æ›´å¤šä¸Šé¢å·²ç»æåˆ°è¿‡åˆ é™¤æ“ä½œç¬¦å’ŒåŠ¨ä½œçš„ç»„åˆï¼Œä½ å¯ä»¥åœ¨ç»„åˆä¸­åŠ¨ä½œä¹‹å‰æ’å…¥ä¸€ä¸ªæ•°å­—ä»¥åˆ é™¤æ›´å¤š â€‹ d number(æ•°å­—) motion æ¯”å¦‚é”®å…¥d2wï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®èµ·çš„ä¸¤ä¸ªå•è¯ æ“ä½œæ•´è¡Œ ä¹‹å‰ç”¨d$å‘½ä»¤åˆ é™¤æ•´è¡Œå†…å®¹åï¼Œæˆ‘ä»¬ä¼šå‘ç°è¿™ä¸€è¡Œå˜æˆäº†ä¸€ä¸ªç©ºè¡Œï¼Œæ‰€ä»¥å¯èƒ½ç”¨æ¸…é™¤æ•´è¡Œå†…å®¹æ¥ç§°å‘¼å®ƒæ›´åŠ åˆé€‚ å¦‚æœæˆ‘ä»¬è¦åˆ é™¤å½“å‰è¡Œï¼Œå¯ä»¥é”®å…¥ddå‘½ä»¤ ä½ ä¹Ÿå¯ä»¥é”®å…¥2ddï¼Œæ¥åˆ é™¤å½“å‰è¡Œèµ·çš„ä¸¤è¡Œ æ’¤é”€ç±»å‘½ä»¤ ä¹‹å‰æœ‰æåˆ°è¿‡ï¼Œå¦‚æœä½ æ“ä½œå¤±è¯¯ï¼Œå¯ä»¥é”®å…¥uæ¥æ’¤é”€æœ€åä¸€æ¬¡æ‰§è¡Œçš„å‘½ä»¤ å¦‚æœä½ å«Œä¸€æ¬¡ä¸€æ¬¡çš„æ’¤é”€å¤ªéº»çƒ¦ï¼Œä½ å¯ä»¥é”®å…¥Uï¼Œæ¥ä½¿å½“å‰è¡Œæ¢å¤åˆ°åˆå§‹çŠ¶æ€ ä½ ä¹Ÿå¯ä»¥é”®å…¥CTRL-R(å…ˆæŒ‰ç€CTRLé”®ä¸æ”¾ï¼Œå†é”®å…¥R)æ¥é‡åšæ’¤é”€çš„å‘½ä»¤ ç½®å…¥ç±»å‘½ä»¤ä¹‹å‰æ‰€è¯´çš„ddå‘½ä»¤åˆ é™¤äº†ä¸€æ•´è¡Œå†…å®¹ï¼Œå…¶å®å‘¢ï¼Œä»–å¹¶æ²¡æœ‰å®ƒå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œè€Œæ˜¯ä¿å­˜åœ¨äº†vimçš„å¯„å­˜å™¨ä¸­ã€‚ å½“ä½¿ç”¨ddå‘½ä»¤åˆ é™¤äº†æŸä¸€è¡Œå†…å®¹åï¼Œå…‰æ ‡ç§»åˆ°æŸä¸€è¡Œï¼Œé”®å…¥pï¼Œåˆšåˆšåˆ é™¤æ‰çš„é‚£ä¸€è¡Œå†…å®¹å°±ä¼šç²˜è´´åˆ°å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œäº† æ›¿æ¢ç±»å‘½ä»¤å½“æˆ‘ä»¬å‘ç°æŸå¤„å‡ºé”™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¿…å…ˆåˆ é™¤å†æ’å…¥æ¥ä¿®æ”¹é”™è¯¯ï¼Œè¿™æ ·å­å¤ªéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›¿æ¢å‘½ä»¤ã€‚ å¦‚ä¸‹ä¸¤è¡Œï¼Œç¬¬ä¸€è¡Œæœ‰é”™è¯¯ï¼Œç¬¬äºŒè¡Œæ˜¯æ­£ç¡®çš„ï¼Œæˆ‘ä»¬æƒ³è¦å°†ç¬¬ä¸€è¡Œå•è¯å‡ºé”™çš„åœ°æ–¹ä¿®æ­£å¯ä»¥æ€ä¹ˆåšå‘¢ Whan this lime was tyoed in, someone presswd some wrojg keys! When this line was typed in, someone pressed some wrong keys! å°†å…‰æ ‡ç§»åˆ°æ‰€è¦ä¿®æ”¹çš„å­—ç¬¦å¤„ï¼Œé”®å…¥pï¼Œç„¶åè¾“å…¥æ‰€è¦æ›¿æ¢çš„å­—ç¬¦å³å¯ æ›´æ”¹ç±»å‘½ä»¤åŒæ ·çš„æˆ‘ä»¬ä¹Ÿå¯ä»¥æ›´æ”¹æ•´ä¸ªå•è¯ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ é”®å…¥cwï¼Œç„¶åè¾“å…¥æ­£ç¡®çš„å†…å®¹ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ”¹æ•´ä¸ªå•è¯äº†ã€‚ ä½¿ç”¨cæ›´æ”¹æ›´å¤šæ›´æ”¹ç±»æ“ä½œç¬¦çš„å·¥ä½œæ–¹å¼è·Ÿåˆ é™¤ç±»æ˜¯ä¸€è‡´çš„ã€‚æ“ä½œæ ¼å¼æ˜¯ï¼šâ€‹ c [number] motion åŠ¨ä½œå‚æ•°(motion)ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚ w ä»£è¡¨å•è¯ï¼Œ$ä»£è¡¨è¡Œæœ«ç­‰ç­‰ é™¤äº†ä¸Šä¸€èŠ‚æ‰€è¯´çš„cwï¼Œæˆ‘ä¹Ÿå¯ä»¥é”®å…¥c$ï¼Œç”¨æ¥ä¿®æ”¹å½“å‰å­—ç¬¦åˆ°è¡Œæœ«çš„æ‰€æœ‰å†…å®¹ å®šä½åŠæ–‡ä»¶çŠ¶æ€è¾“å…¥ CTRL-G æ˜¾ç¤ºå½“å‰ç¼–è¾‘æ–‡ä»¶ä¸­å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œä½ç½®ä»¥åŠæ–‡ä»¶çŠ¶æ€ä¿¡æ¯ã€‚è¾“å…¥å¤§å†™ G åˆ™ç›´æ¥è·³è½¬åˆ°æ–‡ä»¶ä¸­çš„æŸä¸€æŒ‡å®šè¡Œ æç¤ºï¼šåˆ‡è®°è¦å…ˆé€šè¯»æœ¬èŠ‚å†…å®¹ï¼Œä¹‹åæ‰å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ­¥éª¤!!! æŒ‰ä¸‹ CTRL é”®ä¸æ”¾å¼€ç„¶åæŒ‰ g é”®ã€‚æˆ‘ä»¬ç§°è¿™ä¸ªé”®ç»„åˆä¸º CTRL-Gã€‚æ‚¨ä¼šçœ‹åˆ°é¡µé¢æœ€åº•éƒ¨å‡ºç°ä¸€ä¸ªçŠ¶æ€ä¿¡æ¯è¡Œï¼Œæ˜¾ç¤ºçš„å†…å®¹æ˜¯å½“å‰ç¼–è¾‘çš„æ–‡ä»¶åå’Œæ–‡ä»¶ä¸­å…‰æ ‡ä½ç½®ã€‚è¯·è®°ä½è¡Œå·ï¼Œå®ƒä¼šåœ¨æ­¥éª¤3ä¸­ç”¨åˆ°ã€‚ è¾“å…¥å¤§å†™ G å¯ä»¥ä½¿å¾—å½“å‰å…‰æ ‡ç›´æ¥è·³è½¬åˆ°æ–‡ä»¶æœ€åä¸€è¡Œã€‚è¾“å…¥ gg å¯ä»¥ä½¿å¾—å½“å‰å…‰æ ‡ç›´æ¥è·³è½¬åˆ°æ–‡ä»¶ç¬¬ä¸€è¡Œã€‚ è¾“å…¥æ‚¨æ›¾åœç•™çš„è¡Œå·ï¼Œç„¶åè¾“å…¥å¤§å†™ Gã€‚è¿™æ ·å°±å¯ä»¥è¿”å›åˆ°æ‚¨ç¬¬ä¸€æ¬¡æŒ‰ä¸‹CTRL-G æ—¶æ‰€åœ¨çš„è¡Œäº†ã€‚ æœç´¢ç±»å‘½ä»¤è¾“å…¥ / åŠ ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥ç”¨ä»¥åœ¨å½“å‰æ–‡ä»¶ä¸­æŸ¥æ‰¾è¯¥å­—ç¬¦ä¸²ã€‚ 1ã€ åœ¨æ­£å¸¸æ¨¡å¼ä¸‹è¾“å…¥ / å­—ç¬¦ã€‚æ‚¨æ­¤æ—¶ä¼šæ³¨æ„åˆ°è¯¥å­—ç¬¦å’Œå…‰æ ‡éƒ½ä¼šå‡ºç°åœ¨å±å¹•åº•éƒ¨ï¼Œè¿™è·Ÿ : å‘½ä»¤æ˜¯ä¸€æ ·çš„ã€‚ 2ã€æ¥ç€è¾“å…¥ä½ è¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œç„¶åæŒ‰å›è½¦ï¼Œå°±ä¼šæŸ¥æ‰¾åˆ°æ‚¨æ‰€è¾“å…¥çš„å­—ç¬¦ä¸² 3ã€è¦æŸ¥æ‰¾åŒä¸Šä¸€æ¬¡çš„å­—ç¬¦ä¸²ï¼Œåªéœ€è¦æŒ‰ n é”®ã€‚è¦å‘ç›¸åæ–¹å‘æŸ¥æ‰¾åŒä¸Šä¸€æ¬¡çš„å­—ç¬¦ä¸²ï¼Œè¯·è¾“å…¥å¤§å†™ N å³å¯ã€‚ 4ã€å¦‚æƒ³é€†å‘æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨ ? ä»£æ›¿ / è¿›è¡Œã€‚ 5ã€è¦å›åˆ°æ‚¨ä¹‹å‰çš„ä½ç½®æŒ‰ CTRL-O (æŒ‰ä½ Ctrl é”®ä¸æ”¾åŒæ—¶æŒ‰ä¸‹å­—æ¯ o)ã€‚é‡å¤æŒ‰å¯ä»¥å›é€€æ›´å¤šæ­¥ã€‚CTRL-I ä¼šè·³è½¬åˆ°è¾ƒæ–°çš„ä½ç½®ã€‚ æç¤ºï¼šå¦‚æœæŸ¥æ‰¾å·²ç»åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼ŒæŸ¥æ‰¾ä¼šè‡ªåŠ¨ä»æ–‡ä»¶å¤´éƒ¨ç»§ç»­æŸ¥æ‰¾ï¼Œé™¤éâ€™wrapscanâ€™ é€‰é¡¹è¢«å¤ä½ã€‚ é…å¯¹æ‹¬å·çš„æŸ¥æ‰¾è¾“å…¥%å¯ä»¥æŸ¥æ‰¾é…å¯¹çš„å­—ç¬¦ä¸² *å½“ä½ çš„å…‰æ ‡ä½ç½®åœ¨æŸä¸€ä¸ªæ‹¬å·ä¸Šï¼Œé”®å…¥%ï¼Œä½ çš„å…‰æ ‡å°±ä¼šè·³åˆ°ä¸ä¹‹é…å¯¹çš„æ‹¬å·ä½ç½®äº†ï¼Œå¦‚æœå†æ¬¡é”®å…¥ï¼Œå…‰æ ‡å°±ä¼šè°ƒå›é…å¯¹çš„ç¬¬ä¸€ä¸ªæ‹¬å·å¤„ åœ¨ç¨‹åºè°ƒè¯•æ—¶ï¼Œè¿™ä¸ªåŠŸèƒ½ç”¨æ¥æŸ¥æ‰¾ä¸é…å¯¹çš„æ‹¬å·æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ æ›¿æ¢å‘½ä»¤å‡å¦‚æœ‰è¿™ä¹ˆä¸€è¡Œå­—ç¬¦ä¸² thee best time to see thee flowers is in thee spring. å½“æˆ‘é”®å…¥:s/thee/the &lt;å›è½¦&gt;ï¼Œé‚£ä¹ˆè¯¥è¡Œçš„ç¬¬ä¸€theeå°±è¢«æˆ‘æ›¿æ¢æˆäº†the å¦‚æœæƒ³å°†æ‰€æœ‰çš„theeæ›¿æ¢ï¼Œå¯ä»¥é”®å…¥:s/thee/the/g è¦æ›¿æ¢ä¸¤è¡Œä¹‹é—´å‡ºç°çš„æ¯ä¸ªåŒ¹é…ä¸²ï¼Œè¯· è¾“å…¥ :#,#s/old/new/g å…¶ä¸­ #,# ä»£è¡¨çš„æ˜¯æ›¿æ¢æ“ä½œçš„è‹¥å¹²è¡Œä¸­é¦–å°¾ä¸¤è¡Œçš„è¡Œå·ã€‚ è¾“å…¥ :%s/old/new/g åˆ™æ˜¯æ›¿æ¢æ•´ä¸ªæ–‡ä»¶ä¸­çš„æ¯ä¸ªåŒ¹é…ä¸²ã€‚ è¾“å…¥ :%s/old/new/gc ä¼šæ‰¾åˆ°æ•´ä¸ªæ–‡ä»¶ä¸­çš„æ¯ä¸ªåŒ¹é…ä¸²ï¼Œå¹¶ä¸”å¯¹æ¯ä¸ªåŒ¹é…ä¸²æç¤ºæ˜¯å¦è¿›è¡Œæ›¿æ¢ã€‚ åœ¨vimå†…æ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„æ–¹æ³•å†ç”¨vimç¼–ç¨‹çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘æƒ³è¾“å…¥ä¸€ä¸ªå¤–éƒ¨å‘½ä»¤æ€ä¹ˆåŠï¼Œéš¾é“æˆ‘è¿˜éœ€è¦æ–°å»ºä¸ªç»ˆç«¯çª—å£å—ï¼Ÿå½“ç„¶ä¸éœ€è¦ 1ã€ æŒ‰ä¸‹æˆ‘ä»¬æ‰€ç†Ÿæ‚‰çš„ : å‘½ä»¤ä½¿å…‰æ ‡ç§»åŠ¨åˆ°å±å¹•åº•éƒ¨ã€‚è¿™æ ·æ‚¨å°±å¯ä»¥è¾“å…¥ä¸€è¡Œå‘½ä»¤äº†ã€‚ 2ã€ æ¥ç€è¾“å…¥æ„Ÿå¹å· ! è¿™ä¸ªå­—ç¬¦ï¼Œè¿™æ ·å°±å…è®¸æ‚¨æ‰§è¡Œå¤–éƒ¨çš„ shell å‘½ä»¤äº†ã€‚ 3ã€ æˆ‘ä»¬ä»¥ ls å‘½ä»¤ä¸ºä¾‹ã€‚è¾“å…¥ !ls &lt;å›è½¦&gt; ã€‚è¯¥å‘½ä»¤å°±ä¼šåˆ—ä¸¾å‡ºæ‚¨å½“å‰ç›®å½•çš„å†…å®¹ï¼Œå°±å¦‚åŒæ‚¨åœ¨å‘½ä»¤è¡Œæç¤ºç¬¦ä¸‹è¾“å…¥ ls å‘½ä»¤çš„ç»“æœä¸€æ ·ã€‚å¦‚æœ !ls æ²¡èµ·ä½œç”¨ï¼Œæ‚¨å¯ä»¥è¯•è¯• :!dir çœ‹çœ‹ã€‚ å…³äºä¿å­˜æ–‡ä»¶çš„æ›´å¤šä¿¡æ¯è¦å°†å¯¹æ–‡ä»¶çš„æ”¹åŠ¨ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œè¯·è¾“å…¥ :w FILENAME ã€‚ 1ã€ è¾“å…¥ :!dir æˆ–è€… :!ls è·çŸ¥å½“å‰ç›®å½•çš„å†…å®¹ã€‚æ‚¨åº”å½“å·²çŸ¥é“æœ€åè¿˜å¾—æ•²&lt;å›è½¦&gt; å§ã€‚ 2ã€ é€‰æ‹©ä¸€ä¸ªæœªè¢«ç”¨åˆ°çš„æ–‡ä»¶åï¼Œæ¯”å¦‚ TESTã€‚ 3ã€ æ¥ç€è¾“å…¥ :w TEST (æ­¤å¤„ TEST æ˜¯æ‚¨æ‰€é€‰æ‹©çš„æ–‡ä»¶åã€‚) 4ã€ è¯¥å‘½ä»¤ä¼šä»¥ TEST ä¸ºæ–‡ä»¶åä¿å­˜æ•´ä¸ªæ–‡ä»¶ (Vim æ•™ç¨‹)ã€‚ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œè¯·å†æ¬¡è¾“å…¥ :!dir æˆ– :!ls æŸ¥çœ‹æ‚¨çš„ç›®å½•åˆ—è¡¨å†…å®¹ã€‚ ä¸€ä¸ªå…·æœ‰é€‰æ‹©æ€§çš„ä¿å­˜å‘½ä»¤è¦ä¿å­˜æ–‡ä»¶çš„éƒ¨åˆ†å†…å®¹ï¼Œè¯·è¾“å…¥ v motion :w FILENAM 1ã€ç§»åŠ¨å…‰æ ‡åˆ°æŸä¸€è¡Œ 2ã€é”®å…¥vï¼Œå°†å…‰æ ‡ç§»åˆ°ä¸‹é¢å‡ è¡Œï¼Œæ‚¨ä¼šå‘ç°ï¼Œä¹‹å‰çš„æ–‡æœ¬è¢«é«˜äº®äº† 3ã€ç„¶åé”®å…¥:ï¼Œæ‚¨å°†çœ‹åˆ°å±å¹•åº•éƒ¨ä¼šå‡ºç° :â€™&lt;,â€™&gt; ã€‚ 4ã€ç°åœ¨è¯·è¾“å…¥ w TESTï¼Œå…¶ä¸­ TEST æ˜¯ä¸€ä¸ªæœªè¢«ä½¿ç”¨çš„æ–‡ä»¶åã€‚ç¡®è®¤æ‚¨çœ‹åˆ°äº† :â€™&lt;,â€™&gt;w TEST ä¹‹åæŒ‰ &lt;å›è½¦&gt; é”®ã€‚ 5ã€è¿™æ—¶ Vim ä¼šæŠŠé€‰ä¸­çš„è¡Œå†™å…¥åˆ°ä»¥ TEST å‘½åçš„æ–‡ä»¶ä¸­å»ã€‚ä½¿ç”¨ :!dir æˆ– :!lsç¡®è®¤æ–‡ä»¶è¢«æ­£ç¡®ä¿å­˜ã€‚è¿™æ¬¡å…ˆåˆ«åˆ é™¤å®ƒï¼æˆ‘ä»¬åœ¨ä¸‹ä¸€è®²ä¸­ä¼šç”¨åˆ°å®ƒ æŒ‰ v é”®ä½¿ Vim è¿›å…¥å¯è§†æ¨¡å¼è¿›è¡Œé€‰å–ã€‚æ‚¨å¯ä»¥å››å¤„ç§»åŠ¨å…‰æ ‡ä½¿é€‰å–åŒºåŸŸå˜å¤§æˆ–å˜å°ã€‚æ¥ç€æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ“ä½œç¬¦å¯¹é€‰ä¸­æ–‡æœ¬è¿›è¡Œæ“ä½œã€‚ä¾‹å¦‚ï¼ŒæŒ‰ d é”®ä¼šåˆ é™¤é€‰ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚ æå–å’Œåˆå¹¶æ–‡ä»¶è¦å‘å½“å‰æ–‡ä»¶ä¸­æ’å…¥å¦å¤–çš„æ–‡ä»¶çš„å†…å®¹ï¼Œè¯·è¾“å…¥ :r FILENAME 1ã€å°†å…‰æ ‡ç§»åˆ°æ–°çš„ä¸€è¡Œ æç¤ºï¼šæ­¥éª¤2ä¹‹åæ‚¨å°†çœ‹åˆ°ç¬¬äº”è®²ç¬¬ä¸‰èŠ‚çš„æ–‡å­—ï¼Œè¯·å±Šæ—¶å¾€ä¸‹ç§»åŠ¨ä»¥å†æ¬¡çœ‹åˆ°æœ¬è®²å†…å®¹ 2ã€æ¥ç€é€šè¿‡å‘½ä»¤ :r TEST å°†å‰é¢åˆ›å»ºçš„åä¸º TEST çš„æ–‡ä»¶æå–è¿›æ¥ã€‚æ‚¨æ‰€æå–è¿›æ¥çš„æ–‡ä»¶å°†ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å¤„å¼€å§‹ç½®å…¥ 3ã€ä¸ºäº†ç¡®è®¤æ–‡ä»¶å·²ç»æå–æˆåŠŸï¼Œç§»åŠ¨å…‰æ ‡å›åˆ°åŸæ¥çš„ä½ç½®å°±å¯ä»¥æ³¨æ„æœ‰ä¸¤ä»½ä¸Šä¸€è®²çš„å†…å®¹ï¼Œä¸€ä»½æ˜¯åŸå§‹å†…å®¹ï¼Œå¦å¤–ä¸€ä»½æ˜¯æ¥è‡ªæ–‡ä»¶çš„å‰¯æœ¬ã€‚ æ‚¨è¿˜å¯ä»¥è¯»å–å¤–éƒ¨å‘½ä»¤çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œ :r !ls å¯ä»¥è¯»å– ls å‘½ä»¤çš„è¾“å‡ºï¼Œå¹¶æŠŠå®ƒæ”¾ç½®åœ¨å…‰æ ‡ä¸‹é¢ã€‚ æ‰“å¼€ç±»å‘½ä»¤è¾“å…¥ o å°†åœ¨å…‰æ ‡çš„ä¸‹æ–¹æ‰“å¼€æ–°çš„ä¸€è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚ å½“å…‰æ ‡åœ¨ä»»æ„è¡Œæ—¶ï¼Œé”®å¦‚oï¼Œå¯ä»¥æ‰“å¼€æ–°çš„ä¸€è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ‚¨å¯ä»¥å†™å…¥æ–°çš„å†…å®¹ï¼Œå†™å…¥å®ŒæˆåæŒ‰&lt;ESC&gt;è¿”å›æ­£å¸¸æ¨¡å¼ã€‚ é™„åŠ ç±»å‘½ä»¤è¾“å…¥ a å°†å¯åœ¨å…‰æ ‡ä¹‹åæ’å…¥æ–‡æœ¬ å¦å¤–ä¸€ä¸ªç½®æ¢ç±»å‘½ä»¤çš„ç‰ˆæœ¬è¾“å…¥å¤§å†™çš„ R å¯è¿ç»­æ›¿æ¢å¤šä¸ªå­—ç¬¦ã€‚ å‡å¦‚æœ‰å¦‚ä¸‹ä¸¤ä¸ªå­—ç¬¦ä¸² Adding 123 to xxx gives you xxx.Adding 123 to 456 gives you 579. æ‚¨å¯ä»¥å°†å…‰æ ‡ç§»åˆ°ç¬¬ä¸€å¥çš„xxxå¤„ï¼Œç„¶åé”®å…¥Rï¼Œè¿›è¡Œè¿ç»­çš„è¾“å…¥ï¼ŒçŸ¥é“å†…å®¹ä¸ç¬¬äºŒå¥ç›¸ä¼¼ï¼ŒæŒ‰ESCè¿›å…¥æ­£å¸¸æ¨¡å¼ï¼Œå°†å…‰æ ‡ç§»åˆ°ä¸‹ä¸ªxxxå¤„ï¼Œé‡å¤ä¸Šè¿°æ“ä½œï¼Œè¿™æ ·ä¸Šä¸‹ä¸¤ä¸ªå­—ç¬¦ä¸²å°±ç›¸ç­‰å•¦ã€‚ å¤åˆ¶ç²˜è´´æ–‡æœ¬ä½¿ç”¨æ“ä½œç¬¦ y å¤åˆ¶æ–‡æœ¬ï¼Œä½¿ç”¨ p ç²˜è´´æ–‡æœ¬ 1ã€é¦–å…ˆå°†å…‰æ ‡ç§»åˆ°è¦å¤åˆ¶çš„å†…å®¹å¼€å¤´ã€‚ 2ã€é”®å…¥vè¿›å…¥å¯è§†æ¨¡å¼ã€‚ 3ã€ç§»åŠ¨å…‰æ ‡ï¼Œå°†è¦å¤åˆ¶çš„å†…å®¹é«˜äº® 4ã€é”®å…¥yæŠ½ç¦»æ–‡æœ¬ 5ã€å°†å…‰æ ‡ç§»åŠ¨åˆ°ä½ å¸Œæœ›å¤åˆ¶çš„ä½ç½®ï¼Œé”®å…¥pç²˜è´´ è®¾ç½®ç±»å‘½ä»¤çš„é€‰é¡¹1ã€ è¦æŸ¥æ‰¾å•è¯ ignore å¯åœ¨æ­£å¸¸æ¨¡å¼ä¸‹è¾“å…¥ /ignore &lt;å›è½¦&gt;ã€‚è¦é‡å¤æŸ¥æ‰¾è¯¥è¯ï¼Œå¯ä»¥é‡å¤æŒ‰ n é”®ã€‚ 2ã€ ç„¶åè®¾ç½® ic é€‰é¡¹(Ignore Caseï¼Œå¿½ç•¥å¤§å°å†™)ï¼Œè¯·è¾“å…¥ï¼š :set ic 3ã€ ç°åœ¨å¯ä»¥é€šè¿‡é”®å…¥ n é”®å†æ¬¡æŸ¥æ‰¾å•è¯ ignoreã€‚æ³¨æ„åˆ° Ignore å’Œ IGNORE ç°åœ¨ä¹Ÿè¢«æ‰¾åˆ°äº†ã€‚ 4ã€ ç„¶åè®¾ç½® hlsearch å’Œ incsearch è¿™ä¸¤ä¸ªé€‰é¡¹ï¼Œè¯·è¾“å…¥ï¼š :set hls is 5ã€ ç°åœ¨å¯ä»¥å†æ¬¡è¾“å…¥æŸ¥æ‰¾å‘½ä»¤ï¼Œçœ‹çœ‹ä¼šæœ‰ä»€ä¹ˆæ•ˆæœï¼š/ignore &lt;å›è½¦&gt; 6ã€ è¦ç¦ç”¨å¿½ç•¥å¤§å°å†™ï¼Œè¯·è¾“å…¥ï¼š :set noic æç¤ºï¼šè¦ç§»é™¤åŒ¹é…é¡¹çš„é«˜äº®æ˜¾ç¤ºï¼Œè¯·è¾“å…¥ï¼š :nohlsearchæç¤ºï¼šå¦‚æœæ‚¨æƒ³è¦ä»…åœ¨ä¸€æ¬¡æŸ¥æ‰¾æ—¶å¿½ç•¥å­—æ¯å¤§å°å†™ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ \\cï¼š/ignore\\c &lt;å›è½¦&gt; è·å–å¸®åŠ©ä¿¡æ¯Vim æ‹¥æœ‰ä¸€ä¸ªç»†è‡´å…¨é¢çš„åœ¨çº¿å¸®åŠ©ç³»ç»Ÿã€‚è¦å¯åŠ¨è¯¥å¸®åŠ©ç³»ç»Ÿï¼Œè¯·é€‰æ‹©å¦‚ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š æŒ‰ä¸‹&lt;HELP&gt;é”® (å¦‚æœé”®ç›˜ä¸Šæœ‰çš„è¯) æŒ‰ä¸‹ &lt;F1&gt; é”® (å¦‚æœé”®ç›˜ä¸Šæœ‰çš„è¯) è¾“å…¥ :help &lt;å›è½¦&gt; è¯·é˜…è¯»å¸®åŠ©çª—å£ä¸­çš„æ–‡å­—ä»¥äº†è§£å¸®åŠ©æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ è¾“å…¥ CTRL-W CTRL-W å¯ä»¥ä½¿æ‚¨åœ¨çª—å£ä¹‹é—´è·³è½¬ã€‚ è¾“å…¥ :q &lt;å›è½¦&gt; å¯ä»¥å…³é—­å¸®åŠ©çª—å£ã€‚ æä¾›ä¸€ä¸ªæ­£ç¡®çš„å‚æ•°ç»™â€:helpâ€å‘½ä»¤ï¼Œæ‚¨å¯ä»¥æ‰¾åˆ°å…³äºè¯¥ä¸»é¢˜çš„å¸®åŠ©ã€‚è¯·è¯•éªŒä»¥ä¸‹å‚æ•°(å¯åˆ«å¿˜äº†æŒ‰å›è½¦é”®å“¦)ï¼š 1234:help w:help c_CTRL-D:help insert-index:help user-manual åˆ›å»ºå¯åŠ¨è„šæœ¬Vim çš„åŠŸèƒ½ç‰¹æ€§è¦æ¯” Vi å¤šå¾—å¤šï¼Œä½†å…¶ä¸­å¤§éƒ¨åˆ†éƒ½æ²¡æœ‰ç¼ºçœå¯ç”¨ã€‚ä¸ºäº†ä½¿ç”¨æ›´å¤šçš„ç‰¹æ€§ï¼Œæ‚¨å¾—åˆ›å»ºä¸€ä¸ª vimrc æ–‡ä»¶ã€‚ 1ã€ å¼€å§‹ç¼–è¾‘ vimrc æ–‡ä»¶ï¼Œå…·ä½“å‘½ä»¤å–å†³äºæ‚¨æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿï¼š 12:edit ~/.vimrc // è¿™æ˜¯ Unix ç³»ç»Ÿæ‰€ä½¿ç”¨çš„å‘½ä»¤:edit $VIM/_vimrc // è¿™æ˜¯ MS-Windows ç³»ç»Ÿæ‰€ä½¿ç”¨çš„å‘½ä»¤ 2ã€ æ¥ç€è¯»å– vimrc ç¤ºä¾‹æ–‡ä»¶çš„å†…å®¹ï¼š 1:r $VIMRUNTIME/vimrc_example.vim 3ã€ ä¿å­˜æ–‡ä»¶ï¼Œå‘½ä»¤ä¸ºï¼š 1:write ä¸‹æ¬¡æ‚¨å¯åŠ¨ Vim æ—¶ï¼Œç¼–è¾‘å™¨å°±ä¼šæœ‰äº†è¯­æ³•é«˜äº®çš„åŠŸèƒ½ã€‚æ‚¨å¯ä»¥æŠŠæ‚¨å–œæ¬¢çš„å„ç§è®¾ç½®æ·»åŠ åˆ°è¿™ä¸ª vimrc æ–‡ä»¶ä¸­ã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯è¯·è¾“å…¥ :help vimrc-intro è¡¥å…¨åŠŸèƒ½1ã€ è¾“å…¥ :help æˆ–è€…æŒ‰ &lt;F1&gt; é”®æˆ– &lt;Help&gt; é”®å¯ä»¥æ‰“å¼€å¸®åŠ©çª—å£ã€‚ 2ã€ è¾“å…¥ :help cmd å¯ä»¥æ‰¾åˆ°å…³äº cmd å‘½ä»¤çš„å¸®åŠ©ã€‚ 3ã€ è¾“å…¥ CTRL-W CTRL-W å¯ä»¥ä½¿æ‚¨åœ¨çª—å£ä¹‹é—´è·³è½¬ã€‚ 4ã€ è¾“å…¥ :q ä»¥å…³é—­å¸®åŠ©çª—å£ 5ã€ æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ª vimrc å¯åŠ¨è„šæœ¬æ–‡ä»¶ç”¨æ¥ä¿å­˜æ‚¨åå¥½çš„è®¾ç½®ã€‚ 6ã€ å½“è¾“å…¥ : å‘½ä»¤æ—¶ï¼ŒæŒ‰ CTRL-D å¯ä»¥æŸ¥çœ‹å¯èƒ½çš„è¡¥å…¨ç»“æœã€‚æŒ‰ &lt;TAB&gt; å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¡¥å…¨ã€‚ å°ç»“ç›¸ä¿¡å­¦ä¼šäº†vimï¼Œä½ çš„ç¼–ç¨‹æ•ˆç‡èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œæ¢¦æƒ³è¿˜æ˜¯è¦æœ‰çš„ï¼Œè¶è¿˜å¹´è½»ã€‚","categories":[{"name":"ç¼–è¾‘å™¨","slug":"ç¼–è¾‘å™¨","permalink":"http://yoursite.com/categories/%E7%BC%96%E8%BE%91%E5%99%A8/"}],"tags":[{"name":"linux","slug":"linux","permalink":"http://yoursite.com/tags/linux/"},{"name":"vim","slug":"vim","permalink":"http://yoursite.com/tags/vim/"}]},{"title":"h5è§¦æ‘¸äº‹ä»¶å®ç°ç§»åŠ¨ç«¯è¿›åº¦æ¡","slug":"h5è§¦æ‘¸äº‹ä»¶å®ç°ç§»åŠ¨ç«¯è¿›åº¦æ¡","date":"2018-05-01T08:49:23.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2018/05/01/h5è§¦æ‘¸äº‹ä»¶å®ç°ç§»åŠ¨ç«¯è¿›åº¦æ¡/","link":"","permalink":"http://yoursite.com/2018/05/01/h5%E8%A7%A6%E6%91%B8%E4%BA%8B%E4%BB%B6%E5%AE%9E%E7%8E%B0%E7%A7%BB%E5%8A%A8%E7%AB%AF%E8%BF%9B%E5%BA%A6%E6%9D%A1/","excerpt":"","text":"å‰è¨€HTMLä¸­æ–°æ·»åŠ äº†è®¸å¤šæ–°çš„äº‹ä»¶ï¼Œä½†ç”±äºå…¼å®¹æ€§çš„é—®é¢˜,è®¸å¤šäº‹ä»¶éƒ½æ²¡æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œæ¥ä¸‹æ¥ä¸ºå¤§å®¶ä»‹ç»ä¸€äº›å¥½ç”¨çš„ç§»åŠ¨ç«¯è§¦æ‘¸äº‹ä»¶: touchstartã€touchmoveã€touchendã€‚ ä»‹ç»ä¸‹é¢æˆ‘ä»¬æ¥ç®€å•ä»‹ç»ä¸€ä¸‹è¿™å‡ ä¸ªäº‹ä»¶: touchstartï¼š å½“æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶å€™è§¦å‘ï¼Œå³ä½¿å·²ç»æœ‰ä¸€ä¸ªæ‰‹æŒ‡æ”¾åœ¨å±å¹•ä¸Šä¹Ÿä¼šè§¦å‘ã€‚ touchmoveï¼šå½“æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨çš„æ—¶å€™è¿ç»­åœ°è§¦å‘ã€‚åœ¨è¿™ä¸ªäº‹ä»¶å‘ç”ŸæœŸé—´ï¼Œè°ƒç”¨preventDefault()äº‹ä»¶å¯ä»¥é˜»æ­¢æ»šåŠ¨ã€‚ touchendï¼šå½“æ‰‹æŒ‡ä»å±å¹•ä¸Šç¦»å¼€çš„æ—¶å€™è§¦å‘ã€‚ è¿™äº›è§¦æ‘¸äº‹ä»¶å…·æœ‰å¸¸è§çš„domå±æ€§ã€‚æ­¤å¤–ï¼Œä»–ä»¬è¿˜åŒ…å«ç€ä¸‰ä¸ªç”¨äºè·Ÿè¸ªè§¦æ‘¸çš„å±æ€§ï¼š touchesï¼šè¡¨ç¤ºå½“å‰è·Ÿè¸ªçš„è§¦æ‘¸æ“ä½œçš„touchå¯¹è±¡çš„æ•°ç»„ã€‚ targetTouchesï¼šç‰¹å®šäºäº‹ä»¶ç›®æ ‡çš„Touchå¯¹è±¡çš„æ•°ç»„ã€‚ changeTouchesï¼šè¡¨ç¤ºè‡ªä¸Šæ¬¡è§¦æ‘¸ä»¥æ¥å‘ç”Ÿäº†ä»€ä¹ˆæ”¹å˜çš„Touchå¯¹è±¡çš„æ•°ç»„ã€‚ æ¯ä¸ªtouchå¯¹è±¡åŒ…å«çš„å±æ€§å¦‚ä¸‹ï¼š clientXï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„xåæ ‡ã€‚ clientYï¼šè§¦æ‘¸ç›®æ ‡åœ¨è§†å£ä¸­çš„yåæ ‡ã€‚ pageXï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„xåæ ‡ã€‚ pageYï¼šè§¦æ‘¸ç›®æ ‡åœ¨é¡µé¢ä¸­çš„yåæ ‡ã€‚ screenXï¼šscreenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ã€‚ screenYï¼šscreenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ã€‚ identifierï¼šæ ‡è¯†è§¦æ‘¸çš„å”¯ä¸€IDã€‚ targetï¼šscreenXï¼šè§¦æ‘¸ç›®æ ‡åœ¨å±å¹•ä¸­çš„xåæ ‡ã€‚ äº†è§£äº†è§¦æ‘¸äº‹ä»¶çš„ç‰¹å¾ï¼Œé‚£å°±å¼€å§‹ç´§å¼ åˆºæ¿€çš„å®æˆ˜ç¯èŠ‚å§ å®æˆ˜ä¸‹é¢æˆ‘ä»¬æ¥é€šè¿‡ä½¿ç”¨è§¦æ‘¸äº‹ä»¶æ¥å®ç°ä¸€ä¸ªç§»åŠ¨ç«¯å¯æ»‘åŠ¨çš„è¿›åº¦æ¡ æˆ‘ä»¬å…ˆè¿›è¡ŒHTMLçš„å¸ƒå±€ 1234&lt;div class=&quot;progress-wrapper&quot;&gt; &lt;div class=&quot;progress&quot;&gt;&lt;/div&gt; &lt;div class=&quot;progress-btn&quot;&gt;&lt;/div&gt;&lt;/div&gt; CSSéƒ¨åˆ†æ­¤å¤„çœç•¥ è·å–domå…ƒç´ ï¼Œå¹¶åˆå§‹åŒ–è§¦æ‘¸èµ·ç‚¹å’ŒæŒ‰é’®ç¦»å®¹å™¨æœ€å·¦æ–¹çš„è·ç¦» 1234567const progressWrapper = document.querySelector(&#x27;.progress-wrapper&#x27;)const progress = document.querySelector(&#x27;.progress&#x27;)const progressBtn = document.querySelector(&#x27;.progress-btn&#x27;)const progressWrapperWidth = progressWrapper.offsetWidthlet touchPoint = 0let btnLeft = 0 ç›‘å¬touchstartäº‹ä»¶ 12345progressBtn.addEventListener(&#x27;touchstart&#x27;, e =&gt; &#123; let touch = e.touches[0] touchPoint = touch.clientX // è·å–è§¦æ‘¸çš„åˆå§‹ä½ç½® btnLeft = parseInt(getComputedStyle(progressBtn, null)[&#x27;left&#x27;], 10) // æ­¤å¤„å¿½ç•¥IEæµè§ˆå™¨å…¼å®¹æ€§&#125;) ç›‘å¬touchmoveäº‹ä»¶ 1234567891011progressBtn.addEventListener(&#x27;touchmove&#x27;, e =&gt; &#123;e.preventDefault() let touch = e.touches[0] let diffX = touch.clientX - touchPoint // é€šè¿‡å½“å‰ä½ç½®ä¸åˆå§‹ä½ç½®ä¹‹å·®è®¡ç®—æ”¹å˜çš„è·ç¦» let btnLeftStyle = btnLeft + diffX // ä¸ºæŒ‰é’®å®šä¹‰æ–°çš„leftå€¼ touch.target.style.left = btnLeftStyle + &#x27;px&#x27; progress.style.width = (btnLeftStyle / progressWrapperWidth) * 100 + &#x27;%&#x27; // é€šè¿‡æŒ‰é’®çš„leftå€¼ä¸è¿›åº¦æ¡å®¹å™¨é•¿åº¦çš„æ¯”å€¼ï¼Œè®¡ç®—è¿›åº¦æ¡çš„é•¿åº¦ç™¾åˆ†æ¯”&#125;) é€šè¿‡ä¸€ç³»åˆ—çš„é€»è¾‘è¿ç®—ï¼Œæˆ‘ä»¬çš„è¿›åº¦æ¡å·²ç»åŸºæœ¬å®ç°äº†ï¼Œä½†æ˜¯å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå½“è§¦æ‘¸ä½ç½®è¶…å‡ºè¿›åº¦æ¡å®¹å™¨æ—¶ï¼Œä¼šäº§ç”Ÿbugï¼Œæˆ‘ä»¬å†æ¥åšä¸€äº›é™åˆ¶ 12345if (btnLeftStyle &gt; progressWrapperWidth) &#123; btnLeftStyle = progressWrapperWidth &#125; else if (btnLeftStyle &lt; 0) &#123; btnLeftStyle = 0&#125; è‡³æ­¤ï¼Œä¸€ä¸ªç®€å•çš„ç§»åŠ¨ç«¯æ»šåŠ¨æ¡å°±å®ç°äº†","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"HTML5","slug":"HTML5","permalink":"http://yoursite.com/tags/HTML5/"}]},{"title":"Reactä½¿ç”¨Better-Scrollå°è£…Scrollç»„ä»¶","slug":"Reactä½¿ç”¨Better-Scrollå°è£…Scrollç»„ä»¶","date":"2018-04-11T12:06:20.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2018/04/11/Reactä½¿ç”¨Better-Scrollå°è£…Scrollç»„ä»¶/","link":"","permalink":"http://yoursite.com/2018/04/11/React%E4%BD%BF%E7%94%A8Better-Scroll%E5%B0%81%E8%A3%85Scroll%E7%BB%84%E4%BB%B6/","excerpt":"","text":"Reactä½¿ç”¨Better-Scrollå°è£…Scrollç»„ä»¶better-scrollæ˜¯ä¸€ä¸ªç§»åŠ¨ç«¯æ»šåŠ¨æ’ä»¶ï¼ŒåŸºäºiscrollé‡å†™çš„ã€‚æ™®é€šçš„ç½‘é¡µæ»šåŠ¨æ•ˆæœæ˜¯å¾ˆæ­»æ¿çš„ï¼Œbetter-scrollå…·æœ‰æ‹‰ä¼¸ã€å›å¼¹çš„æ•ˆæœå¹¶ä¸”æ»šåŠ¨çš„æ—¶å€™å…·æœ‰æƒ¯æ€§ï¼Œå¾ˆæ¥è¿‘åŸç”Ÿä½“éªŒã€‚better-scrollæ›´å¤šç›¸å…³å†…å®¹è§githubåœ°å€ç›¸ä¿¡å¾ˆå¤šäººåœ¨vueä¸­éƒ½ç”¨è¿‡better-scrollï¼Œå› ä¸ºbetter-scrollçš„ä½œè€…å¾ˆå¥½çš„æŠŠå®ƒè¿ç”¨åœ¨äº†vueä¸­ï¼Œå‡ ä¹ä¸€è¯´åˆ°better-scrollå¤§å®¶å°±ä¼šæƒ³åˆ°vue(2333~~~)ã€‚å…¶å®better-scrollæ˜¯åˆ©ç”¨åŸç”Ÿjsç¼–å†™çš„ï¼Œæ‰€ä»¥åœ¨æ‰€æœ‰ä½¿ç”¨åŸç”Ÿjsçš„æ¡†æ¶ä¸­å‡ ä¹éƒ½èƒ½ä½¿ç”¨å®ƒï¼Œè¿™é‡Œæˆ‘å°†åœ¨Reactä¸­çš„è¿ç”¨better-scrollé¦–å…ˆåœ¨srcç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªcommonç›®å½•ç”¨æ¥å­˜æ”¾å…¬ç”¨çš„ç»„ä»¶ï¼Œæ–°å»ºscrollæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨scrollæ–‡ä»¶å¤¹ä¸‹æ–°å»ºScroll.jså’Œscroll.scssæ–‡ä»¶ã€‚å…ˆæ¥åˆ†æä¸€ä¸‹æ€ä¹ˆè®¾è®¡è¿™ä¸ªScrollç»„ä»¶ï¼Œbetter-scrollçš„åŸç†å°±æ˜¯å¤–å±‚ä¸€ä¸ªå›ºå®šé«˜åº¦çš„å…ƒç´ ï¼Œè¿™ä¸ªå…ƒç´ æœ‰ä¸€ä¸ªå­å…ƒç´ ï¼Œå½“å­å…ƒç´ çš„é«˜åº¦è¶…è¿‡çˆ¶å…ƒç´ æ—¶å°±å¯ä»¥å‘ç”Ÿæ»šåŠ¨ï¼Œé‚£ä¹ˆå­å…ƒç´ é‡Œé¢çš„å†…å®¹ä»ä½•è€Œæ¥ï¼ŸReactä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªpropsçš„childrenå±æ€§ç”¨æ¥è·å–ç»„ä»¶çš„å­ç»„ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨Scrollç»„ä»¶å»åŒ…è£¹éœ€è¦æ»šåŠ¨çš„å†…å®¹ã€‚åœ¨Scrollç»„ä»¶å†…éƒ¨çš„åˆ—è¡¨ï¼Œä¼šéšç€å¢åŠ æˆ–å‡å°‘åŸç”Ÿè€Œå‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¸ªæ—¶å€™å…ƒç´ çš„é«˜åº¦ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œbetter-scrolléœ€è¦é‡æ–°è®¡ç®—é«˜åº¦ï¼Œbetter-scrollä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªrefreshæ–¹æ³•ç”¨æ¥é‡æ–°è®¡ç®—ä»¥ä¿è¯æ­£å¸¸æ»šåŠ¨ï¼Œç»„ä»¶å‘ç”Ÿå˜åŒ–ä¼šè§¦å‘Reactçš„componentDidUpdateå‘¨æœŸå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢å¯¹better-scrollè¿›è¡Œåˆ·æ–°æ“ä½œï¼ŒåŒæ—¶éœ€è¦ä¸€ä¸ªpropsæ¥å‘Šè¯‰Scrollæ˜¯å¦refreshåˆ·æ–°ã€‚æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è°ƒç”¨Scrollç»„ä»¶å»åˆ·æ–°better-scrollï¼Œè¿™é‡Œå¯¹å¤–æš´éœ²ä¸€ä¸ªScrollç»„ä»¶çš„æ–¹æ³•ã€‚better-scrollé»˜è®¤æ˜¯ç¦æ­¢ç‚¹å‡»çš„ï¼Œéœ€è¦æä¾›ä¸€ä¸ªæ§åˆ¶æ˜¯å¦ç‚¹å‡»çš„propsï¼Œä¸ºäº†ç›‘å¬æ»šåŠ¨Scrolléœ€è¦å¯¹å¤–æš´éœ²ä¸€ä¸ªå‡½æ•°ï¼Œä¾¿äºä½¿ç”¨Scrollçš„ç»„ä»¶ç›‘å¬æ»šåŠ¨è¿›è¡Œå…¶ä»–æ“ä½œã€‚å½“ç»„ä»¶é”€æ¯æ—¶æˆ‘ä»¬æŠŠbetter-scrollç»‘å®šçš„äº‹ä»¶å–æ¶ˆä»¥åŠbetter-scrollå®ä¾‹ç»™é”€æ¯æ‰ï¼Œé‡Šæ”¾èµ„æº å®‰è£…better-scroll 1npm install better-scroll --save å¯¹ç»„ä»¶çš„propsè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè¿™é‡Œä½¿ç”¨prop-typesåº“ã€‚ç±»å‹æ£€æŸ¥æ˜¯ä¸ºäº†ææ—©å‘ç°å¼€å‘é—®é¢˜ï¼Œé¿å…ä¸€äº›bugäº§ç”Ÿ å®‰è£…props-types 1npm install prop-types --save ç¼–å†™Scrollç»„ä»¶ scroll.js 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364import React from &quot;react&quot;import ReactDOM from &quot;react-dom&quot;import PropTypes from &quot;prop-types&quot;import BScroll from &quot;better-scroll&quot;import &quot;./scroll.styl&quot;class Scroll extends React.Component &#123; componentDidUpdate() &#123; //ç»„ä»¶æ›´æ–°åï¼Œå¦‚æœå®ä¾‹åŒ–äº†better-scrollå¹¶ä¸”éœ€è¦åˆ·æ–°å°±è°ƒç”¨refresh()å‡½æ•° if (this.bScroll &amp;&amp; this.props.refresh === true) &#123; this.bScroll.refresh(); &#125; &#125; componentDidMount() &#123; this.scrollView = ReactDOM.findDOMNode(this.refs.scrollView); if (!this.bScroll) &#123; this.bScroll = new BScroll(this.scrollView, &#123; //å®æ—¶æ´¾å‘scrolläº‹ä»¶ probeType: 3, click: this.props.click &#125;); if (this.props.onScroll) &#123; this.bScroll.on(&quot;scroll&quot;, (scroll) =&gt; &#123; this.props.onScroll(scroll); &#125;); &#125; &#125; &#125; componentWillUnmount() &#123; this.bScroll.off(&quot;scroll&quot;); this.bScroll = null; &#125; refresh() &#123; if (this.bScroll) &#123; this.bScroll.refresh(); &#125; &#125; render() &#123; return ( &lt;div className=&quot;scroll-view&quot; ref=&quot;scrollView&quot;&gt; &#123;/*è·å–å­ç»„ä»¶*/&#125; &#123;this.props.children&#125; &lt;/div&gt; ); &#125;&#125;Scroll.defaultProps = &#123; click: true, refresh: false, onScroll: null&#125;;Scroll.propTypes = &#123; //æ˜¯å¦å¯ç”¨ç‚¹å‡» click: PropTypes.bool, //æ˜¯å¦åˆ·æ–° refresh: PropTypes.bool, onScroll: PropTypes.func&#125;;export default Scroll ä¸Šè¯‰ä»£ç ä¸­refå±æ€§æ¥æ ‡è®°divå…ƒç´ ï¼Œä½¿ç”¨ReactDOM.findDOMNodeå‡½æ•°æ¥è·å–domå¯¹è±¡ï¼Œç„¶åä¼ å…¥better-scrollæ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ã€‚åœ¨Scrollç»„ä»¶ä¸­è°ƒç”¨å¤–éƒ¨ç»„ä»¶çš„æ–¹æ³•åªéœ€è¦æŠŠå¤–éƒ¨ç»„ä»¶çš„å‡½æ•°é€šè¿‡propsä¼ å…¥å³å¯ï¼Œè¿™é‡Œå°±æ˜¯onScrollå‡½æ•° scroll.scss 12345.scroll-view &#123; width: 100%; height: 100%; overflow: hidden;&#125; scroll.stylä¸­å°±æ˜¯ä¸€ä¸ªåŒ¹é…çˆ¶å®¹å™¨å®½é«˜çš„æ ·å¼ æ¥ä¸‹æ¥åœ¨Recommendç»„ä»¶ä¸­åŠ å…¥Scrollç»„ä»¶ï¼Œå¯¼å…¥Scrollç»„ä»¶ 1import Scroll from &#x27;@/common/scroll/Scroll&#x27; åœ¨stateä¸­å¢åŠ refreshScrollç”¨æ¥æ§åˆ¶Scrollç»„ä»¶æ˜¯å¦åˆ·æ–° 123this.state = &#123; refreshScroll: false&#125;; ä½¿ç”¨Scrollç»„ä»¶åŒ…è£¹éœ€è¦çš„å†…å®¹ 123&lt;Scroll refresh=&#123;this.state.refreshScroll&#125;&gt; // æˆ‘æ˜¯å†…å®¹å•Š&lt;/Scroll&gt;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"}]},{"title":"hexoçš„ä½¿ç”¨ä¸éƒ¨ç½²","slug":"hexoçš„ä½¿ç”¨ä¸éƒ¨ç½²","date":"2018-03-18T09:18:20.000Z","updated":"2022-06-06T03:22:14.524Z","comments":true,"path":"2018/03/18/hexoçš„ä½¿ç”¨ä¸éƒ¨ç½²/","link":"","permalink":"http://yoursite.com/2018/03/18/hexo%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E9%83%A8%E7%BD%B2/","excerpt":"","text":"github pageåœ¨github ä¸Šçš„é¡¹ç›®åç§°å¿…é¡»å’Œè‡ªå·±ç”¨æˆ·åä¸€æ · è‡ªå·±çš„ç”¨æˆ·åæ˜¯aaaé¡¹ç›®åå¾—æ˜¯ aaa.github.io å®‰è£…hexo ,ä¸€äº›å·¥å…·(git,node) ç•¥è¿‡ å…³è” Hexo ä¸ GitHub Pagesæˆ‘ä»¬å¦‚ä½•è®©æœ¬åœ°gité¡¹ç›®ä¸è¿œç¨‹çš„githubå»ºç«‹è”ç³»å‘¢ï¼Ÿç”¨ SSH keys ç”ŸæˆSSH keysè¾“å…¥ä½ è‡ªå·±çš„é‚®ç®±åœ°å€1ssh-keygen -t rsa -C &quot;940166841@qq.com&quot;åœ¨å›è½¦ä¸­ä¼šæç¤ºä½ è¾“å…¥ä¸€ä¸ªå¯†ç ï¼Œè¿™ä¸ªå¯†ç ä¼šåœ¨ä½ æäº¤é¡¹ç›®æ—¶ä½¿ç”¨ï¼Œå¦‚æœä¸ºç©ºçš„è¯æäº¤é¡¹ç›®æ—¶åˆ™ä¸ç”¨è¾“å…¥ï¼Œæˆ‘ä»¬æŒ‰å›è½¦ä¸è®¾ç½®å¯†ç ã€‚ æ·»åŠ  SSH Key åˆ° GitHubæ‰“å¼€ C:\\Users\\lizhihao \\ .ssh\\id_rsa.pubï¼Œæ­¤æ–‡ä»¶é‡Œé¢å†…å®¹ä¸ºåˆšæ‰ç”Ÿæˆçš„å¯†é’¥ï¼Œå‡†ç¡®çš„å¤åˆ¶è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œç²˜è´´åˆ° https://github.com/settings/ssh çš„ new SSH key ä¸­ æµ‹è¯•å¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œçœ‹çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸï¼Œgit@github.comçš„éƒ¨åˆ†ä¸è¦ä¿®æ”¹ï¼š1ssh -T git@github.com å¦‚æœæ˜¯ä¸‹é¢çš„åé¦ˆï¼š The authenticity of host â€˜github.com (207.97.227.239)â€™ canâ€™t be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to continue connecting (yes/no)? ä¸è¦ç´§å¼ ï¼Œè¾“å…¥yeså°±å¥½ï¼Œç„¶åä¼šçœ‹åˆ°ï¼š Hi Lizhihao97! Youâ€™ve successfully authenticated, but GitHub does not provide shell access. é…ç½®Gitä¸ªäººä¿¡æ¯ç°åœ¨ä½ å·²ç»å¯ä»¥é€šè¿‡ SSH é“¾æ¥åˆ° GitHub äº†ï¼Œè¿˜æœ‰ä¸€äº›ä¸ªäººä¿¡æ¯éœ€è¦å®Œå–„çš„ã€‚Git ä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ã€‚GitHub ä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆä½ è‡ªå·±çš„ã€‚12git config --global user.name &quot;lizhihao97&quot;git config --global user.email &quot;940166841@qq.com&quot; é…ç½® Deploymentåœ¨_config.ymlæ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°Deploymentï¼Œç„¶åæŒ‰ç…§å¦‚ä¸‹ä¿®æ”¹ï¼Œç”¨æˆ·åæ”¹æˆä½ çš„ï¼š éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå†’å·åé¢è®°å¾—ç©ºä¸€æ ¼ï¼123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: git@github.com:lizhihao97/lizhihao97.github.io.git branch: master æœ¬åœ°æ–‡ä»¶æäº¤åˆ° GitHub Pages12345678910111213// åˆ é™¤æ—§çš„ public æ–‡ä»¶hexo clean// ç”Ÿæˆæ–°çš„ public æ–‡ä»¶hexo generateæˆ–è€…hexo g// å¼€å§‹éƒ¨ç½²hexo deployeæˆ–è€…hexo dåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ https://lizhihao97.github.io ï¼ˆç”¨æˆ·åæ”¹æˆä½ çš„ï¼‰çœ‹åˆ°äº† Hexo ä¸ GitHub Pages å·²ç»æˆåŠŸå…³è”äº† æ³¨æ„1ï¼šè‹¥ä¸Šé¢æ“ä½œå¤±è´¥ï¼Œåˆ™éœ€è¦æå‰å®‰è£…ä¸€ä¸ªæ‰©å±•ï¼š1npm install hexo-deployer-git --save å†™æ–‡ç« å†™ä¸€ç¯‡æ–‡ç« ,é»˜è®¤æ˜¯ä»¥postä½œä¸ºæ¨¡æ¿12hexo new first(æ–‡ç« å)tagsé‡Œé¢å†™æ ‡ç­¾1234567tags:- å‰ç«¯- åç«¯åˆ†ç±»categories:- æŠ€æœ¯ ç”Ÿæˆé¡µé¢1hexo new page about //ä»¥page ä½œä¸ºæ¨¡ç‰ˆ,ä¼šè‡ªåŠ¨ç”Ÿæˆé‡Œé¢çš„index.md æœç´¢åŠŸèƒ½çš„å®ç° https://github.com/alexbruno/hexo-generator-json-content éƒ¨åˆ†å­¦ä¹ è‡ªï¼šhttp://www.jianshu.com/p/39562a0d8eb6 å‡ºé”™éƒ¨ç½²å‡ºé”™Error: Host key verification failed.fatal: Could not read from remote repository.Please make sure you have the correct access rights and the repository exists. è§£å†³æ–¹æ³•ï¼šæ¡ä»¶SSHkey$ ssh-keygen -t rsa -C â€œimsofter@163.comâ€ä¸‰æ¬¡å›è½¦ï¼Œå³å¯è®¾ç½®å¯†ç ä¸ºç©º å°†ç”Ÿæˆçš„C:\\Users\\ç”¨æˆ·å.sshç›®å½•ä¸‹çš„id_rsa.pubæ·»åŠ åˆ°githubä¸Š å†æµ‹è¯•æ˜¯å¦å¯ä»¥è¿æ¥åˆ°githubä¸Šï¼Œ$ ssh git@github.comHi imsofter! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.Connection to github.com closed.","categories":[{"name":"è¿ç»´","slug":"è¿ç»´","permalink":"http://yoursite.com/categories/%E8%BF%90%E7%BB%B4/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"}]},{"title":"reactç”Ÿå‘½å‘¨æœŸè¯¦è§£","slug":"reactç”Ÿå‘½å‘¨æœŸè¯¦è§£","date":"2017-06-27T12:14:02.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2017/06/27/reactç”Ÿå‘½å‘¨æœŸè¯¦è§£/","link":"","permalink":"http://yoursite.com/2017/06/27/react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E8%AF%A6%E8%A7%A3/","excerpt":"","text":"ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸåˆ†æˆä¸‰ä¸ªçŠ¶æ€ Mountingï¼šå·²æ’å…¥çœŸå® DOM Updatingï¼šæ­£åœ¨è¢«é‡æ–°æ¸²æŸ“ Unmountingï¼šå·²ç§»å‡ºçœŸå® DOM Mounting(è£…è½½) getInitialState(): åœ¨ç»„ä»¶æŒ‚è½½ä¹‹å‰è°ƒç”¨ä¸€æ¬¡ã€‚è¿”å›å€¼å°†ä¼šä½œä¸º this.state çš„åˆå§‹å€¼ã€‚ componentWillMount()ï¼šæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯éƒ½åªè°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨åˆå§‹åŒ–æ¸²æŸ“æ‰§è¡Œä¹‹å‰ç«‹åˆ»è°ƒç”¨ã€‚ä¸ä¼šè§¦å‘å†æ¬¡æ¸²æŸ“ã€‚ componentDidMount()ï¼šåœ¨åˆå§‹åŒ–æ¸²æŸ“æ‰§è¡Œä¹‹åç«‹åˆ»è°ƒç”¨ä¸€æ¬¡ï¼Œä»…å®¢æˆ·ç«¯æœ‰æ•ˆï¼ˆæœåŠ¡å™¨ç«¯ä¸ä¼šè°ƒç”¨ï¼‰,å¯ä»¥è®¾ç½®stateï¼Œä¼šè§¦å‘å†æ¬¡æ¸²æŸ“ï¼Œç»„ä»¶å†…éƒ¨å¯ä»¥é€šè¿‡ Updating (æ›´æ–°) componentWillReceiveProps(nextProps) åœ¨ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„ props çš„æ—¶å€™è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ¸²æŸ“çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•ä¸ä¼šè°ƒç”¨ã€‚é€šå¸¸å¯ä»¥è°ƒç”¨this.setStateæ–¹æ³•æ¥æ¯”è¾ƒthis.propså’ŒnextPropsçš„æ‰§è¡ŒçŠ¶æ€ï¼Œå®Œæˆå¯¹stateçš„ä¿®æ”¹ã€‚åœ¨è¯¥å‡½æ•°ä¸­è°ƒç”¨ this.setState() å°†ä¸ä¼šå¼•èµ·ç¬¬äºŒæ¬¡æ¸²æŸ“ã€‚ shouldComponentUpdate(nextProps,nextState): åœ¨æ¥æ”¶åˆ°æ–°çš„ props æˆ–è€… stateï¼Œå°†è¦æ¸²æŸ“ä¹‹å‰è°ƒç”¨ã€‚è¯¥æ–¹æ³•ç”¨æ¥æ‹¦æˆªæ–°çš„propsæˆ–stateï¼Œç„¶ååˆ¤æ–­æ˜¯å¦æ›´æ–°ç»„ä»¶ è¯¥æ–¹æ³•åœ¨åˆå§‹åŒ–æ¸²æŸ“çš„æ—¶å€™ä¸ä¼šè°ƒç”¨ï¼Œåœ¨ä½¿ç”¨ forceUpdate æ–¹æ³•çš„æ—¶å€™ä¹Ÿä¸ä¼šã€‚å¦‚æœç¡®å®šæ–°çš„ props å’Œ state ä¸ä¼šå¯¼è‡´ç»„ä»¶æ›´æ–°ï¼Œåˆ™æ­¤å¤„åº”è¯¥ è¿”å› falseã€‚ componentWillUpdate(nextProps, nextState)ï¼šåœ¨æ¥æ”¶åˆ°æ–°çš„ props æˆ–è€… state ä¹‹å‰ç«‹åˆ»è°ƒç”¨ï¼Œå³æ›´æ–°ä¹‹å‰è°ƒç”¨ åœ¨åˆå§‹åŒ–æ¸²æŸ“çš„æ—¶å€™è¯¥æ–¹æ³•ä¸ä¼šè¢«è°ƒç”¨ã€‚ä½¿ç”¨è¯¥æ–¹æ³•åšä¸€äº›æ›´æ–°ä¹‹å‰çš„å‡†å¤‡å·¥ä½œã€‚ æ³¨æ„ï¼šä½ ä¸èƒ½åœ¨è¯¥æ–¹æ³•ä¸­ä½¿ç”¨ this.setState()ã€‚å¦‚æœéœ€è¦æ›´æ–° state æ¥å“åº”æŸä¸ª prop çš„æ”¹å˜ï¼Œè¯·ä½¿ç”¨ componentWillReceivePropsã€‚ componentDidUpdate(prevProps, prevState): åœ¨ç»„ä»¶çš„æ›´æ–°å·²ç»åŒæ­¥åˆ° DOM ä¸­ä¹‹åç«‹åˆ»è¢«è°ƒç”¨ã€‚ è¯¥æ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ¸²æŸ“çš„æ—¶å€™è°ƒç”¨ã€‚ä½¿ç”¨è¯¥æ–¹æ³•å¯ä»¥åœ¨ç»„ä»¶æ›´æ–°ä¹‹åæ“ä½œ DOM å…ƒç´ ã€‚ Unmounting(ç§»é™¤) componentWillUnmountï¼šåœ¨ç»„ä»¶ä» DOM ä¸­ç§»é™¤çš„æ—¶å€™ç«‹åˆ»è¢«è°ƒç”¨ã€‚ åœ¨è¯¥æ–¹æ³•ä¸­æ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†,æ”¶å°¾å·¥ä½œï¼Œæ¯”å¦‚æ— æ•ˆçš„å®šæ—¶å™¨ï¼Œæˆ–è€…æ¸…é™¤åœ¨ componentDidMount ä¸­åˆ›å»ºçš„ DOM å…ƒç´ ã€‚ å‚è€ƒæ–‡ç« : React-Nativeä¹‹Reacté€Ÿå­¦æ•™ç¨‹-(ä¸­)/) reactç”Ÿå‘½å‘¨æœŸ","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"Javascript","slug":"Javascript","permalink":"http://yoursite.com/tags/Javascript/"},{"name":"React","slug":"React","permalink":"http://yoursite.com/tags/React/"},{"name":"ç”Ÿå‘½å‘¨æœŸ","slug":"ç”Ÿå‘½å‘¨æœŸ","permalink":"http://yoursite.com/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"},{"name":"æ¡†æ¶","slug":"æ¡†æ¶","permalink":"http://yoursite.com/tags/%E6%A1%86%E6%9E%B6/"}]},{"title":"åœ¨javascriptä½¿ç”¨es6,es7","slug":"åœ¨javascriptä½¿ç”¨es6-es7","date":"2017-02-13T12:33:43.000Z","updated":"2022-06-06T03:22:14.525Z","comments":true,"path":"2017/02/13/åœ¨javascriptä½¿ç”¨es6-es7/","link":"","permalink":"http://yoursite.com/2017/02/13/%E5%9C%A8javascript%E4%BD%BF%E7%94%A8es6-es7/","excerpt":"","text":"const1234567const a=3; //å®šä¹‰å¸¸é‡// å¦‚æœè¦ç”¨es 5çš„æ–¹å¼æ€ä¹ˆå†™å‘¢ï¼Ÿï¼ŸObject.defineProperty(window, &quot;a&quot;, &#123; value: 37, writable: false,&#125;);console.log(window.a) ä½œç”¨åŸŸes6çš„ä½œç”¨åŸŸ123456for (let i = 0; i &lt; 10; i++) &#123; // ...&#125;console.log(i);// ReferenceError: i is not definedåœ¨es5ä¸­,å¹¶æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå…ˆç”¨es5å†™ä¸€ä¸ªä½œç”¨åŸŸçœ‹çœ‹ 123456789101112var a = [];for (var i = 0; i &lt; 10; i++) &#123; a[i] = function () &#123; console.log(i); &#125;;&#125;a[6](); // 10a[5](); // 10a[4](); // 10a[3](); // 10a[2](); // 10a[1](); // 10 ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡iæ˜¯varå‘½ä»¤å£°æ˜çš„ï¼Œåœ¨å…¨å±€èŒƒå›´å†…éƒ½æœ‰æ•ˆï¼Œæ‰€ä»¥å…¨å±€åªæœ‰ä¸€ä¸ªå˜é‡iã€‚æ¯ä¸€æ¬¡å¾ªç¯ï¼Œå˜é‡içš„å€¼éƒ½ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè€Œå¾ªç¯å†…è¢«èµ‹ç»™æ•°ç»„açš„å‡½æ•°å†…éƒ¨çš„console.log(i)ï¼Œé‡Œé¢çš„iæŒ‡å‘çš„å°±æ˜¯å…¨å±€çš„iã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰æ•°ç»„açš„æˆå‘˜é‡Œé¢çš„iï¼ŒæŒ‡å‘çš„éƒ½æ˜¯åŒä¸€ä¸ªiï¼Œå¯¼è‡´è¿è¡Œæ—¶è¾“å‡ºçš„æ˜¯æœ€åä¸€è½®çš„içš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 10ã€‚ ES6 å®šä¹‰å±æ€§es5æ€ä¹ˆå†™å‘¢12345678var x = 1, y = 2;var object = &#123; x: x, y: y&#125;;console.log(object.x); //output &quot;1&quot;```javascriptåœ¨es6ä¸­//ç»™ä¸€ä¸ªå±æ€§èµ‹ä¸€ä¸ªå˜é‡å€¼ï¼Œå¦‚æœå˜é‡åå’Œå±æ€§åç›¸åŒï¼ŒES6 æä¾›äº†ä¸€ä¸ªç®€æ´çš„è¯­æ³•ï¼Œå¯ä»¥çœç•¥å˜é‡å let x = 1, y = 2;let object = { x, y};console.log(object.x); //output â€œ1â€12345678910111213141516171819202122232425262728293031### ç®­å¤´å‡½æ•°```javascript// es5ä¸­çš„thisvar A = function () &#123; this.a = &#x27;a&#x27;; this.b = &#x27;b&#x27;; this.c = &#123; a: &#x27;a++&#x27;, b: function () &#123; console.log(this.a); &#125; &#125;&#125;console.log(new A().c.b()) // a++ å› ä¸ºes5ä¸­çš„thiså³è°è°ƒç”¨å®ƒï¼Œthiså°±æŒ‡å‘è°//es6var A = function () &#123; this.a = &#x27;a&#x27;; this.b = &#x27;b&#x27;; this.c = &#123; a: &#x27;a++&#x27;, b: ()=&gt;&#123; console.log(this.a); &#125; &#125;&#125;console.log(new A().c.b()) // a,ç®­å¤´å‡½æ•°thisçš„æŒ‡å‘æ˜¯å®šä¹‰æ—¶thisçš„æŒ‡å‘ï¼Œbå‡½æ•°åœ¨å®šä¹‰çš„æ—¶å€™thiså°±æŒ‡å‘å‡½æ•°ä½“é‡Œé¢çš„this 123456//å¸¦æœ‰é»˜è®¤å‚æ•°çš„ç®­å¤´å‡½æ•°let hello =(name=&#x27;world&#x27;)=&gt;&#123; console.log(`hello $&#123;name&#125;`) //æ³¨æ„è¿™è¾¹ä¸æ˜¯å•å¼•å·&#125;hello() //hello worldhello(&#x27;skl&#x27;)//hello skl 1234//å¤šä¸ªå‚æ•°let cal1 =(num1,num2)=&gt;num1*num2let arr=[6,7]console.log(cal1(...arr))//å±•å¼€ 123456789function hello(name1,name2)&#123; console.log(name1,name2)&#125;let arr =[&#x27;skl1&#x27;,&#x27;skl2&#x27;];//es5//hello.apply(null,arr)//es6hello(...arr) é»˜è®¤å‚æ•°123456789// es5function a(x,y ) &#123; x=x||1; y=y||2;&#125;// es6function b(x=1,y=2)&#123; return x+y;&#125; å¯å˜å‚æ•°12345678910111213141516171819202122232425262728293031323334353637&#123; //es5 function f() &#123; var a = Array.prototype.slice.call(arguments); var sum = 0; a.forEach(function (item) &#123; sum += item; &#125;) return sum; &#125; console.log(f(1, 2, 3, 4)) &#125;&#123; //es5 function f(...a) &#123; var sum = 0; a.forEach(function (item) &#123; sum += item; &#125;) return sum; &#125; console.log(f(1, 2, 3, 4)) &#125;// æ‰©å±•è¿ç®—ç¬¦çš„ä½¿ç”¨// åˆå¹¶æ•°ç»„ es5&#123; var a=[1,2,4]; var b=[11,111,111]; var c=b.concat(a); console.log(c)&#125;// åˆå¹¶æ•°ç»„ es6è¿ç”¨æ‰©å±•è¿ç®—ç¬¦&#123; var a=[1,2,4]; var b=[11,111,111]; var c=[...a,...b]; console.log(c)&#125; å¯¹è±¡æ‰©å±•1234567var obj=&#123; name:&#x27;skl&#x27;, age:18,&#125;console.log(Object.keys(obj))//[&quot;name&quot;,&quot;age&quot;]console.log(Object.values(obj))//[&quot;skl&quot;,18]console.log(Object.entries(obj))// key å’Œvalueå˜æˆä¸€ä¸ªæ•°ç»„ 123456789const name = &#x27;skl&#x27;const age=&#x27;nian&#x27;;const height=&#x27;shengao&#x27;const obj = &#123; [age]:18, height&#125;obj[name] = &#x27;hello skl&#x27;;console.log(obj)//&#123;nian: 18, height: &quot;shengao&quot;, skl: &quot;hello skl&quot;&#125; 1234const obj1=&#123;name:&#x27;skl&#x27;,age:18&#125;const obj2=&#123;type:&#x27;ha&#x27;,aa:90&#125;console.log(&#123;...obj1,...obj2&#125;)//&#123;name: &quot;skl&quot;, age: 18, type: &quot;ha&quot;, aa: 90&#125; 12345678//ç»“æ„èµ‹å€¼const arr =[&#x27;skl&#x27;,&#x27;sk2&#x27;];let [arg1,arg2]=arr;console.log(arg1,arg2)//skl sk2const obj=&#123;nian: 18, height: &quot;shengao&quot;, skl: &quot;hello skl&quot;&#125;const &#123;nian,height&#125;=obj;console.log(nian,height)//18 shengao ä»£ç†åšæ•°æ®ä¿æŠ¤es5ä¸­çš„æ•°æ®ä¿æŠ¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&#123; // æ•°æ®ä¿æŠ¤ï¼ˆç›¸å½“äºç§æœ‰å˜é‡ï¼‰es5çš„å†™æ³•,å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•° var Person = function () &#123; var data = &#123; name: &#x27;es5&#x27;, sex: &#x27;male&#x27;, age: 20 &#125; // getter å’Œsetter this.get = function (key) &#123; return data[key] &#125; this.set = function (key, value) &#123; if (key !== &#x27;sex&#x27;) &#123; data[key] = value; &#125; &#125; &#125; // å£°æ˜å®ä¾‹ var person = new Person(); // è¯»å– console.table(&#123; name: person.get(&#x27;name&#x27;), sex: person.get(&#x27;sex&#x27;), aeg: person.get(&#x27;ageqe3w&#x27;) &#125;) // ä¿®æ”¹ person.set(&#x27;name&#x27;, &#x27;å•¦å•¦å•¦&#x27;);// è¿™æ—¶å€™consoleçš„ç»“æœå°±ä¼šå˜äº† person.set(&#x27;sex&#x27;, &#x27;male&#x27;)// consoleå‡ºæ¥å‘ç°æ²¡æœ‰ç”¨å› ä¸ºæ•°æ®è¢«ä¿æŠ¤äº†&#125;&#123; // å¦ä¸€ç§å†™æ³• var Person = &#123; name: &#x27;skl&#x27;, age: 10, &#125; // sexåªå¯è¯»ä¸å¯å†™ Object.defineProperties(Person, &#x27;sex&#x27;, &#123; writeable: false, value: &#x27;male&#x27;, &#125;) console.table(&#123; name: Person.name, age: Person.age, sex: Person.sex, &#125;) // è‹¥å¼ºè¡Œç»™åªè¯»å±æ€§å¤åˆ¶ä¼šæŠ¥é”™&#125; es6ä¸­é€šè¿‡ä»£ç†çš„æ–¹å¼åšæ•°æ®ä¿æŠ¤12345678910111213141516171819&#123; // esçš„ä»£ç† let Person = &#123; name: &#x27;11&#x27;, age: 11, sex: &#x27;male&#x27; &#125; //personæ˜¯æš´éœ²ç»™ç”¨æˆ·çš„ï¼Œå§ä¸Šé¢çš„Personä¿æŠ¤èµ·æ¥ let person = new Proxy(Person, &#123; get(target, key) &#123; return target[key] &#125;, set(target, key, value) &#123; if (key !== &#x27;sex&#x27;) &#123; target[key] = value; &#125; &#125; &#125;)&#125; å­—ç¬¦ä¸²æ‹¼æ¥åœ¨es5ä¸­ï¼Œå‡­å€Ÿå­—ç¬¦ä¸²è¦ä¸æ–­çš„+,å°¤å…¶æ˜¯åœ¨htmlæ¨¡æ¿çš„æ—¶å€™ï¼Œå˜å¾—ç‰¹åˆ«ä¸æ–¹ä¾¿1234const a=3;console.log(`skl$&#123;a&#125;`)//skl3`Hello $&#123;&#x27;World&#x27;&#125;`// &quot;Hello World&quot; forâ€¦ ofâ€¦12345678910var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];var iterator = arr.entries();console.log(iterator) //Array Iterator &#123;&#125;for (let e of iterator) &#123; //è¿”å›æœ‰ä¸‹æ ‡çš„æ•°ç»„ console.log(e) //[0, &quot;a&quot;] //[1, &quot;b&quot;] //[2, &quot;c&quot;]&#125; 1234567var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];var iterator = arr;for (let e of iterator) &#123; console.log(e); //a b c&#125; 123456789var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];var iterator = arr.entries();for (let [index,e] of iterator) &#123; console.log(index,e); // 0 &quot;a&quot; // 1 &quot;b&quot; // 2 &quot;c&quot;&#125; 123456789var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];var iterator = arr.entries();for (let [index,e] of iterator) &#123; console.log(e);&#125;// a // b// c promise123456789101112131415161718192021222324252627282930313233343536373839let state = 1;function step1(resolve, reject) &#123; console.log(&#x27;1.å¼€å§‹-åšé¥­&#x27;); if (state == 1) &#123; resolve(&#x27;åšé¥­--å®Œæˆ&#x27;); &#125; else &#123; reject(&#x27;åšé¥­--å‡ºé”™&#x27;); &#125;&#125;function step2(resolve, reject) &#123; console.log(&#x27;2.å¼€å§‹-åƒé¥­&#x27;); if (state == 1) &#123; resolve(&#x27;åƒé¥­--å®Œæˆ&#x27;); &#125; else &#123; reject(&#x27;åƒé¥­--å‡ºé”™&#x27;); &#125;&#125;function step3(resolve, reject) &#123; console.log(&#x27;3.å¼€å§‹-æ”¶æ‹¾&#x27;); if (state == 1) &#123; resolve(&#x27;æ”¶æ‹¾--å®Œæˆ&#x27;); &#125; else &#123; reject(&#x27;æ”¶æ‹¾--å‡ºé”™&#x27;); &#125;&#125;new Promise(step1) .then(function (val) &#123; console.log(val) return new Promise(step2) &#125;) .then(function (val) &#123; console.log(val) return new Promise(step3) &#125;).then(function (val) &#123; console.log(val) &#125;) async12345async function testAsync()&#123; return &#x27;hello async&#x27;&#125;const result =testAsync();console.log(result); // è¿”å›çš„æ˜¯ä¸€ä¸ªpromise 12345678910111213141516function getSomething()&#123; return &#x27;something&#x27;&#125;async function testAsync()&#123; return &#x27;hello async&#x27;&#125;async function test()&#123; const v1 = await getSomething(); const v2 = await testAsync(); console.log(v1,v2)&#125;test() æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚12345678910111213function takeLongTime()&#123; return new Promise(resolve=&gt;&#123; setTimeout(()=&gt;&#123; resolve(&quot;long_time_value&quot;) &#125;,1000) &#125;)&#125;async function test()&#123; const v = await takeLongTime() console.log(v)&#125;test()","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/tags/%E5%89%8D%E7%AB%AF/"},{"name":"javascript","slug":"javascript","permalink":"http://yoursite.com/tags/javascript/"},{"name":"es6","slug":"es6","permalink":"http://yoursite.com/tags/es6/"},{"name":"es7s","slug":"es7s","permalink":"http://yoursite.com/tags/es7s/"}]}]}