---
title: 闭包的一些应用（防抖、节流、函数柯里化）
date: 2022-03-20 19:17:24
index_img: https://image-1253774868.cos.ap-nanjing.myqcloud.com/img/image-20220320172852864.png
categories:
 - 前端
tags:
  - Javascript
  - 闭包
---

## 防抖（debounce）

``` javascript
function debounce(fn, timeout){
  let timer = null
  return function(...args){
    if (timer) clearTimeout(timer)
    timer = setTimeout(() => {
    	fn.apply(this, args)
    }, timeout)
  }
}
```

## 节流（throttle）

``` javascript
function throttle(fn, timeout) {
  let timer = null
  return function (...args) {
    if(timer) return
    timer = setTimeout(() => {
      fn.apply(this, args)
      timer = null
    }, timeout)
  }
}
```

## 函数柯里化（Currying）

``` javascript
function dynamicAdd() {
    return [...arguments].reduce((a, b) => a + b);
}

function curry(fn) {
    const args = [];

    const add = function() {
        args.push(...arguments);
        return add;
    }

    add.toString = function() {
        return fn.apply(null, args)
    }
    return add;
}

const add = curry(dynamicAdd);

console.log(+add(1)) // 1
console.log(+add(1)(2)) // 2
console.log(+add(1)(2)(3)) // 4
console.log(+add(1, 2, 3)(4, 5)) // 25
```